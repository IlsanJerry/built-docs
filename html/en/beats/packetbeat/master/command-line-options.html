<!DOCTYPE html>
<html lang="en-us">
  <head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Packetbeat command reference
        | Packetbeat Reference [master]
      | Elastic
    </title><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Packetbeat Reference [master]" /><link rel="up" href="setting-up-and-running.html" title="Setting up and running Packetbeat" /><link rel="prev" href="keystore.html" title="Secrets keystore for secure settings" /><link rel="next" href="running-on-docker.html" title="Running Packetbeat on Docker" /><meta name="description" content="Get started with the documentation for Elasticsearch, Kibana, Logstash, Beats, X-Pack, Elastic Cloud, Elasticsearch for Apache Hadoop, and our language clients." /><meta name="DC.type" content="Learn/Docs/Packetbeat/Reference/master" /><meta name="DC.subject" content="Packetbeat" /><meta name="DC.identifier" content="master" />
    
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="apple-touch-icon" sizes="57x57" href="/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-icon-180x180.png">
    <link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="/android-chrome-192x192.png" sizes="192x192">
    <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
    <link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
    <link rel="manifest" href="/manifest.json">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#ffffff">
    <meta name="apple-mobile-web-app-title" content="Elastic">
    <meta name="application-name" content="Elastic">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/mstile-144x144.png">
    <meta name="theme-color" content="#ffffff">
    <meta name="naver-site-verification" content="936882c1853b701b3cef3721758d80535413dbfd" />
    <meta name="yandex-verification" content="d8a47e95d0972434" />
    <!-- DC tags section -->
    <link rel="schema.DC" href="http://purl.org/dc/elements/1.1/" >
    <link rel="schema.DCTERMS" href="http://purl.org/dc/terms/" >
    
    <!-- end DC tags -->
    <meta name="description" content="" />
    <meta name="localized" content="true" />
    <meta property="og:image" content="https://www.elastic.co/static/images/elastic-logo-200.png" />
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <!-- For third-generation iPad with high-resolution Retina display: -->
    <link rel="apple-touch-icon-precomposed" sizes="64x64" href="/favicon_64x64_16bit.png">
    <!-- For iPhone with high-resolution Retina display: -->
    <link rel="apple-touch-icon-precomposed" sizes="32x32" href="/favicon_32x32.png">
    <!-- For first- and second-generation iPad: -->
    <link rel="apple-touch-icon-precomposed" sizes="16x16" href="/favicon_16x16.png">
    <!-- css -->
    <script src="/static/js/jquery.min.js"></script>
    <script src="/static/js/bootstrap.min.js"></script>
    <script src="/static/js/jquery.cookie.js"></script>
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <script type="text/javascript">
      // -------------------- set language based on browser language --------------------
      var lang = '/'+(navigator.language || navigator.userLanguage).slice(0,2)+'/',
      locales = {
        '/en':'/',
        '/de/': '/de/',
        '/fr/': '/fr/',
        '/ja/':'/jp/',
        '/ko/':'/kr/',
        '/zh/':'/cn/',
        '/es/': '/es/'
      },
      localeUrl = '{"relative_url_prefix":"/","code":"en-us","display_code":"en-us","url":"/guide_template"}',
      currentlocale = JSON.parse(localeUrl).relative_url_prefix;

      if($.cookie("is_lang_detected") == undefined){
        if(locales[lang] != undefined && locales[lang] != currentlocale){
          locale_lang_url = locales[lang] + window.location.pathname.slice(1,window.location.pathname.length);
          $.cookie("is_lang_detected",true ,{ path: '/'});
          window.location = locale_lang_url;
        }
      }
            
      // --------------------- end of set language based on browser language -----------------
    </script>
    <link rel="stylesheet" type="text/css" href="/guide/static/styles.css" />
  

</head>

  <body>
    <!-- Google Tag Manager -->
    <script>dataLayer = [];</script><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-58RLH5" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src= '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f); })(window,document,'script','dataLayer','GTM-58RLH5');</script>
    <!-- End Google Tag Manager -->
    
    <!-- new ga for staging server -->
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-12395217-16"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-12395217-16');
    </script>
    <!-- new ga for staging server -->

    <!-- Elastic APM -->
    <!--
    <script src="https://www.elastic.co/static/js/elastic-apm-js-base.umd.min.2.2.0.js"></script>
    <script type="text/javascript">
      var elasticApm = init({
        serviceName: 'elastic-co-frontend',
        serverUrl: 'https://3ddd1ee09cc242c4b169d36f5a2b8b77.apm.us-west1.gcp.cloud.es.io:443',
        stackTraceLimit: 5,
        serviceVersion: '1.0.0'
      })
    
      var pageLoadName
      var pathname = window.location.pathname.replace(/\/es|\/pt|\/jp|\/pt|\/fr|\/kr|\/cn|\/de/g, '')
      var parts = pathname.split('/');
    
      if (parts.length && parts[1] === 'blog') {
        if (parts.length === 2) {
          pageLoadName =  '/blog';
        }
        else if (parts[2] === 'category') {
          pageLoadName =  '/blog/category';
        }
        else if (parts[2] === 'archive') {
          pageLoadName =  '/blog/archive';
        }
        else {
          pageLoadName =  '/blog/detail';
        }
      }
      else if (parts.length && parts[1] === 'elasticon') {
        if (parts.length === 2) {
          pageLoadName =  '/elasticon';
        }
        else if (parts.length === 5 && (parts[2] === 'conf' || parts[2] === 'tour')) {
          pageLoadName =  '/elasticon/overview';
        }
        else if (parts.length > 5 && (parts[2] === 'conf' || parts[2] === 'tour')) {
          pageLoadName =  '/elasticon/video';
        }
      }
      else if (parts.length && parts[1] === 'guide') {
        pageLoadName =  '/guide';
      }
      else if (parts.length === 2 && parts[1] === 'videos') {
        pageLoadName =  '/videos';
      }
      else if (parts.length > 2 && parts[1] === 'videos') {
        pageLoadName =  '/videos/detail';
      }
      else if (parts.length > 2 && parts[1] === 'webinars') {
        pageLoadName =  '/webinars/detail';
      }
      else {
        pageLoadName =  window.location.pathname;
      }
    
      console.log('apm pageLoadName:', pageLoadName, parts)
      elasticApm.setTags({env:"production"});
      elasticApm.setInitialPageLoadName(pageLoadName);
    </script>
    -->

    <!-- Header Section -->
    
    <div id='elastic-nav'></div>

    <!-- Subnav -->
    <div>
      <div>
        <div class="tertiary-nav d-none d-md-block">
          <div class="container">
            <div class="p-t-b-15 d-flex justify-content-between nav-container">
              <div class="breadcrum-wrapper"><span><a href="/guide/" style="font-size: 14px; font-weight: 600; color: #000;">Docs</a></span></div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <link rel="stylesheet" type="text/css" href="/static/css/horizon-swiper.min.css">

    <style> 
      .m-shortcuts li a.m-search {
        background: url("/assets/blt7b9c4fe6528dc4ef/m-search-icon.png") no-repeat scroll center center rgba(0, 0, 0, 0);
        background-size: contain;}

      .m-shortcuts li a.m-docs {
        background: url("/assets/blt44d8b7530a76d01c/m-guide-icon.png") no-repeat scroll center center rgba(0, 0, 0, 0);
        background-size: contain;}

      .m-shortcuts li a.m-contact {
        background: url("/assets/blt878040795c9d083b/m-contact-icon.png") no-repeat scroll center center rgba(0, 0, 0, 0);
        background-size: contain;}
    </style>

    <script type="text/javascript" src="/static/js/horizon-swiper.min.js"></script>

    <script type="text/javascript">
      $(document).ready( function(){
        // if($('#scrollable-pane li').length > 3){
          $('.horizon-swiper').horizonSwiper({
            showItems: 3,
            arrows: true
          }); 
        // }
        
        $('.navbar-toggle').on('click', function(){
          $('.mobile-navigation, .menu-open').hide();
          $('.navigation-wrapper').addClass('mobile-navigation');
          $('.navbar').addClass('menu-open');
          $('.menu-close').show();
        });
        $('.menu-close').on('click', function(){
          $('.navigation-wrapper').removeClass('mobile-navigation');
          $('.navbar').removeClass('menu-open');
          $('.menu-close').hide();
        });
    
        var active_url = "";
    
        $(".navbar-mobile-header-icon").click(function(index){
          $('.navigation-wrapper').toggleClass('menu-overlay');
          $(this).toggleClass("navbar-mobile-header-icon-click navbar-mobile-header-icon-out");
          $(".mobile-inner-nav").slideToggle(500);
          $(".mobile-inner-nav .navbar-nav a").each(function( index ) {
            $(this).css({'animation-delay': (index/25)+'0.4s'});
          });
        });
    
        $('.dropdown-btn').on('click', function(e){
          e.preventDefault();
          setDropdown();
        });
        
        function setDropdown() {
          $('#myDropdown').slideToggle();
        }
    
        $('body').on('click', function(event){
          if (!event.target.matches('.dropdown-btn')) {
    
            var dropdowns = $(".dropdown-content");
            var i;
            for (i = 0; i < dropdowns.length; i++) {
              var openDropdown = dropdowns[i];
              if (openDropdown.classList.contains('show')) {
                openDropdown.classList.remove('show');
              }
            }
          }
        });
    
      });
      $(window).resize(function () {
        $('.horizon-swiper').horizonSwiper({
          showItems: 3,
          arrows: true
        });
      });
    </script>

    <div class="main-container">
      <section id="content" >
        <div class="content-wrapper">   

          <section id="guide" lang="en">
            <div class="container">
              <div class="row">
                <!-- start body -->
                
            <div class="col-xs-12 col-sm-8 col-md-8 guide-section">
            <!-- start body -->
<div class="page_header">You are looking at preliminary documentation for a future release.
Not what you want? See the
<a href="../current/index.html">current release documentation</a>.
</div><div class="breadcrumbs"><span class="breadcrumb-link"><a href="index.html">Packetbeat Reference
      [master]
    </a></span> » <span class="breadcrumb-link"><a href="setting-up-and-running.html">Setting up and running Packetbeat</a></span> » <span class="breadcrumb-node">Packetbeat command reference</span></div><div class="navheader"><span class="prev"><a href="keystore.html">
              « 
              Secrets keystore for secure settings</a>
           
        </span><span class="next">
           
          <a href="running-on-docker.html">Running Packetbeat on Docker
               »
            </a></span></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="command-line-options"></a>Packetbeat command reference<a href="https://github.com/elastic/beats/edit/master/libbeat/docs/command-reference.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h2></div></div></div><p>Packetbeat provides a command-line interface for starting Packetbeat and
performing common tasks, like testing configuration files and loading dashboards.</p><p>The command-line also supports <a class="link" href="command-line-options.html#global-flags" title="Global flags">global flags</a>
for controlling global behaviors.</p><div class="tip admon"><div class="icon"><img alt="Tip" src="images/icons/tip.png" /></div><div class="admon_content"><p>Use <code class="literal">sudo</code> to run the following commands if:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
the config file is owned by <code class="literal">root</code>, or
</li><li class="listitem">
Packetbeat is configured to capture data that requires <code class="literal">root</code> access
</li></ul></div></div></div><p>Some of the features described here require an Elastic license. For
more information, see <a class="ulink" href="https://www.elastic.co/subscriptions" target="_top">https://www.elastic.co/subscriptions</a> and
<a class="ulink" href="https://www.elastic.co/guide/en/elastic-stack-overview/master/license-management.html" target="_top">License Management</a>.</p><div class="informaltable"><table cellpadding="4px" border="1"><colgroup><col class="col_1" /><col class="col_2" /></colgroup><thead><tr><th align="left" valign="top">Commands </th><th align="left" valign="top"> </th></tr></thead><tbody><tr><td align="left" valign="top"><p><a class="link" href="command-line-options.html#export-command" title="export command"><code class="literal">export</code></a></p></td><td align="left" valign="top"><p>Exports the configuration, index template, ILM policy, or a dashboard to stdout.</p></td></tr><tr><td align="left" valign="top"><p><a class="link" href="command-line-options.html#help-command" title="help command"><code class="literal">help</code></a></p></td><td align="left" valign="top"><p>Shows help for any command.</p></td></tr><tr><td align="left" valign="top"><p><a class="link" href="command-line-options.html#keystore-command" title="keystore command"><code class="literal">keystore</code></a></p></td><td align="left" valign="top"><p>Manages the <a class="link" href="keystore.html" title="Secrets keystore for secure settings">secrets keystore</a>.</p></td></tr><tr><td align="left" valign="top"><p><a class="link" href="command-line-options.html#run-command" title="run command"><code class="literal">run</code></a></p></td><td align="left" valign="top"><p>Runs Packetbeat. This command is used by default if you start Packetbeat without specifying a command.</p></td></tr><tr><td align="left" valign="top"><p><a class="link" href="command-line-options.html#setup-command" title="setup command"><code class="literal">setup</code></a></p></td><td align="left" valign="top"><p>Sets up the initial environment, including the index template, ILM policy and write alias, Kibana dashboards (when available), and machine learning jobs (when available).</p></td></tr><tr><td align="left" valign="top"><p><a class="link" href="command-line-options.html#test-command" title="test command"><code class="literal">test</code></a></p></td><td align="left" valign="top"><p>Tests the configuration.</p></td></tr><tr><td align="left" valign="top"><p><a class="link" href="command-line-options.html#version-command" title="version command"><code class="literal">version</code></a></p></td><td align="left" valign="top"><p>Shows information about the current version.</p></td></tr></tbody></table></div><p>Also see <a class="link" href="command-line-options.html#global-flags" title="Global flags">Global flags</a>.</p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="export-command"></a><code class="literal">export</code> command<a href="https://github.com/elastic/beats/edit/master/libbeat/docs/command-reference.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p>Exports the configuration, index template, ILM policy, or a dashboard to stdout. You can use this
command to quickly view your configuration, see the contents of the index
template and the ILM policy, or export a dashboard from Kibana.</p><p><span class="strong strong"><strong>SYNOPSIS</strong></span></p><div class="pre_wrapper lang-sh"><pre class="programlisting prettyprint lang-sh">packetbeat export SUBCOMMAND [FLAGS]</pre></div><p><span class="strong strong"><strong>SUBCOMMANDS</strong></span></p><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<span class="strong strong"><strong><code class="literal">config</code></strong></span>
</span></dt><dd>
Exports the current configuration to stdout. If you use the <code class="literal">-c</code> flag, this
command exports the configuration that’s defined in the specified file.
</dd><dt><span class="term">
<a id="dashboard-subcommand"></a><span class="strong strong"><strong><code class="literal">dashboard</code></strong></span>
</span></dt><dd><p class="simpara">
Exports a dashboard. You can use this option to store a dashboard on disk in a
module and load it automatically. For example, to export the dashboard to a JSON
file, run:
</p><div class="pre_wrapper lang-shell"><pre class="programlisting prettyprint lang-shell">packetbeat export dashboard --id="DASHBOARD_ID" &gt; dashboard.json</pre></div><p class="simpara">To find the <code class="literal">DASHBOARD_ID</code>, look at the URL for the dashboard in Kibana. By
default, <code class="literal">export dashboard</code> writes the dashboard to stdout. The example shows
how to write the dashboard to a JSON file so that you can import it later. The
JSON file will contain the dashboard with all visualizations and searches. You
must load the index pattern separately for Packetbeat.</p><p class="simpara">To load the dashboard, copy the generated <code class="literal">dashboard.json</code> file into the
<code class="literal">kibana/6/dashboard</code> directory of Packetbeat, and run
<code class="literal">packetbeat setup --dashboards</code> to import the dashboard.</p><p class="simpara">If Kibana is not running on <code class="literal">localhost:5061</code>, you must also adjust the
Packetbeat configuration under <code class="literal">setup.kibana</code>.</p></dd><dt><span class="term">
<a id="template-subcommand"></a><span class="strong strong"><strong><code class="literal">template</code></strong></span>
</span></dt><dd>
Exports the index template to stdout. You can specify the <code class="literal">--es.version</code> and
<code class="literal">--index</code> flags to further define what gets exported. Furthermore you can export
the template to a file instead of <code class="literal">stdout</code> by defining a directory via <code class="literal">--dir</code>.
</dd><dt><span class="term">
<span class="strong strong"><strong><code class="literal">ilm-policy</code></strong></span>
</span></dt><dd>
Exports the index lifecycle management policy to stdout. You can specify the
<code class="literal">--es.version</code> and a <code class="literal">--dir</code> to which the policy should be exported as a
file rather than exporting to <code class="literal">stdout</code>.
</dd></dl></div><p><a id="ilm-policy-subcommand"></a><span class="strong strong"><strong>FLAGS</strong></span></p><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<span class="strong strong"><strong><code class="literal">--es.version VERSION</code></strong></span>
</span></dt><dd>
When used with <a class="link" href="command-line-options.html#template-subcommand"><code class="literal">template</code></a>, exports an index
template that is compatible with the specified version.
When used with <a class="link" href="command-line-options.html#ilm-policy-subcommand"><code class="literal">ilm-policy</code></a>, exports the ILM policy
if the specified ES version is enabled for ILM.
</dd><dt><span class="term">
<span class="strong strong"><strong><code class="literal">-h, --help</code></strong></span>
</span></dt><dd>
Shows help for the <code class="literal">export</code> command.
</dd><dt><span class="term">
<span class="strong strong"><strong><code class="literal">--index BASE_NAME</code></strong></span>
</span></dt><dd>
When used with <a class="link" href="command-line-options.html#template-subcommand"><code class="literal">template</code></a>, sets the base name to use for
the index template. If this flag is not specified, the default base name is
<code class="literal">packetbeat</code>.
</dd><dt><span class="term">
<span class="strong strong"><strong><code class="literal">--dir DIRNAME</code></strong></span>
</span></dt><dd>
Define a directory to which the template and ILM policy should be exported to
as files instead of printing them to <code class="literal">stdout</code>.
</dd><dt><span class="term">
<span class="strong strong"><strong><code class="literal">--id DASHBOARD_ID</code></strong></span>
</span></dt><dd>
When used with <a class="link" href="command-line-options.html#dashboard-subcommand"><code class="literal">dashboard</code></a>, specifies the dashboard ID.
</dd></dl></div><p>Also see <a class="link" href="command-line-options.html#global-flags" title="Global flags">Global flags</a>.</p><p><span class="strong strong"><strong>EXAMPLES</strong></span></p><div class="pre_wrapper lang-sh"><pre class="programlisting prettyprint lang-sh">packetbeat export config
packetbeat export template --es.version 8.0.0 --index myindexname
packetbeat export dashboard --id="a7b35890-8baa-11e8-9676-ef67484126fb" &gt; dashboard.json</pre></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="help-command"></a><code class="literal">help</code> command<a href="https://github.com/elastic/beats/edit/master/libbeat/docs/command-reference.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p>Shows help for any command. If no command is specified, shows help for the
<code class="literal">run</code> command.</p><p><span class="strong strong"><strong>SYNOPSIS</strong></span></p><div class="pre_wrapper lang-sh"><pre class="programlisting prettyprint lang-sh">packetbeat help COMMAND_NAME [FLAGS]</pre></div><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<span class="strong strong"><strong><code class="literal">COMMAND_NAME</code></strong></span>
</span></dt><dd>
Specifies the name of the command to show help for.
</dd></dl></div><p><span class="strong strong"><strong>FLAGS</strong></span></p><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<span class="strong strong"><strong><code class="literal">-h, --help</code></strong></span>
</span></dt><dd>
Shows help for the <code class="literal">help</code> command.
</dd></dl></div><p>Also see <a class="link" href="command-line-options.html#global-flags" title="Global flags">Global flags</a>.</p><p><span class="strong strong"><strong>EXAMPLE</strong></span></p><div class="pre_wrapper lang-sh"><pre class="programlisting prettyprint lang-sh">packetbeat help export</pre></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="keystore-command"></a><code class="literal">keystore</code> command<a href="https://github.com/elastic/beats/edit/master/libbeat/docs/command-reference.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p>Manages the <a class="link" href="keystore.html" title="Secrets keystore for secure settings">secrets keystore</a>.</p><p><span class="strong strong"><strong>SYNOPSIS</strong></span></p><div class="pre_wrapper lang-sh"><pre class="programlisting prettyprint lang-sh">packetbeat keystore SUBCOMMAND [FLAGS]</pre></div><p><span class="strong strong"><strong>SUBCOMMANDS</strong></span></p><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<span class="strong strong"><strong><code class="literal">add KEY</code></strong></span>
</span></dt><dd>
Adds the specified key to the keystore. Use the <code class="literal">--force</code> flag to overwrite an
existing key. Use the <code class="literal">--stdin</code> flag to pass the value through <code class="literal">stdin</code>.
</dd><dt><span class="term">
<span class="strong strong"><strong><code class="literal">create</code></strong></span>
</span></dt><dd>
Creates a keystore to hold secrets. Use the <code class="literal">--force</code> flag to overwrite the
existing keystore.
</dd><dt><span class="term">
<span class="strong strong"><strong><code class="literal">list</code></strong></span>
</span></dt><dd>
Lists the keys in the keystore.
</dd><dt><span class="term">
<span class="strong strong"><strong><code class="literal">remove KEY</code></strong></span>
</span></dt><dd>
Removes the specified key from the keystore.
</dd></dl></div><p><span class="strong strong"><strong>FLAGS</strong></span></p><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<span class="strong strong"><strong><code class="literal">--force</code></strong></span>
</span></dt><dd>
Valid with the <code class="literal">add</code> and <code class="literal">create</code> subcommands. When used with <code class="literal">add</code>, overwrites
the specified key. When used with <code class="literal">create</code>, overwrites the keystore.
</dd><dt><span class="term">
<span class="strong strong"><strong><code class="literal">--stdin</code></strong></span>
</span></dt><dd>
When used with <code class="literal">add</code>, uses the stdin as the source of the key’s value.
</dd><dt><span class="term">
<span class="strong strong"><strong><code class="literal">-h, --help</code></strong></span>
</span></dt><dd>
Shows help for the <code class="literal">keystore</code> command.
</dd></dl></div><p>Also see <a class="link" href="command-line-options.html#global-flags" title="Global flags">Global flags</a>.</p><p><span class="strong strong"><strong>EXAMPLES</strong></span></p><div class="pre_wrapper lang-sh"><pre class="programlisting prettyprint lang-sh">packetbeat keystore create
packetbeat keystore add ES_PWD
packetbeat keystore remove ES_PWD
packetbeat keystore list</pre></div><p>See <a class="xref" href="keystore.html" title="Secrets keystore for secure settings">Secrets keystore</a> for more examples.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="run-command"></a><code class="literal">run</code> command<a href="https://github.com/elastic/beats/edit/master/libbeat/docs/command-reference.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p>Runs Packetbeat. This command is used by default if you start Packetbeat without specifying a command.</p><p><span class="strong strong"><strong>SYNOPSIS</strong></span></p><div class="pre_wrapper lang-sh"><pre class="programlisting prettyprint lang-sh">packetbeat run [FLAGS]</pre></div><p>Or:</p><div class="pre_wrapper lang-sh"><pre class="programlisting prettyprint lang-sh">packetbeat [FLAGS]</pre></div><p><span class="strong strong"><strong>FLAGS</strong></span></p><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<span class="strong strong"><strong><code class="literal">-I, --I FILE</code></strong></span>
</span></dt><dd><p class="simpara">
Reads packet data from the specified file instead of reading packets from the
network. This option is useful only for testing Packetbeat.
</p><div class="pre_wrapper lang-sh"><pre class="programlisting prettyprint lang-sh">packetbeat run -I ~/pcaps/network_traffic.pcap</pre></div></dd><dt><span class="term">
<span class="strong strong"><strong><code class="literal">-N, --N</code></strong></span>
</span></dt><dd>
Disables publishing for testing purposes.
This option disables all outputs except the <a class="link" href="file-output.html" title="Configure the File output">File output</a>.
</dd><dt><span class="term">
<span class="strong strong"><strong><code class="literal">-O, --O</code></strong></span>
</span></dt><dd>
Read packets one by one by pressing <span class="emphasis"><em>Enter</em></span> after each. This option is useful
only for testing Packetbeat.
</dd><dt><span class="term">
<span class="strong strong"><strong><code class="literal">--cpuprofile FILE</code></strong></span>
</span></dt><dd>
Writes CPU profile data to the specified file. This option is useful for
troubleshooting Packetbeat.
</dd><dt><span class="term">
<span class="strong strong"><strong><code class="literal">-devices</code></strong></span>
</span></dt><dd>
Prints the list of devices that are available for sniffing and then exits.
</dd><dt><span class="term">
<span class="strong strong"><strong><code class="literal">-dump FILE</code></strong></span>
</span></dt><dd>
Writes all captured packets to the specified file. This option is useful for
troubleshooting Packetbeat.
</dd><dt><span class="term">
<span class="strong strong"><strong><code class="literal">-h, --help</code></strong></span>
</span></dt><dd>
Shows help for the <code class="literal">run</code> command.
</dd><dt><span class="term">
<span class="strong strong"><strong><code class="literal">--httpprof [HOST]:PORT</code></strong></span>
</span></dt><dd>
Starts an http server for profiling. This option is useful for troubleshooting
and profiling Packetbeat.
</dd><dt><span class="term">
<span class="strong strong"><strong><code class="literal">-l N</code></strong></span>
</span></dt><dd>
Reads the pcap file <code class="literal">N</code> number of times. The default is 1. Use this option in
combination with the <code class="literal">-I</code> option. For an infinite loop, use <span class="emphasis"><em>0</em></span>. The <code class="literal">-l</code>
option is useful only for testing Packetbeat.
</dd><dt><span class="term">
<span class="strong strong"><strong><code class="literal">--memprofile FILE</code></strong></span>
</span></dt><dd>
Writes memory profile data to the specified output file. This option is useful
for troubleshooting Packetbeat.
</dd><dt><span class="term">
<span class="strong strong"><strong><code class="literal">-t</code></strong></span>
</span></dt><dd>
Reads packets from the pcap file as fast as possible without sleeping. Use this
option in combination with the <code class="literal">-I</code> option. The <code class="literal">-t</code> option is useful only for
testing Packetbeat.
</dd></dl></div><p>Also see <a class="link" href="command-line-options.html#global-flags" title="Global flags">Global flags</a>.</p><p><span class="strong strong"><strong>EXAMPLE</strong></span></p><div class="pre_wrapper lang-sh"><pre class="programlisting prettyprint lang-sh">packetbeat run -e</pre></div><p>Or:</p><div class="pre_wrapper lang-sh"><pre class="programlisting prettyprint lang-sh">packetbeat -e</pre></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="setup-command"></a><code class="literal">setup</code> command<a href="https://github.com/elastic/beats/edit/master/libbeat/docs/command-reference.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p>Sets up the initial environment, including the index template, ILM policy and write alias, Kibana dashboards (when available), and machine learning jobs (when available)</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
The index template ensures that fields are mapped correctly in Elasticsearch.
If index lifecycle management is enabled it also ensures that the defined ILM policy
and write alias are connected to the indices matching the index template.
The ILM policy takes care of the lifecycle of an index, when to do a rollover,
when to move an index from the hot phase to the next phase etc.
</li><li class="listitem">
The Kibana dashboards make it easier for you to visualize Packetbeat data
in Kibana.
</li><li class="listitem">
The machine learning jobs contain the configuration information and metadata
necessary to analyze data for anomalies.
</li></ul></div><p>Use this command if you want to set up the environment without actually running
Packetbeat and ingesting data.</p><p><span class="strong strong"><strong>SYNOPSIS</strong></span></p><div class="pre_wrapper lang-sh"><pre class="programlisting prettyprint lang-sh">packetbeat setup [FLAGS]</pre></div><p><span class="strong strong"><strong>FLAGS</strong></span></p><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<span class="strong strong"><strong><code class="literal">--dashboards</code></strong></span>
</span></dt><dd>
Sets up the Kibana dashboards (when available). This option loads the dashboards
from the Packetbeat package. For more options, such as loading customized
dashboards, see <a class="ulink" href="http://www.elastic.co/guide/en/beats/devguide/master/import-dashboards.html" target="_top">Importing Existing Beat
Dashboards</a> in the <span class="emphasis"><em>Beats Developer Guide</em></span>.
</dd><dt><span class="term">
<span class="strong strong"><strong><code class="literal">-h, --help</code></strong></span>
</span></dt><dd>
Shows help for the <code class="literal">setup</code> command.
</dd><dt><span class="term">
<span class="strong strong"><strong><code class="literal">--machine-learning</code></strong></span>
</span></dt><dd>
Sets up machine learning job configurations only.
</dd><dt><span class="term">
<span class="strong strong"><strong><code class="literal">--index-management</code></strong></span>
</span></dt><dd>
Sets up components related to Elasticsearch index management including
template, ILM policy, and write alias (if supported and configured).
</dd><dt><span class="term">
<span class="strong strong"><strong><code class="literal">--template</code></strong></span>
</span></dt><dd>
<span class="Admonishment">
      [<span class="Admonishment-version u-mono u-strikethrough">7.2</span>]
      <span class="Admonishment-detail">Deprecated in 7.2. 
</span></span>
Sets up the index template only.
It is recommended to use <code class="literal">--index-management</code> instead.
</dd><dt><span class="term">
<span class="strong strong"><strong><code class="literal">--ilm-policy</code></strong></span>
</span></dt><dd>
<span class="Admonishment">
      [<span class="Admonishment-version u-mono u-strikethrough">7.2</span>]
      <span class="Admonishment-detail">Deprecated in 7.2. 
</span></span>
Sets up the index lifecycle management policy.
It is recommended to use <code class="literal">--index-management</code> instead.
</dd></dl></div><p>Also see <a class="link" href="command-line-options.html#global-flags" title="Global flags">Global flags</a>.</p><p><span class="strong strong"><strong>EXAMPLES</strong></span></p><div class="pre_wrapper lang-sh"><pre class="programlisting prettyprint lang-sh">packetbeat setup --dashboards
packetbeat setup --machine-learning
packetbeat setup --index-management</pre></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="test-command"></a><code class="literal">test</code> command<a href="https://github.com/elastic/beats/edit/master/libbeat/docs/command-reference.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p>Tests the configuration.</p><p><span class="strong strong"><strong>SYNOPSIS</strong></span></p><div class="pre_wrapper lang-sh"><pre class="programlisting prettyprint lang-sh">packetbeat test SUBCOMMAND [FLAGS]</pre></div><p><span class="strong strong"><strong>SUBCOMMANDS</strong></span></p><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<span class="strong strong"><strong><code class="literal">config</code></strong></span>
</span></dt><dd>
Tests the configuration settings.
</dd><dt><span class="term">
<span class="strong strong"><strong><code class="literal">output</code></strong></span>
</span></dt><dd>
Tests that Packetbeat can connect to the output by using the
current settings.
</dd></dl></div><p><span class="strong strong"><strong>FLAGS</strong></span></p><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<span class="strong strong"><strong><code class="literal">-h, --help</code></strong></span>
</span></dt><dd>
Shows help for the <code class="literal">test</code> command.
</dd></dl></div><p>Also see <a class="link" href="command-line-options.html#global-flags" title="Global flags">Global flags</a>.</p><p><span class="strong strong"><strong>EXAMPLE</strong></span></p><div class="pre_wrapper lang-sh"><pre class="programlisting prettyprint lang-sh">packetbeat test config</pre></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="version-command"></a><code class="literal">version</code> command<a href="https://github.com/elastic/beats/edit/master/libbeat/docs/command-reference.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p>Shows information about the current version.</p><p><span class="strong strong"><strong>SYNOPSIS</strong></span></p><div class="pre_wrapper lang-sh"><pre class="programlisting prettyprint lang-sh">packetbeat version [FLAGS]</pre></div><p><span class="strong strong"><strong>FLAGS</strong></span></p><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<span class="strong strong"><strong><code class="literal">-h, --help</code></strong></span>
</span></dt><dd>
Shows help for the <code class="literal">version</code> command.
</dd></dl></div><p>Also see <a class="link" href="command-line-options.html#global-flags" title="Global flags">Global flags</a>.</p><p><span class="strong strong"><strong>EXAMPLE</strong></span></p><div class="pre_wrapper lang-sh"><pre class="programlisting prettyprint lang-sh">packetbeat version</pre></div><h3><a id="global-flags"></a>Global flags<a href="https://github.com/elastic/beats/edit/master/libbeat/docs/command-reference.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3><p>These global flags are available whenever you run Packetbeat.</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<span class="strong strong"><strong><code class="literal">-E, --E "SETTING_NAME=VALUE"</code></strong></span>
</span></dt><dd><p class="simpara">
Overrides a specific configuration setting. You can specify multiple overrides.
For example:
</p><div class="pre_wrapper lang-sh"><pre class="programlisting prettyprint lang-sh">packetbeat -E "name=mybeat" -E "output.elasticsearch.hosts=['http://myhost:9200']"</pre></div><p class="simpara">This setting is applied to the currently running Packetbeat process.
The Packetbeat configuration file is not changed.</p></dd><dt><span class="term">
<span class="strong strong"><strong><code class="literal">-c, --c FILE</code></strong></span>
</span></dt><dd>
Specifies the configuration file to use for Packetbeat. The file you specify
here is relative to <code class="literal">path.config</code>. If the <code class="literal">-c</code> flag is not specified, the
default config file, <code class="literal">packetbeat.yml</code>, is used.
</dd><dt><span class="term">
<span class="strong strong"><strong><code class="literal">-d, --d SELECTORS</code></strong></span>
</span></dt><dd>
Enables debugging for the specified selectors. For the selectors, you can
specify a comma-separated
list of components, or you can use <code class="literal">-d "*"</code> to enable debugging for all
components. For example, <code class="literal">-d "publish"</code> displays all the "publish" related
messages.
</dd><dt><span class="term">
<span class="strong strong"><strong><code class="literal">-e, --e</code></strong></span>
</span></dt><dd>
Logs to stderr and disables syslog/file output.
</dd><dt><span class="term">
<span class="strong strong"><strong><code class="literal">--path.config</code></strong></span>
</span></dt><dd>
Sets the path for configuration files. See the <a class="xref" href="directory-layout.html" title="Directory layout">Directory layout</a> section for
details.
</dd><dt><span class="term">
<span class="strong strong"><strong><code class="literal">--path.data</code></strong></span>
</span></dt><dd>
Sets the path for data files. See the <a class="xref" href="directory-layout.html" title="Directory layout">Directory layout</a> section for details.
</dd><dt><span class="term">
<span class="strong strong"><strong><code class="literal">--path.home</code></strong></span>
</span></dt><dd>
Sets the path for miscellaneous files. See the <a class="xref" href="directory-layout.html" title="Directory layout">Directory layout</a> section for
details.
</dd><dt><span class="term">
<span class="strong strong"><strong><code class="literal">--path.logs</code></strong></span>
</span></dt><dd>
Sets the path for log files. See the <a class="xref" href="directory-layout.html" title="Directory layout">Directory layout</a> section for details.
</dd><dt><span class="term">
<span class="strong strong"><strong><code class="literal">--strict.perms</code></strong></span>
</span></dt><dd>
Sets strict permission checking on configuration files. The default is
<code class="literal">-strict.perms=true</code>. See
<a class="ulink" href="https://www.elastic.co/guide/en/beats/libbeat/master/config-file-permissions.html" target="_top">Config file ownership and permissions</a> in
the <span class="emphasis"><em>Beats Platform Reference</em></span> for more information.
</dd><dt><span class="term">
<span class="strong strong"><strong><code class="literal">-v, --v</code></strong></span>
</span></dt><dd>
Logs INFO-level messages.
</dd></dl></div></div></div><div class="navfooter"><span class="prev"><a href="keystore.html">
              « 
              Secrets keystore for secure settings</a>
           
        </span><span class="next">
           
          <a href="running-on-docker.html">Running Packetbeat on Docker
               »
            </a></span></div>
<!-- end body -->

            </div>
            <div class="col-xs-12 col-sm-4 col-md-4" id="right_col">
        
                  <div id="rtpcontainer" style="display: block;">
                    <div class="mktg-promo">
                      <h3>Getting Started Videos</h3>
                      <ul class="icons">
                        <li class="icon-elasticsearch-white"><a href="https://www.elastic.co/webinars/getting-started-elasticsearch?baymax=default&elektra=docs&storm=top-video">Starting Elasticsearch</a></li>
                        <li class="icon-kibana-white"><a href="https://www.elastic.co/webinars/getting-started-kibana?baymax=default&elektra=docs&storm=top-video">Introduction to Kibana</a></li>
                        <li class="icon-logstash-white"><a href="https://www.elastic.co/webinars/getting-started-logstash?baymax=default&elektra=docs&storm=top-video">Logstash Starter Guide</a></li>
                      </ul>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </section>

        </div>


<div id='elastic-footer'</div>
<!-- Footer Section end-->

<script src='https://www.elastic.co/elastic-nav.js'></script>
<script src='https://www.elastic.co/elastic-footer.js'></script>

<style type="text/css">
	
        
            .Facebook a {background:url("/assets/bltf546ff2e0a8f2de5/facebook.svg") no-repeat;}
            .Facebook a:before {
                content: url("/assets/bltc24cf11c714ecfc4/facebook-hover.svg");
                width:0;
                height:0;
                visibility:hidden;
            }
        
        
            .Facebook a:hover {background:url("/assets/bltc24cf11c714ecfc4/facebook-hover.svg")}		
        
	
        
            .Twitter a {background:url("/assets/bltdd9556d6b24e2b85/twitter.svg") no-repeat;}
            .Twitter a:before {
                content: url("/assets/blt90b0372cc07a54d3/twitter-hover.svg");
                width:0;
                height:0;
                visibility:hidden;
            }
        
        
            .Twitter a:hover {background:url("/assets/blt90b0372cc07a54d3/twitter-hover.svg")}		
        
	
        
            .LinkedIn a {background:url("/assets/bltc4a77e0f52ce07f1/linkedin.svg") no-repeat;}
            .LinkedIn a:before {
                content: url("/assets/blt01ce654380e4ea6c/linkedin-hover.svg");
                width:0;
                height:0;
                visibility:hidden;
            }
        
        
            .LinkedIn a:hover {background:url("/assets/blt01ce654380e4ea6c/linkedin-hover.svg")}		
        
	
        
            .Xing a {background:url("/assets/bltc6347078dcc9ec76/xing.svg") no-repeat;}
            .Xing a:before {
                content: url("/assets/bltededebe5f7521a39/xing-hover.svg");
                width:0;
                height:0;
                visibility:hidden;
            }
        
        
            .Xing a:hover {background:url("/assets/bltededebe5f7521a39/xing-hover.svg")}		
        
	
        
            .YouTube a {background:url("/assets/blt4982061ce1aebc7f/youtube.svg") no-repeat;}
            .YouTube a:before {
                content: url("/assets/bltddeb6c6404ae81a5/youtube-hover.svg");
                width:0;
                height:0;
                visibility:hidden;
            }
        
        
            .YouTube a:hover {background:url("/assets/bltddeb6c6404ae81a5/youtube-hover.svg")}		
        
	
</style>

      </section>
    </div>

    
<script type="text/javascript">
	var suggestionsUrl = "https://search.elastic.co/suggest";
	var localeUrl = '{"relative_url_prefix":"/","code":"en-us","display_code":"en-us","url":"/guide_template"}';
</script>
<script src="/static/js/swiftype_app_search.umd.min.js"></script>
<script src="/static/js/jquery.autocomplete.js"></script>
<script type="text/javascript" src="/static/js/slick.min.js"></script>
<script src="/static/js/nav-v5.js"></script>
<script src="/static/js/script.js"></script>
<script type="text/javascript" src="/guide/static/docs.js"></script>
  
            <script type="text/javascript">
window.initial_state = {}
</script>

            </body>
        
</html>
