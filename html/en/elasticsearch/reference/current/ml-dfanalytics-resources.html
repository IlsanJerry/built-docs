<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Data frame analytics job resources
        | Elasticsearch Reference [7.3]
      | Elastic
    </title><link rel="home" href="index.html" title="Elasticsearch Reference [7.3]" /><link rel="up" href="api-definitions.html" title="Definitions" /><link rel="prev" href="ml-datafeed-resource.html" title="Datafeed resources" /><link rel="next" href="ml-evaluate-dfanalytics-resources.html" title="Data frame analytics evaluation resources" /><meta name="DC.type" content="Learn/Docs/Elasticsearch/Reference/7.3" /><meta name="DC.subject" content="Elasticsearch" /><meta name="DC.identifier" content="7.3" />
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="apple-touch-icon" sizes="57x57" href="/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-icon-180x180.png">
    <link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="/android-chrome-192x192.png" sizes="192x192">
    <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
    <link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
    <link rel="manifest" href="/manifest.json">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#ffffff">
    <meta name="apple-mobile-web-app-title" content="Elastic">
    <meta name="application-name" content="Elastic">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/mstile-144x144.png">
    <meta name="theme-color" content="#ffffff">
    <meta name="naver-site-verification" content="936882c1853b701b3cef3721758d80535413dbfd" />
    <meta name="yandex-verification" content="d8a47e95d0972434" />
    <meta name="localized" content="true" />
    <meta property="og:image" content="https://www.elastic.co/static/images/elastic-logo-200.png" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <link rel="apple-touch-icon-precomposed" sizes="64x64" href="/favicon_64x64_16bit.png">
    <link rel="apple-touch-icon-precomposed" sizes="32x32" href="/favicon_32x32.png">
    <link rel="apple-touch-icon-precomposed" sizes="16x16" href="/favicon_16x16.png">
    <script src="/static/js/jquery.min.js"></script>
    <script src="/static/js/bootstrap.min.js"></script>
    <!-- Give IE8 a fighting chance -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <link rel="stylesheet" type="text/css" href="/guide/static/styles.css" />
  </head>

  <body>
    <!-- Google Tag Manager -->
    <script>dataLayer = [];</script><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-58RLH5" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src= '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f); })(window,document,'script','dataLayer','GTM-58RLH5');</script>
    <!-- End Google Tag Manager -->
    
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-12395217-16"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-12395217-16');
    </script>

    <div id='elastic-nav' style="display:none;"></div>
    <script src='https://www.elastic.co/elastic-nav.js'></script>

    <!-- Subnav -->
    <div>
      <div>
        <div class="tertiary-nav d-none d-md-block">
          <div class="container">
            <div class="p-t-b-15 d-flex justify-content-between nav-container">
              <div class="breadcrum-wrapper"><span><a href="/guide/" style="font-size: 14px; font-weight: 600; color: #000;">Docs</a></span></div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="main-container">
      <section id="content" >
        <div class="content-wrapper">

          <section id="guide" lang="en">
            <div class="container">
              <div class="row">
                <div class="col-xs-12 col-sm-8 col-md-8 guide-section">
                  <!-- start body -->
                  <div class="breadcrumbs"><span class="breadcrumb-link"><a href="index.html">Elasticsearch Reference
      [7.3]
    </a></span> » <span class="breadcrumb-link"><a href="rest-apis.html">REST APIs</a></span> » <span class="breadcrumb-link"><a href="api-definitions.html">Definitions</a></span> » <span class="breadcrumb-node">Data frame analytics job resources</span></div><div class="navheader"><span class="prev"><a href="ml-datafeed-resource.html">
              « 
              Datafeed resources</a>
           
        </span><span class="next">
           
          <a href="ml-evaluate-dfanalytics-resources.html">Data frame analytics evaluation resources
               »
            </a></span></div><div class="xpack section"><div class="titlepage"><div><div><h2 class="title"><a id="ml-dfanalytics-resources"></a>Data frame analytics job resources<a href="https://github.com/elastic/elasticsearch/edit/7.3/docs/reference/ml/df-analytics/apis/dfanalyticsresources.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a><a class="xpack_tag" href="/subscriptions"></a></h2></div></div></div><p>Data frame analytics resources relate to APIs such as <a class="xref" href="put-dfanalytics.html" title="Create data frame analytics jobs API">Create data frame analytics jobs</a> and
<a class="xref" href="get-dfanalytics.html" title="Get data frame analytics jobs API">Get data frame analytics jobs</a>.</p><h4><a id="ml-dfanalytics-properties"></a>Properties<a href="https://github.com/elastic/elasticsearch/edit/7.3/docs/reference/ml/df-analytics/apis/dfanalyticsresources.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="literal">analysis</code></span></dt><dd>(object) The type of analysis that is performed on the <code class="literal">source</code>. For example:
<code class="literal">outlier_detection</code>. For more information, see <a class="xref" href="ml-dfanalytics-resources.html#dfanalytics-types" title="Analysis objects">Analysis objects</a>.</dd><dt><span class="term"><code class="literal">analyzed_fields</code></span></dt><dd><p class="simpara">(object) You can specify both <code class="literal">includes</code> and/or <code class="literal">excludes</code> patterns. If
<code class="literal">analyzed_fields</code> is not set, only the relevant fields will be included. For
example all the numeric fields for outlier detection.</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="literal">analyzed_fields.includes</code></span></dt><dd>(array) An array of strings that defines the fields that will be included in
the analysis.</dd><dt><span class="term"><code class="literal">analyzed_fields.excludes</code></span></dt><dd>(array) An array of strings that defines the fields that will be excluded
from the analysis.</dd></dl></div></dd></dl></div><div class="pre_wrapper lang-console"><pre class="programlisting prettyprint lang-console">PUT _ml/data_frame/analytics/loganalytics
{
  "source": {
    "index": "logdata"
  },
  "dest": {
    "index": "logdata_out"
  },
  "analysis": {
    "outlier_detection": {
    }
  },
  "analyzed_fields": {
        "includes": [ "request.bytes", "response.counts.error" ],
        "excludes": [ "source.geo" ]
  }
}</pre></div><div class="console_widget" data-snippet="snippets/1803.console"></div><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="literal">dest</code></span></dt><dd><p class="simpara">(object) The destination configuration of the analysis.</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="literal">index</code></span></dt><dd>(Required, string) Defines the <span class="emphasis"><em>destination index</em></span> to store the results of
the data frame analytics job.</dd><dt><span class="term"><code class="literal">results_field</code></span></dt><dd>(Optional, string) Defines the name of the field in which to store the
results of the analysis. Default to <code class="literal">ml</code>.</dd></dl></div></dd><dt><span class="term"><code class="literal">id</code></span></dt><dd>(string) The unique identifier for the data frame analytics job. This identifier can
contain lowercase alphanumeric characters (a-z and 0-9), hyphens, and
underscores. It must start and end with alphanumeric characters. This property
is informational; you cannot change the identifier for existing jobs.</dd><dt><span class="term"><code class="literal">model_memory_limit</code></span></dt><dd>(string) The approximate maximum amount of memory resources that are
permitted for analytical processing. The default value for data frame analytics jobs
is <code class="literal">1gb</code>. If your <code class="literal">elasticsearch.yml</code> file contains an
<code class="literal">xpack.ml.max_model_memory_limit</code> setting, an error occurs when you try to
create data frame analytics jobs that have <code class="literal">model_memory_limit</code> values greater than
that setting. For more information, see <a class="xref" href="ml-settings.html" title="Machine learning settings in Elasticsearch">Machine learning settings</a>.</dd><dt><span class="term"><code class="literal">source</code></span></dt><dd><p class="simpara">(object) The source configuration consisting an <code class="literal">index</code> and optionally a
<code class="literal">query</code> object.</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="literal">index</code></span></dt><dd>(Required, string or array) Index or indices on which to perform the
analysis. It can be a single index or index pattern as well as an array of
indices or patterns.</dd><dt><span class="term"><code class="literal">query</code></span></dt><dd>(Optional, object) The Elasticsearch query domain-specific language
(<a class="link" href="query-dsl.html" title="Query DSL">DSL</a>). This value corresponds to the query object in an Elasticsearch
search POST body. All the options that are supported by Elasticsearch can be used,
as this object is passed verbatim to Elasticsearch. By default, this property has
the following value: <code class="literal">{"match_all": {}}</code>.</dd></dl></div></dd></dl></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="dfanalytics-types"></a>Analysis objects<a href="https://github.com/elastic/elasticsearch/edit/7.3/docs/reference/ml/df-analytics/apis/dfanalyticsresources.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p>Data frame analytics resources contain <code class="literal">analysis</code> objects. For example, when you
create a data frame analytics job, you must define the type of analysis it performs.
Currently, <code class="literal">outlier_detection</code> is the only available type of analysis, however,
other types will be added, for example <code class="literal">regression</code>.</p><h4><a id="oldetection-resources"></a>Outlier detection configuration objects<a href="https://github.com/elastic/elasticsearch/edit/7.3/docs/reference/ml/df-analytics/apis/dfanalyticsresources.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4><p>An outlier detection configuration object has the following properties:</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="literal">compute_feature_influence</code></span></dt><dd>(boolean) If <code class="literal">true</code>, the feature influence calculation is enabled. Defaults to
<code class="literal">true</code>.</dd><dt><span class="term"><code class="literal">feature_influence_threshold</code></span></dt><dd>(double) The minimum outlier score that a document needs to have in order to
calculate its feature influence score. Value range: 0-1 (<code class="literal">0.1</code> by default).</dd><dt><span class="term"><code class="literal">method</code></span></dt><dd>(string) Sets the method that outlier detection uses. If the method is not set
outlier detection uses an ensemble of different methods and normalises and
combines their individual outlier scores to obtain the overall outlier score. We
recommend to use the ensemble method. Available methods are <code class="literal">lof</code>, <code class="literal">ldof</code>,
<code class="literal">distance_kth_nn</code>, <code class="literal">distance_knn</code>.</dd><dt><span class="term"><code class="literal">n_neighbors</code></span></dt><dd>(integer) Defines the value for how many nearest neighbors each method of
outlier detection will use to calculate its outlier score. When the value is not set,
different values will be used for different ensemble members. This helps
improve diversity in the ensemble. Therefore, only override this if you are
confident that the value you choose is appropriate for the data set.</dd><dt><span class="term"><code class="literal">outlier_fraction</code></span></dt><dd>(double) Sets the proportion of the data set that is assumed to be outlying prior to
outlier detection. For example, 0.05 means it is assumed that 5% of values are real outliers
and 95% are inliers.</dd><dt><span class="term"><code class="literal">standardize_columns</code></span></dt><dd>(boolean) If <code class="literal">true</code>, then the following operation is performed on the columns
before computing outlier scores: (x_i - mean(x_i)) / sd(x_i). Defaults to
<code class="literal">true</code>. For more information, see
<a class="ulink" href="https://en.wikipedia.org/wiki/Feature_scaling#Standardization_(Z-score_Normalization)" target="_top">this wiki page about standardization</a>.</dd></dl></div></div></div><div class="navfooter"><span class="prev"><a href="ml-datafeed-resource.html">
              « 
              Datafeed resources</a>
           
        </span><span class="next">
           
          <a href="ml-evaluate-dfanalytics-resources.html">Data frame analytics evaluation resources
               »
            </a></span></div>
                  <!-- end body -->
                </div>
                <div class="col-xs-12 col-sm-4 col-md-4" id="right_col">
                  <div id="rtpcontainer" style="display: block;">
                    <div class="mktg-promo">
                      <h3>Getting Started Videos</h3>
                      <ul class="icons">
                        <li class="icon-elasticsearch-white"><a href="https://www.elastic.co/webinars/getting-started-elasticsearch?baymax=default&elektra=docs&storm=top-video">Starting Elasticsearch</a></li>
                        <li class="icon-kibana-white"><a href="https://www.elastic.co/webinars/getting-started-kibana?baymax=default&elektra=docs&storm=top-video">Introduction to Kibana</a></li>
                        <li class="icon-logstash-white"><a href="https://www.elastic.co/webinars/getting-started-logstash?baymax=default&elektra=docs&storm=top-video">Logstash Starter Guide</a></li>
                      </ul>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </section>

        </div>


<div id='elastic-footer'></div>
<script src='https://www.elastic.co/elastic-footer.js'></script>
<!-- Footer Section end-->

      </section>
    </div>

<script type="text/javascript">
	var suggestionsUrl = "https://search.elastic.co/suggest";
	var localeUrl = '{"relative_url_prefix":"/","code":"en-us","display_code":"en-us","url":"/guide_template"}';
</script>
<script src="/static/js/swiftype_app_search.umd.min.js"></script>
<script type="text/javascript" src="/static/js/slick.min.js"></script>
<script type="text/javascript" src="/guide/static/docs.js"></script>
<script type="text/javascript">
  window.initial_state = {}</script>
  </body>
</html>
