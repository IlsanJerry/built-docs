<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Machine Learning Settings in Elasticsearch
        | Elasticsearch Reference [6.0]
      | Elastic
    </title><link rel="home" href="index.html" title="Elasticsearch Reference [6.0]" /><link rel="up" href="settings-xpack.html" title="X-Pack Settings in Elasticsearch" /><link rel="prev" href="settings-xpack.html" title="X-Pack Settings in Elasticsearch" /><link rel="next" href="notification-settings.html" title="Watcher Settings in Elasticsearch" /><meta name="DC.type" content="Learn/Docs/Elasticsearch/Reference/6.0" /><meta name="DC.subject" content="Elasticsearch" /><meta name="DC.identifier" content="6.0" />
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="apple-touch-icon" sizes="57x57" href="/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-icon-180x180.png">
    <link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="/android-chrome-192x192.png" sizes="192x192">
    <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
    <link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
    <link rel="manifest" href="/manifest.json">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#ffffff">
    <meta name="apple-mobile-web-app-title" content="Elastic">
    <meta name="application-name" content="Elastic">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/mstile-144x144.png">
    <meta name="theme-color" content="#ffffff">
    <meta name="naver-site-verification" content="936882c1853b701b3cef3721758d80535413dbfd" />
    <meta name="yandex-verification" content="d8a47e95d0972434" />
    <meta name="localized" content="true" />
    <meta property="og:image" content="https://www.elastic.co/static/images/elastic-logo-200.png" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <!-- For third-generation iPad with high-resolution Retina display: -->
    <link rel="apple-touch-icon-precomposed" sizes="64x64" href="/favicon_64x64_16bit.png">
    <!-- For iPhone with high-resolution Retina display: -->
    <link rel="apple-touch-icon-precomposed" sizes="32x32" href="/favicon_32x32.png">
    <!-- For first- and second-generation iPad: -->
    <link rel="apple-touch-icon-precomposed" sizes="16x16" href="/favicon_16x16.png">
    <script src="/static/js/jquery.min.js"></script>
    <script src="/static/js/bootstrap.min.js"></script>
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <link rel="stylesheet" type="text/css" href="/guide/static/styles.css" />
  </head>

  <body>
    <!-- Google Tag Manager -->
    <script>dataLayer = [];</script><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-58RLH5" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src= '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f); })(window,document,'script','dataLayer','GTM-58RLH5');</script>
    <!-- End Google Tag Manager -->
    
    <!-- new ga for staging server -->
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-12395217-16"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-12395217-16');
    </script>
    <!-- new ga for staging server -->

    <div id='elastic-nav' style="display:none;"></div>
    <script src='https://www.elastic.co/elastic-nav.js'></script>

    <!-- Subnav -->
    <div>
      <div>
        <div class="tertiary-nav d-none d-md-block">
          <div class="container">
            <div class="p-t-b-15 d-flex justify-content-between nav-container">
              <div class="breadcrum-wrapper"><span><a href="/guide/" style="font-size: 14px; font-weight: 600; color: #000;">Docs</a></span></div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="main-container">
      <section id="content" >
        <div class="content-wrapper">

          <section id="guide" lang="en">
            <div class="container">
              <div class="row">
                <div class="col-xs-12 col-sm-8 col-md-8 guide-section">
                  <!-- start body -->
                  <div class="page_header">You are looking at documentation for an older release.
Not what you want? See the
<a href="../current/index.html">current release documentation</a>.
</div><div class="breadcrumbs"><span class="breadcrumb-link"><a href="index.html">Elasticsearch Reference
      [6.0]
    </a></span> » <span class="breadcrumb-link"><a href="setup-xpack.html">Set up X-Pack</a></span> » <span class="breadcrumb-link"><a href="settings-xpack.html">X-Pack Settings in Elasticsearch</a></span> » <span class="breadcrumb-node">Machine Learning Settings in Elasticsearch</span></div><div class="navheader"><span class="prev"><a href="settings-xpack.html">
              « 
              X-Pack Settings in Elasticsearch</a>
           
        </span><span class="next">
           
          <a href="notification-settings.html">Watcher Settings in Elasticsearch
               »
            </a></span></div><div class="xpack section"><div class="titlepage"><div><div><h2 class="title"><a id="ml-settings"></a>Machine Learning Settings in Elasticsearch<a class="xpack_tag" href="/subscriptions"></a></h2></div></div></div><p>You do not need to configure any settings to use machine learning. It is enabled by default.</p><h4><a id="general-ml-settings"></a>General Machine Learning Settings</h4><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="literal">node.ml</code></span></dt><dd><p class="simpara">Set to <code class="literal">true</code> (default) to identify the node as a <span class="emphasis"><em>machine learning node</em></span>.</p><p class="simpara">If set to <code class="literal">false</code> in <code class="literal">elasticsearch.yml</code>, the node cannot run jobs. If set to
<code class="literal">true</code> but <code class="literal">xpack.ml.enabled</code> is set to <code class="literal">false</code>, the <code class="literal">node.ml</code> setting is
ignored and the node cannot run jobs. If you want to run jobs, there must be at
least one machine learning node in your cluster.</p><div class="important admon"><div class="icon"><img alt="Important" src="images/icons/important.png" /></div><div class="admon_content"><p>On dedicated coordinating nodes or dedicated master nodes, disable
the <code class="literal">node.ml</code> role.</p></div></div></dd><dt><span class="term"><code class="literal">xpack.ml.enabled</code></span></dt><dd><p class="simpara">Set to <code class="literal">true</code> (default) to enable machine learning on the node.</p><p class="simpara">If set to <code class="literal">false</code> in <code class="literal">elasticsearch.yml</code>, the machine learning APIs are disabled on the node.
Therefore the node cannot open jobs, start datafeeds, or receive transport (internal)
communication requests related to machine learning APIs. It also affects all Kibana instances
that connect to this Elasticsearch instance; you do not need to disable machine learning in those
<code class="literal">kibana.yml</code> files. For more information about disabling machine learning in specific Kibana
instances, see
<a class="ulink" href="https://www.elastic.co/guide/en/kibana/6.0/ml-settings-kb.html" target="_top">Kibana Machine Learning Settings</a>.</p><div class="important admon"><div class="icon"><img alt="Important" src="images/icons/important.png" /></div><div class="admon_content"><p>If you want to use machine learning features in your cluster, you must have
<code class="literal">xpack.ml.enabled</code> set to <code class="literal">true</code> on all master-eligible nodes. This is the
default behavior.</p></div></div></dd><dt><span class="term"><code class="literal">xpack.ml.max_open_jobs</code></span></dt><dd>The maximum number of jobs that can run on a node. Defaults to <code class="literal">10</code>.</dd><dt><span class="term"><code class="literal">xpack.ml.max_model_memory_limit</code></span></dt><dd>The maximum <code class="literal">model_memory_limit</code> property value that can be set for any job on
this node. If you try to create a job with a <code class="literal">model_memory_limit</code> property value
that is greater than this setting value, an error occurs. Existing jobs are not
affected when you update this setting. For more information about the
<code class="literal">model_memory_limit</code> property, see <a class="xref" href="ml-job-resource.html#ml-apilimits" title="Analysis Limits">Analysis Limits</a>.</dd><dt><span class="term"><code class="literal">xpack.ml.node_concurrent_job_allocations</code></span></dt><dd>The maximum number of jobs that can concurrently be in the <code class="literal">opening</code> state on
each node. Typically, jobs spend a small amount of time in this state before
they move to <code class="literal">open</code> state. Jobs that must restore large models when they are
opening spend more time in the <code class="literal">opening</code> state. Defaults to <code class="literal">2</code>.</dd></dl></div></div><div class="navfooter"><span class="prev"><a href="settings-xpack.html">
              « 
              X-Pack Settings in Elasticsearch</a>
           
        </span><span class="next">
           
          <a href="notification-settings.html">Watcher Settings in Elasticsearch
               »
            </a></span></div>
                  <!-- end body -->
                </div>
                <div class="col-xs-12 col-sm-4 col-md-4" id="right_col">
                  <div id="rtpcontainer" style="display: block;">
                    <div class="mktg-promo">
                      <h3>Getting Started Videos</h3>
                      <ul class="icons">
                        <li class="icon-elasticsearch-white"><a href="https://www.elastic.co/webinars/getting-started-elasticsearch?baymax=default&elektra=docs&storm=top-video">Starting Elasticsearch</a></li>
                        <li class="icon-kibana-white"><a href="https://www.elastic.co/webinars/getting-started-kibana?baymax=default&elektra=docs&storm=top-video">Introduction to Kibana</a></li>
                        <li class="icon-logstash-white"><a href="https://www.elastic.co/webinars/getting-started-logstash?baymax=default&elektra=docs&storm=top-video">Logstash Starter Guide</a></li>
                      </ul>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </section>

        </div>


<div id='elastic-footer'></div>
<script src='https://www.elastic.co/elastic-footer.js'></script>
<!-- Footer Section end-->

      </section>
    </div>

<script type="text/javascript">
	var suggestionsUrl = "https://search.elastic.co/suggest";
	var localeUrl = '{"relative_url_prefix":"/","code":"en-us","display_code":"en-us","url":"/guide_template"}';
</script>
<script src="/static/js/swiftype_app_search.umd.min.js"></script>
<script type="text/javascript" src="/static/js/slick.min.js"></script>
<script type="text/javascript" src="/guide/static/docs.js"></script>
<script type="text/javascript">
  window.initial_state = {}</script>
  </body>
</html>
