<!DOCTYPE html>
<html lang="en-us">
  <head>
    
<meta charset="UTF-8">
<title>Data tiers | Elasticsearch Reference [7.10] | Elastic</title>
<link rel="home" href="index.html" title="Elasticsearch Reference [7.10]"/>
<link rel="up" href="data-streams-change-mappings-and-settings.html" title="Change mappings and settings for a data stream"/>
<link rel="prev" href="data-streams-change-mappings-and-settings.html" title="Change mappings and settings for a data stream"/>
<link rel="next" href="ingest.html" title="Ingest node"/>
<meta name="DC.type" content="Learn/Docs/Elasticsearch/Reference/7.10"/>
<meta name="DC.subject" content="Elasticsearch"/>
<meta name="DC.identifier" content="7.10"/>

    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="apple-touch-icon" sizes="57x57" href="/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-icon-180x180.png">
    <link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="/android-chrome-192x192.png" sizes="192x192">
    <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
    <link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
    <link rel="manifest" href="/manifest.json">
    <meta name="apple-mobile-web-app-title" content="Elastic">
    <meta name="application-name" content="Elastic">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/mstile-144x144.png">
    <meta name="theme-color" content="#ffffff">
    <meta name="naver-site-verification" content="936882c1853b701b3cef3721758d80535413dbfd" />
    <meta name="yandex-verification" content="d8a47e95d0972434" />
    <meta name="localized" content="true" />
    <meta name="st:robots" content="follow,index" />
    <meta property="og:image" content="https://www.elastic.co/static/images/elastic-logo-200.png" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <link rel="apple-touch-icon-precomposed" sizes="64x64" href="/favicon_64x64_16bit.png">
    <link rel="apple-touch-icon-precomposed" sizes="32x32" href="/favicon_32x32.png">
    <link rel="apple-touch-icon-precomposed" sizes="16x16" href="/favicon_16x16.png">
    <!-- Give IE8 a fighting chance -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <link rel="stylesheet" type="text/css" href="/guide/static/styles.css" />
  </head>

  <body>
    <!-- Google Tag Manager -->
    <script>dataLayer = [];</script><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-58RLH5" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src= '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f); })(window,document,'script','dataLayer','GTM-58RLH5');</script>
    <!-- End Google Tag Manager -->
    
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-12395217-16"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-12395217-16');
    </script>

    <!--BEGIN QUALTRICS WEBSITE FEEDBACK SNIPPET-->
    <script type='text/javascript'>
      (function(){var g=function(e,h,f,g){
      this.get=function(a){for(var a=a+"=",c=document.cookie.split(";"),b=0,e=c.length;b<e;b++){for(var d=c[b];" "==d.charAt(0);)d=d.substring(1,d.length);if(0==d.indexOf(a))return d.substring(a.length,d.length)}return null};
      this.set=function(a,c){var b="",b=new Date;b.setTime(b.getTime()+6048E5);b="; expires="+b.toGMTString();document.cookie=a+"="+c+b+"; path=/; "};
      this.check=function(){var a=this.get(f);if(a)a=a.split(":");else if(100!=e)"v"==h&&(e=Math.random()>=e/100?0:100),a=[h,e,0],this.set(f,a.join(":"));else return!0;var c=a[1];if(100==c)return!0;switch(a[0]){case "v":return!1;case "r":return c=a[2]%Math.floor(100/c),a[2]++,this.set(f,a.join(":")),!c}return!0};
      this.go=function(){if(this.check()){var a=document.createElement("script");a.type="text/javascript";a.src=g;document.body&&document.body.appendChild(a)}};
      this.start=function(){var a=this;window.addEventListener?window.addEventListener("load",function(){a.go()},!1):window.attachEvent&&window.attachEvent("onload",function(){a.go()})}};
      try{(new g(100,"r","QSI_S_ZN_emkP0oSe9Qrn7kF","https://znemkp0ose9qrn7kf-elastic.siteintercept.qualtrics.com/WRSiteInterceptEngine/?Q_ZID=ZN_emkP0oSe9Qrn7kF")).start()}catch(i){}})();
    </script><div id='ZN_emkP0oSe9Qrn7kF'><!--DO NOT REMOVE-CONTENTS PLACED HERE--></div>
    <!--END WEBSITE FEEDBACK SNIPPET-->

    <div id='elastic-nav' style="display:none;"></div>
    <script src='https://www.elastic.co/elastic-nav.js'></script>

    <!-- Subnav -->
    <div>
      <div>
        <div class="tertiary-nav d-none d-md-block">
          <div class="container">
            <div class="p-t-b-15 d-flex justify-content-between nav-container">
              <div class="breadcrum-wrapper"><span><a href="/guide/" style="font-size: 14px; font-weight: 600; color: #000;">Docs</a></span></div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="main-container">
      <section id="content" >
        <div class="content-wrapper">

          <section id="guide" lang="en">
            <div class="container">
              <div class="row">
                <div class="col-xs-12 col-sm-8 col-md-8 guide-section">
                  <!-- start body -->
                  <div class="page_header">
You are looking at preliminary documentation for a future release.
Not what you want? See the
<a href="../current/index.html">current release documentation</a>.
</div>
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="index.html">Elasticsearch Reference [7.10]</a></span>
»
<span class="breadcrumb-link"><a href="data-streams.html">Data streams</a></span>
»
<span class="breadcrumb-link"><a href="data-streams-change-mappings-and-settings.html">Change mappings and settings for a data stream</a></span>
»
<span class="breadcrumb-node">Data tiers</span>
</div>
<div class="navheader">
<span class="prev">
<a href="data-streams-change-mappings-and-settings.html">« Change mappings and settings for a data stream</a>
</span>
<span class="next">
<a href="ingest.html">Ingest node »</a>
</span>
</div>
<div class="section xpack">
<div class="titlepage"><div><div>
<h2 class="title"><a id="data-tiers"></a>Data tiers<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.10/docs/reference/datatiers.asciidoc">edit</a><a class="xpack_tag" href="/subscriptions"></a></h2>
</div></div></div>
<p>Common data lifecycle management patterns revolve around transitioning indices
through multiple collections of nodes with different hardware characteristics in order
to fulfil evolving CRUD, search, and aggregation needs as indices age. The concept
of a tiered hardware architecture is not new in Elasticsearch.
<a class="xref" href="index-lifecycle-management.html" title="ILM: Manage the index lifecycle">Index Lifecycle Management</a> is instrumental in
implementing tiered architectures by automating the managemnt of indices according to
performance, resiliency and data retention requirements.
<a class="xref" href="overview-index-lifecycle-management.html" title="ILM overview">Hot/warm/cold</a> architectures are common
for timeseries data such as logging and metrics.</p>
<p>A data tier is a collection of nodes with the same role. Data tiers are an integrated
solution offering better support for optimising cost and improving performance.
Formalized data tiers in ES allow configuration of the lifecycle and location of data
in a hot/warm/cold topology without requiring the use of custom node attributes.
Each tier formalises specific characteristics and data behaviours.</p>
<p>The node roles that can currently define data tiers are:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<a class="xref" href="modules-node.html#data-content-node" title="Content data node">data_content</a>
</li>
<li class="listitem">
<a class="xref" href="modules-node.html#data-hot-node" title="Hot data node">data_hot</a>
</li>
<li class="listitem">
<a class="xref" href="modules-node.html#data-warm-node" title="Warm data node">data_warm</a>
</li>
<li class="listitem">
<a class="xref" href="modules-node.html#data-cold-node" title="Cold data node">data_cold</a>
</li>
</ul>
</div>
<p>The more generic <a class="xref" href="modules-node.html#data-node" title="Data node">data role</a> is not a data tier role, but
it is the default node role if no roles are configured. If a node has the
<a class="xref" href="modules-node.html#data-node" title="Data node">data</a> role we treat the node as if it has all of the tier
roles assigned.</p>
<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="content-tier"></a>Content tier<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.10/docs/reference/datatiers.asciidoc">edit</a></h3>
</div></div></div>
<p>The content tier is made of one or more nodes that have the <a class="xref" href="modules-node.html#data-content-node" title="Content data node">data_content</a>
role. A content tier is designed to store and search user created content. Non-timeseries data
doesn&#8217;t necessarily follow the hot-warm-cold path. The hardware profiles are quite different to
the <a class="xref" href="data-tiers.html#hot-tier" title="Hot tier">hot tier</a>. User created content prioritises high CPU to support complex
queries and aggregations in a timely manner, as opposed to the <a class="xref" href="data-tiers.html#hot-tier" title="Hot tier">hot tier</a> which
prioritises high IO.
The content data has very long data retention characteristics and from a resiliency perspective
the indices in this tier should be configured to use one or more replicas.</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>new indices that are not part of <a class="xref" href="data-streams.html" title="Data streams">data streams</a> will be automatically allocated to the
<a class="xref" href="data-tiers.html#content-tier" title="Content tier">Content tier</a></p>
</div>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="hot-tier"></a>Hot tier<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.10/docs/reference/datatiers.asciidoc">edit</a></h3>
</div></div></div>
<p>The hot tier is made of one or more nodes that have the <a class="xref" href="modules-node.html#data-hot-node" title="Hot data node">data_hot</a> role.
It is the Elasticsearch entry point for timeseries data. This tier needs to be fast both for reads
and writes, requiring more hardware resources such as SSD drives. The hot tier is usually
hosting the data from recent days. From a resiliency perspective the indices in this
tier should be configured to use one or more replicas.</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>new indices that are part of a <a class="xref" href="data-streams.html" title="Data streams">data stream</a> will be automatically allocated to the
<a class="xref" href="data-tiers.html#hot-tier" title="Hot tier">Hot tier</a></p>
</div>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="warm-tier"></a>Warm tier<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.10/docs/reference/datatiers.asciidoc">edit</a></h3>
</div></div></div>
<p>The warm tier is made of one or more nodes that have the <a class="xref" href="modules-node.html#data-warm-node" title="Warm data node">data_warm</a> role.
This tier is where data goes once it is not queried as frequently as in the <a class="xref" href="data-tiers.html#hot-tier" title="Hot tier">hot tier</a>.
It is a medium-fast tier that still allows data updates. The warm tier is usually
hosting the data from recent weeks. From a resiliency perspective the indices in this
tier should be configured to use one or more replicas.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="cold-tier"></a>Cold tier<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.10/docs/reference/datatiers.asciidoc">edit</a></h3>
</div></div></div>
<p>The cold tier is made of one or more nodes that have the <a class="xref" href="modules-node.html#data-cold-node" title="Cold data node">data_cold</a> role.
Once the data in the <a class="xref" href="data-tiers.html#warm-tier" title="Warm tier">warm tier</a> is not updated anymore it can transition to the
cold tier. The cold tier is still a responsive query tier but as the data transitions into this
tier it can be compressed, shrunken, or configured to have zero replicas and be backed by snapshot. The cold tier is usually hosting the data from recent
months or years.</p>
<h3><a id="data-tier-allocation"></a>Data tier index allocation<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.10/docs/reference/datatiers.asciidoc">edit</a></h3>
<p>When an index is created Elasticsearch will automatically allocate the index to the <a class="xref" href="data-tiers.html#content-tier" title="Content tier">Content tier</a>
if the index is not part of a <a class="xref" href="data-streams.html" title="Data streams">data stream</a> or to the <a class="xref" href="data-tiers.html#hot-tier" title="Hot tier">Hot tier</a> if the index
is part of a <a class="xref" href="data-streams.html" title="Data streams">data stream</a>.
Elasticsearch will configure the <a class="xref" href="data-tier-shard-filtering.html#tier-preference-allocation-filter"><code class="literal">index.routing.allocation.include._tier_preference</code></a>
to <code class="literal">data_content</code> or <code class="literal">data_hot</code> respectively.</p>
<p>These heuristics can be overridden by specifying any <a class="xref" href="shard-allocation-filtering.html" title="Index-level shard allocation filtering">shard allocation filtering</a>
settings in the create index request or index template that matches the new index.
Specifying any configuration, including <code class="literal">null</code>, for <code class="literal">index.routing.allocation.include._tier_preference</code> will
also opt out of the automatic new index allocation to tiers.</p>
<h3><a id="data-tier-migration"></a>Data tier index migration<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.10/docs/reference/datatiers.asciidoc">edit</a></h3>
<p><a class="xref" href="index-lifecycle-management.html" title="ILM: Manage the index lifecycle">Index Lifecycle Management</a> automates the transition of managed
indices through the available data tiers using the <code class="literal">migrate</code> action which is injected
in every phase, unless it&#8217;s manually specified in the phase or an
<a class="xref" href="ilm-actions.html#ilm-allocate-action">allocate action</a> modifying the allocation rules is manually configured.</p>
</div>

</div>
<div class="navfooter">
<span class="prev">
<a href="data-streams-change-mappings-and-settings.html">« Change mappings and settings for a data stream</a>
</span>
<span class="next">
<a href="ingest.html">Ingest node »</a>
</span>
</div>
</div>

                  <!-- end body -->
                </div>
                <div class="col-xs-12 col-sm-4 col-md-4" id="right_col">
                  <div id="rtpcontainer" style="display: block;">
                    <div class="mktg-promo">
                      <h3>Most Popular</h3>
                      <ul class="icons">
                        <li class="icon-elasticsearch-white"><a href="https://www.elastic.co/webinars/getting-started-elasticsearch?baymax=default&elektra=docs&storm=top-video">Get Started with Elasticsearch: Video</a></li>
                        <li class="icon-kibana-white"><a href="https://www.elastic.co/webinars/getting-started-kibana?baymax=default&elektra=docs&storm=top-video">Intro to Kibana: Video</a></li>
                        <li class="icon-logstash-white"><a href="https://www.elastic.co/webinars/introduction-elk-stack?baymax=default&elektra=docs&storm=top-video">ELK for Logs & Metrics: Video</a></li>
                      </ul>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </section>

        </div>


<div id='elastic-footer'></div>
<script src='https://www.elastic.co/elastic-footer.js'></script>
<!-- Footer Section end-->

      </section>
    </div>

<script type="text/javascript">
	var suggestionsUrl = "https://search.elastic.co/suggest";
	var localeUrl = '{"relative_url_prefix":"/","code":"en-us","display_code":"en-us","url":"/guide_template"}';
</script>
<script src="/static/js/swiftype_app_search.umd.min.js"></script>
<script src="/guide/static/jquery.js"></script>
<script type="text/javascript" src="/guide/static/docs.js"></script>
<script type="text/javascript">
  window.initial_state = {}</script>
  </body>
</html>
