<!DOCTYPE html>
<html lang="en-us">
  <head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Client configuration
        | Elasticsearch Node.js client [master]
      | Elastic
    </title><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Elasticsearch Node.js client [master]" /><link rel="up" href="index.html" title="Elasticsearch Node.js client [master]" /><link rel="prev" href="client-usage.html" title="Usage" /><link rel="next" href="api-reference.html" title="API Reference" /><meta name="description" content="Get started with the documentation for Elasticsearch, Kibana, Logstash, Beats, X-Pack, Elastic Cloud, Elasticsearch for Apache Hadoop, and our language clients." /><meta name="DC.type" content="Learn/Docs/Clients/JavaScript/master" /><meta name="DC.subject" content="Clients" /><meta name="DC.identifier" content="master" />
    
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="apple-touch-icon" sizes="57x57" href="/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-icon-180x180.png">
    <link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="/android-chrome-192x192.png" sizes="192x192">
    <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
    <link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
    <link rel="manifest" href="/manifest.json">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#ffffff">
    <meta name="apple-mobile-web-app-title" content="Elastic">
    <meta name="application-name" content="Elastic">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/mstile-144x144.png">
    <meta name="theme-color" content="#ffffff">
    <meta name="naver-site-verification" content="936882c1853b701b3cef3721758d80535413dbfd" />
    <meta name="yandex-verification" content="d8a47e95d0972434" />
    <!-- DC tags section -->
    <link rel="schema.DC" href="http://purl.org/dc/elements/1.1/" >
    <link rel="schema.DCTERMS" href="http://purl.org/dc/terms/" >
    
    <!-- end DC tags -->
    <meta name="description" content="" />
    <meta name="localized" content="true" />
    <meta property="og:image" content="https://www.elastic.co/static/images/elastic-logo-200.png" />
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <!-- For third-generation iPad with high-resolution Retina display: -->
    <link rel="apple-touch-icon-precomposed" sizes="64x64" href="/favicon_64x64_16bit.png">
    <!-- For iPhone with high-resolution Retina display: -->
    <link rel="apple-touch-icon-precomposed" sizes="32x32" href="/favicon_32x32.png">
    <!-- For first- and second-generation iPad: -->
    <link rel="apple-touch-icon-precomposed" sizes="16x16" href="/favicon_16x16.png">
    <!-- css -->
    <link href="/static/css/main.css" rel="stylesheet">
    <script src="/static/js/jquery.min.js"></script>
    <script src="/static/js/bootstrap.min.js"></script>
    <script src="/static/js/jquery.cookie.js"></script>
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <script type="text/javascript">
      // -------------------- set language based on browser language --------------------
      var lang = '/'+(navigator.language || navigator.userLanguage).slice(0,2)+'/',
      locales = {
        '/en':'/',
        '/de/': '/de/',
        '/fr/': '/fr/',
        '/ja/':'/jp/',
        '/ko/':'/kr/',
        '/zh/':'/cn/',
        '/es/': '/es/'
      },
      localeUrl = '{"relative_url_prefix":"/","code":"en-us","display_code":"en-us","url":"/guide_template"}',
      currentlocale = JSON.parse(localeUrl).relative_url_prefix;

      if($.cookie("is_lang_detected") == undefined){
        if(locales[lang] != undefined && locales[lang] != currentlocale){
          locale_lang_url = locales[lang] + window.location.pathname.slice(1,window.location.pathname.length);
          $.cookie("is_lang_detected",true ,{ path: '/'});
          window.location = locale_lang_url;
        }
      }
            
      // --------------------- end of set language based on browser language -----------------
    </script>
    <link type="text/css" rel="stylesheet" href="/static/css/guide.css" />
  
<link rel="stylesheet" type="text/css" href="styles.css" />

</head>

  <body>
    <!-- Google Tag Manager -->
    <script>dataLayer = [];</script><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-58RLH5" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src= '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f); })(window,document,'script','dataLayer','GTM-58RLH5');</script>
    <!-- End Google Tag Manager -->
    
    <!-- new ga for staging server -->
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-12395217-16"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-12395217-16');
    </script>
    <!-- new ga for staging server -->

    <!-- Elastic APM -->
    <!--
    <script src="https://www.elastic.co/static/js/elastic-apm-js-base.umd.min.2.2.0.js"></script>
    <script type="text/javascript">
      var elasticApm = init({
        serviceName: 'elastic-co-frontend',
        serverUrl: 'https://3ddd1ee09cc242c4b169d36f5a2b8b77.apm.us-west1.gcp.cloud.es.io:443',
        stackTraceLimit: 5,
        serviceVersion: '1.0.0'
      })
    
      var pageLoadName
      var pathname = window.location.pathname.replace(/\/es|\/pt|\/jp|\/pt|\/fr|\/kr|\/cn|\/de/g, '')
      var parts = pathname.split('/');
    
      if (parts.length && parts[1] === 'blog') {
        if (parts.length === 2) {
          pageLoadName =  '/blog';
        }
        else if (parts[2] === 'category') {
          pageLoadName =  '/blog/category';
        }
        else if (parts[2] === 'archive') {
          pageLoadName =  '/blog/archive';
        }
        else {
          pageLoadName =  '/blog/detail';
        }
      }
      else if (parts.length && parts[1] === 'elasticon') {
        if (parts.length === 2) {
          pageLoadName =  '/elasticon';
        }
        else if (parts.length === 5 && (parts[2] === 'conf' || parts[2] === 'tour')) {
          pageLoadName =  '/elasticon/overview';
        }
        else if (parts.length > 5 && (parts[2] === 'conf' || parts[2] === 'tour')) {
          pageLoadName =  '/elasticon/video';
        }
      }
      else if (parts.length && parts[1] === 'guide') {
        pageLoadName =  '/guide';
      }
      else if (parts.length === 2 && parts[1] === 'videos') {
        pageLoadName =  '/videos';
      }
      else if (parts.length > 2 && parts[1] === 'videos') {
        pageLoadName =  '/videos/detail';
      }
      else if (parts.length > 2 && parts[1] === 'webinars') {
        pageLoadName =  '/webinars/detail';
      }
      else {
        pageLoadName =  window.location.pathname;
      }
    
      console.log('apm pageLoadName:', pageLoadName, parts)
      elasticApm.setTags({env:"production"});
      elasticApm.setInitialPageLoadName(pageLoadName);
    </script>
    -->

    <!-- Header Section -->
    
    <div id='elastic-nav'></div>

    <link rel="stylesheet" type="text/css" href="/static/css/horizon-swiper.min.css">

    <style> 
      .m-shortcuts li a.m-search {
        background: url("/assets/blt7b9c4fe6528dc4ef/m-search-icon.png") no-repeat scroll center center rgba(0, 0, 0, 0);
        background-size: contain;}

      .m-shortcuts li a.m-docs {
        background: url("/assets/blt44d8b7530a76d01c/m-guide-icon.png") no-repeat scroll center center rgba(0, 0, 0, 0);
        background-size: contain;}

      .m-shortcuts li a.m-contact {
        background: url("/assets/blt878040795c9d083b/m-contact-icon.png") no-repeat scroll center center rgba(0, 0, 0, 0);
        background-size: contain;}
    </style>

    <script type="text/javascript" src="/static/js/horizon-swiper.min.js"></script>

    <script type="text/javascript">
      $(document).ready( function(){
        // if($('#scrollable-pane li').length > 3){
          $('.horizon-swiper').horizonSwiper({
            showItems: 3,
            arrows: true
          }); 
        // }
        
        $('.navbar-toggle').on('click', function(){
          $('.mobile-navigation, .menu-open').hide();
          $('.navigation-wrapper').addClass('mobile-navigation');
          $('.navbar').addClass('menu-open');
          $('.menu-close').show();
        });
        $('.menu-close').on('click', function(){
          $('.navigation-wrapper').removeClass('mobile-navigation');
          $('.navbar').removeClass('menu-open');
          $('.menu-close').hide();
        });
    
        var active_url = "";
    
        $(".navbar-mobile-header-icon").click(function(index){
          $('.navigation-wrapper').toggleClass('menu-overlay');
          $(this).toggleClass("navbar-mobile-header-icon-click navbar-mobile-header-icon-out");
          $(".mobile-inner-nav").slideToggle(500);
          $(".mobile-inner-nav .navbar-nav a").each(function( index ) {
            $(this).css({'animation-delay': (index/25)+'0.4s'});
          });
        });
    
        $('.dropdown-btn').on('click', function(e){
          e.preventDefault();
          setDropdown();
        });
        
        function setDropdown() {
          $('#myDropdown').slideToggle();
        }
    
        $('body').on('click', function(event){
          if (!event.target.matches('.dropdown-btn')) {
    
            var dropdowns = $(".dropdown-content");
            var i;
            for (i = 0; i < dropdowns.length; i++) {
              var openDropdown = dropdowns[i];
              if (openDropdown.classList.contains('show')) {
                openDropdown.classList.remove('show');
              }
            }
          }
        });
    
      });
      $(window).resize(function () {
        $('.horizon-swiper').horizonSwiper({
          showItems: 3,
          arrows: true
        });
      });
    </script>

    <div class="main-container">
      <section id="content" >
        <div class="content-wrapper">   

          <section id="guide" lang="en">
            <div class="container">
              <div class="row">
                <!-- start body -->
                
            <div class="col-xs-12 col-sm-8 col-md-8 guide-section">
            <!-- start body -->
<div class="page_header">You are looking at preliminary documentation for a future release.
Not what you want? See the
<a href="../current/index.html">current release documentation</a>.
</div><div class="breadcrumbs"><span class="breadcrumb-link"><a href="index.html">Elasticsearch Node.js client
      [master]
    </a></span> » <span class="breadcrumb-node">Client configuration</span></div><div class="navheader"><span class="prev"><a href="client-usage.html">
              « 
              Usage</a>
           
        </span><span class="next">
           
          <a href="api-reference.html">API Reference
               »
            </a></span></div><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a id="client-configuration"></a>Client configuration<a href="https://github.com/elastic/elasticsearch-js/edit/master/docs/configuration.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h1></div></div></div><p>The client is designed to be easily configured as you see fit for your needs, following you can see all the possible basic options that you can use to configure it.</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-js">const { Client } = require('@elastic/elasticsearch')

const client = new Client({
  node: 'http://localhost:9200',
  maxRetries: 5,
  requestTimeout: 60000,
  sniffOnStart: true
})</pre></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="_basic_options"></a>Basic options<a href="https://github.com/elastic/elasticsearch-js/edit/master/docs/configuration.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h2></div></div></div><div class="informaltable"><table cellpadding="4px" border="1"><colgroup><col class="col_1" /><col class="col_2" /></colgroup><tbody><tr><td align="left" valign="top"><p><code class="literal">node</code> or <code class="literal">nodes</code></p></td><td align="left" valign="top"><p>The Elasticsearch endpoint to use.
It can be a single string or an array of strings:</p>
<div class="pre_wrapper"><pre class="programlisting prettyprint lang-js">node: 'http://localhost:9200'</pre></div>
<p>Or it can be an object (or an array of objects) that represents the node</p>
<div class="pre_wrapper"><pre class="programlisting prettyprint lang-js">node: {
  url: new URL('http://localhost:9200'),
  ssl: 'ssl options',
  agent: 'http agent options',
  id: 'custom node id',
  headers: { 'custom': 'headers' }
  roles: {
    master: true,
    data: true,
    ingest: true,
    ml: false
  }
}</pre></div></td></tr><tr><td align="left" valign="top"><p><code class="literal">maxRetries</code></p></td><td align="left" valign="top"><p><code class="literal">number</code> - Max number of retries for each request.
<span class="emphasis"><em>Default:</em></span> <code class="literal">3</code></p></td></tr><tr><td align="left" valign="top"><p><code class="literal">requestTimeout</code></p></td><td align="left" valign="top"><p><code class="literal">number</code> - Max request timeout for each request.
<span class="emphasis"><em>Default:</em></span> <code class="literal">30000</code></p></td></tr><tr><td align="left" valign="top"><p><code class="literal">pingTimeout</code></p></td><td align="left" valign="top"><p><code class="literal">number</code> - Max ping request timeout for each request.
<span class="emphasis"><em>Default:</em></span> <code class="literal">3000</code></p></td></tr><tr><td align="left" valign="top"><p><code class="literal">sniffInterval</code></p></td><td align="left" valign="top"><p><code class="literal">number, boolean</code> - Perform a sniff operation every <code class="literal">n</code> milliseconds.
<span class="emphasis"><em>Default:</em></span> <code class="literal">false</code></p></td></tr><tr><td align="left" valign="top"><p><code class="literal">sniffOnStart</code></p></td><td align="left" valign="top"><p><code class="literal">boolean</code> - Perform a sniff once the client is started.
<span class="emphasis"><em>Default:</em></span> <code class="literal">false</code></p></td></tr><tr><td align="left" valign="top"><p><code class="literal">sniffEndpoint</code></p></td><td align="left" valign="top"><p><code class="literal">string</code> - Max request timeout for each request.
<span class="emphasis"><em>Default:</em></span> <code class="literal">'_nodes/_all/http'</code></p></td></tr><tr><td align="left" valign="top"><p><code class="literal">sniffOnConnectionFault</code></p></td><td align="left" valign="top"><p><code class="literal">boolean</code> - Perform a sniff on connection fault.
<span class="emphasis"><em>Default:</em></span> <code class="literal">false</code></p></td></tr><tr><td align="left" valign="top"><p><code class="literal">resurrectStrategy</code></p></td><td align="left" valign="top"><p><code class="literal">string</code> - Configure the node resurrection strategy.
<span class="emphasis"><em>Options:</em></span> <code class="literal">'ping'</code>, <code class="literal">'optimistic'</code>, <code class="literal">'none'</code>
<span class="emphasis"><em>Default:</em></span> <code class="literal">'ping'</code></p></td></tr><tr><td align="left" valign="top"><p><code class="literal">suggestCompression</code></p></td><td align="left" valign="top"><p><code class="literal">boolean</code> - Adds <code class="literal">accept-encoding</code> header to every request.
<span class="emphasis"><em>Default:</em></span> <code class="literal">false</code></p></td></tr><tr><td align="left" valign="top"><p><code class="literal">compression</code></p></td><td align="left" valign="top"><p><code class="literal">string, boolean</code> - Enables gzip request body compression.
<span class="emphasis"><em>Options:</em></span> <code class="literal">'gzip'</code>, <code class="literal">false</code>
<span class="emphasis"><em>Default:</em></span> <code class="literal">false</code></p></td></tr><tr><td align="left" valign="top"><p><code class="literal">ssl</code></p></td><td align="left" valign="top"><p><code class="literal">http.SecureContextOptions</code> - ssl <a class="ulink" href="https://nodejs.org/api/tls.html" target="_top">configuraton</a>.
<span class="emphasis"><em>Default:</em></span> <code class="literal">null</code></p></td></tr><tr><td align="left" valign="top"><p><code class="literal">agent</code></p></td><td align="left" valign="top"><p><code class="literal">http.AgentOptions, function</code> - http agent <a class="ulink" href="https://nodejs.org/api/http.html#http_new_agent_options" target="_top">options</a>, or a function that returns an actual http agent instance.
<span class="emphasis"><em>Default:</em></span> <code class="literal">null</code></p>
<div class="pre_wrapper"><pre class="programlisting prettyprint lang-js">const client = new Client({
  node: 'http://localhost:9200',
  agent: { agent: 'options' }
})

const client = new Client({
  node: 'http://localhost:9200',
  agent: () =&gt; new CustomAgent()
})</pre></div></td></tr><tr><td align="left" valign="top"><p><code class="literal">nodeFilter</code></p></td><td align="left" valign="top"><p><code class="literal">function</code> - Filters which node not to use for a request.
<span class="emphasis"><em>Default:</em></span></p>
<div class="pre_wrapper"><pre class="programlisting prettyprint lang-js">function defaultNodeFilter (node) {
  // avoid master only nodes
  if (node.roles.master === true &amp;&amp;
      node.roles.data === false &amp;&amp;
      node.roles.ingest === false) {
    return false
  }
  return true
}</pre></div></td></tr><tr><td align="left" valign="top"><p><code class="literal">nodeSelector</code></p></td><td align="left" valign="top"><p><code class="literal">function</code> - custom selection strategy.
<span class="emphasis"><em>Options:</em></span> <code class="literal">'round-robin'</code>, <code class="literal">'random'</code>, custom function
<span class="emphasis"><em>Default:</em></span> <code class="literal">'round-robin'</code>
<span class="emphasis"><em>Custom function example:</em></span></p>
<div class="pre_wrapper"><pre class="programlisting prettyprint lang-js">function nodeSelector (connections) {
  const index = calculateIndex()
  return connections[index]
}</pre></div></td></tr><tr><td align="left" valign="top"><p><code class="literal">generateRequestId</code></p></td><td align="left" valign="top"><p><code class="literal">function</code> - function to generate the request id for every request, it takes two parameters, the request parameters and options.
By default it generates an incremental integer for every request.
<span class="emphasis"><em>Custom function example:</em></span></p>
<div class="pre_wrapper"><pre class="programlisting prettyprint lang-js">function generateRequestId (params, options) {
  // your id generation logic
  // must be syncronous
  return 'id'
}</pre></div></td></tr><tr><td align="left" valign="top"><p><code class="literal">name</code></p></td><td align="left" valign="top"><p><code class="literal">string</code> - The name to identify the client instance in the events.
<span class="emphasis"><em>Default:</em></span> <code class="literal">elasticsearch-js</code></p></td></tr><tr><td align="left" valign="top"><p><code class="literal">headers</code></p></td><td align="left" valign="top"><p><code class="literal">object</code> - A set of custom headers to send in every request.
<span class="emphasis"><em>Default:</em></span> <code class="literal">{}</code></p></td></tr><tr><td align="left" valign="top"><p><code class="literal">cloud</code></p></td><td align="left" valign="top"><p><code class="literal">object</code> - Custom configuration for connecting to <a class="ulink" href="https://cloud.elastic.co" target="_top">Elastic Cloud</a>. See <a class="ulink" href="https://www.elastic.co/guide/en/elasticsearch/client/javascript-api/current/auth-reference.html" target="_top">Authentication</a> for more details.
<span class="emphasis"><em>Default:</em></span> <code class="literal">null</code>
<span class="emphasis"><em>Cloud configuration example:</em></span></p>
<div class="pre_wrapper"><pre class="programlisting prettyprint lang-js">const client = new Client({
  cloud: {
    id: 'name:bG9jYWxob3N0JGFiY2QkZWZnaA==',
    username: 'elastic',
    password: 'changeme'
  }
})</pre></div></td></tr></tbody></table></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="_advanced_configuration"></a>Advanced configuration<a href="https://github.com/elastic/elasticsearch-js/edit/master/docs/configuration.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h2></div></div></div><p>If you need to customize the client behavior heavily, you are in the right place!
The client allows you to customize the following internals:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><code class="literal">Transport</code> class</li><li class="listitem"><code class="literal">ConnectionPool</code> class</li><li class="listitem"><code class="literal">Connection</code> class</li><li class="listitem"><code class="literal">Serializer</code> class</li></ul></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="_transport"></a><code class="literal">Transport</code><a href="https://github.com/elastic/elasticsearch-js/edit/master/docs/configuration.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h2></div></div></div><p>This class is responsible to perform the request to Elasticsearch and handling errors, it also handle the sniffing.</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-js">const { Client, Transport } = require('@elastic/elasticsearch')

class MyTransport extends Transport {
  request (params, options, callback) {
    // your code
  }
}

const client = new Client({
    Transport: MyTransport
})</pre></div><p>Sometimes you just need to inject a little snippet of your code and then continue to use the usual client code, in such case, you should call <code class="literal">super.method</code>.</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-js">class MyTransport extends Transport {
  request (params, options, callback) {
    // your code
    super.request(params, options, callback)
  }
}</pre></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="_connectionpool"></a><code class="literal">ConnectionPool</code><a href="https://github.com/elastic/elasticsearch-js/edit/master/docs/configuration.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h2></div></div></div><p>This class is responsible for keeping in memory all the Elasticsearch Connection that we are using, there is a single Connection for every node.
Moreover, the connection pool will handle the resurrection strategies and the updates of the pool.</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-js">const { Client, ConnectionPool } = require('@elastic/elasticsearch')

class MyConnectionPool extends ConnectionPool {
  markAlive (connection) {
    // your code
    super.markAlive(connection)
  }
}

const client = new Client({
    ConnectionPool: MyConnectionPool
})</pre></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="_connection"></a><code class="literal">Connection</code><a href="https://github.com/elastic/elasticsearch-js/edit/master/docs/configuration.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h2></div></div></div><p>This class represents a single Node, it holds every information we have on the node, such as roles, id, URL, custom headers and so on. The actual HTTP request is performed here, this means that if you want to swap the default HTTP client (Node.js core), you should override this class <code class="literal">request</code> method.</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-js">const { Client, Connection } = require('@elastic/elasticsearch')

class MyConnection extends Connection {
  request (params, callback) {
    // your code
  }
}

const client = new Client({
  Connection: MyConnection
})</pre></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="_serializer"></a><code class="literal">Serializer</code><a href="https://github.com/elastic/elasticsearch-js/edit/master/docs/configuration.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h2></div></div></div><p>This class is responsible of the serialization of every request, it offers the following methods:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><code class="literal">serialize(object: any): string;</code>, serializes request objects</li><li class="listitem"><code class="literal">deserialize(json: string): any;</code>, deserializes response strings</li><li class="listitem"><code class="literal">ndserialize(array: any[]): string;</code>, serializes bulk request objects</li><li class="listitem"><code class="literal">qserialize(object: any): string;</code>, serializes request query parameters</li></ul></div><div class="pre_wrapper"><pre class="programlisting prettyprint lang-js">const { Client, Serializer } = require('@elastic/elasticsearch')

class MySerializer extends Serializer {
  serialize (object) {
    // your code
  }
}

const client = new Client({
  Serializer: MySerializer
})</pre></div></div></div><div class="navfooter"><span class="prev"><a href="client-usage.html">
              « 
              Usage</a>
           
        </span><span class="next">
           
          <a href="api-reference.html">API Reference
               »
            </a></span></div>
<!-- end body -->

            </div>
            <div class="col-xs-12 col-sm-4 col-md-4" id="right_col">
        
                  <div id="rtpcontainer" style="display: block;">
                    <div class="mktg-promo">
                      <h3>Getting Started Videos</h3>
                      <ul class="icons">
                        <li class="icon-elasticsearch-white"><a href="https://www.elastic.co/webinars/getting-started-elasticsearch?baymax=default&elektra=docs&storm=top-video">Starting Elasticsearch</a></li>
                        <li class="icon-kibana-white"><a href="https://www.elastic.co/webinars/getting-started-kibana?baymax=default&elektra=docs&storm=top-video">Introduction to Kibana</a></li>
                        <li class="icon-logstash-white"><a href="https://www.elastic.co/webinars/getting-started-logstash?baymax=default&elektra=docs&storm=top-video">Logstash Starter Guide</a></li>
                      </ul>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </section>

        </div>


<div id='elastic-footer'</div>
<!-- Footer Section end-->

<script src='https://www.elastic.co/elastic-nav.js'></script>
<script src='https://www.elastic.co/elastic-footer.js'></script>

<style type="text/css">
	
        
            .Facebook a {background:url("/assets/bltf546ff2e0a8f2de5/facebook.svg") no-repeat;}
            .Facebook a:before {
                content: url("/assets/bltc24cf11c714ecfc4/facebook-hover.svg");
                width:0;
                height:0;
                visibility:hidden;
            }
        
        
            .Facebook a:hover {background:url("/assets/bltc24cf11c714ecfc4/facebook-hover.svg")}		
        
	
        
            .Twitter a {background:url("/assets/bltdd9556d6b24e2b85/twitter.svg") no-repeat;}
            .Twitter a:before {
                content: url("/assets/blt90b0372cc07a54d3/twitter-hover.svg");
                width:0;
                height:0;
                visibility:hidden;
            }
        
        
            .Twitter a:hover {background:url("/assets/blt90b0372cc07a54d3/twitter-hover.svg")}		
        
	
        
            .LinkedIn a {background:url("/assets/bltc4a77e0f52ce07f1/linkedin.svg") no-repeat;}
            .LinkedIn a:before {
                content: url("/assets/blt01ce654380e4ea6c/linkedin-hover.svg");
                width:0;
                height:0;
                visibility:hidden;
            }
        
        
            .LinkedIn a:hover {background:url("/assets/blt01ce654380e4ea6c/linkedin-hover.svg")}		
        
	
        
            .Xing a {background:url("/assets/bltc6347078dcc9ec76/xing.svg") no-repeat;}
            .Xing a:before {
                content: url("/assets/bltededebe5f7521a39/xing-hover.svg");
                width:0;
                height:0;
                visibility:hidden;
            }
        
        
            .Xing a:hover {background:url("/assets/bltededebe5f7521a39/xing-hover.svg")}		
        
	
        
            .YouTube a {background:url("/assets/blt4982061ce1aebc7f/youtube.svg") no-repeat;}
            .YouTube a:before {
                content: url("/assets/bltddeb6c6404ae81a5/youtube-hover.svg");
                width:0;
                height:0;
                visibility:hidden;
            }
        
        
            .YouTube a:hover {background:url("/assets/bltddeb6c6404ae81a5/youtube-hover.svg")}		
        
	
</style>

<script src="//app-lon02.marketo.com/js/forms2/js/forms2.min.js"></script>
<script>
$(document).ready(function(){

    var ipSuccess = function(data) {
        country = data.country_code;
        if (data.in_eu){
                        
            marketo_id = "6196";
            
        }else{ 
            marketo_id = "1398";

        }

        $('.subscribe-form form.sb-form').attr('id', 'mktoForm_' + marketo_id);
        if(window.MktoForms2){
            MktoForms2.loadForm("//app-lon02.marketo.com", "813-MAM-392", marketo_id,function(form){
                form.onSuccess(function(form){
                    $('#mktoForm_'+marketo_id).css('display','none');
                    $('.subscribe-wrapper .subscribe-form-container').hide();
                    $('.subscribe-wrapper').find('.form_thanks').removeClass('hide')
                    dataLayer.push({'event': 'mktoFormSubmit'});
                    return false;
                });
            });  
        }
    }

    var marketo_id;

    $.ajax({
        url: "/gdpr-data"
    }).success(function(data) {
        ipSuccess(data);
    });

})
</script>

      </section>
    </div>

    
     <script type="text/javascript">
	var suggestionsUrl = "https://search.elastic.co/suggest";
	var localeUrl = '{"relative_url_prefix":"/","code":"en-us","display_code":"en-us","url":"/guide_template"}';
</script>
<script src="/static/js/swiftype_app_search.umd.min.js"></script>
<script src="/static/js/jquery.autocomplete.js"></script>
<script type="text/javascript" src="/static/js/slick.min.js"></script>
<script src="/static/js/nav-v5.js"></script>
<script src="/static/js/script.js"></script>
 
     
<script type="text/javascript">
$(document).ready(function(){
	if (window.location.hash.length) {
	      var target = $(window.location.hash);
	      target = target.length ? target : $(window.location.hash);
	      if (target.length) {
	        setTimeout(function(){ $(window).scrollTop(target.offset().top - 60); }, 1200);        
	      }
	}
	$('#guide').on('click','a[href*=#]:not([href=#])',function(e) {
			var flag=true;
		      if (location.pathname.replace(/^\//,'') == this.pathname.replace(/^\//,'') && location.hostname == this.hostname) {
		          var target = $(this.hash);
		          target = target.length ? target :$(this.hash);
		          if (target.length) {
		            if(flag){
		              flag=false;
		              var heightScroll=($('.tertiary-nav.navbar-fixed-top').height())?60:110;
		              $('html,body').animate({
		                  scrollTop: target.offset().top - heightScroll
		                }, 2000, function(){
		                  flag=true;
		                });
		            }                    
		          }
		      }
		    
	});

})

</script>

     <style></style>
     
  
            <script type="text/javascript" src="docs.js"></script>
<script type='text/javascript' src='https://cdn.rawgit.com/google/code-prettify/master/loader/run_prettify.js?lang=yaml'></script>

            </body>
        
</html>
