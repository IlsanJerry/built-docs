<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Breaking Changes
        | Logstash Reference [2.4]
      | Elastic
    </title><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Logstash Reference [2.4]" /><link rel="up" href="index.html" title="Logstash Reference [2.4]" /><link rel="prev" href="pipeline.html" title="Logstash Processing Pipeline" /><link rel="next" href="upgrading-logstash.html" title="Upgrading Logstash" /><meta name="description" content="Get started with the documentation for Elasticsearch, Kibana, Logstash, Beats, X-Pack, Elastic Cloud, Elasticsearch for Apache Hadoop, and our language clients." /><meta name="DC.type" content="Learn/Docs/Logstash/Reference/2.4" /><meta name="DC.subject" content="Logstash" /><meta name="DC.identifier" content="2.4" />
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="apple-touch-icon" sizes="57x57" href="/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-icon-180x180.png">
    <link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="/android-chrome-192x192.png" sizes="192x192">
    <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
    <link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
    <link rel="manifest" href="/manifest.json">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#ffffff">
    <meta name="apple-mobile-web-app-title" content="Elastic">
    <meta name="application-name" content="Elastic">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/mstile-144x144.png">
    <meta name="theme-color" content="#ffffff">
    <meta name="naver-site-verification" content="936882c1853b701b3cef3721758d80535413dbfd" />
    <meta name="yandex-verification" content="d8a47e95d0972434" />
    <meta name="description" content="" />
    <meta name="localized" content="true" />
    <meta property="og:image" content="https://www.elastic.co/static/images/elastic-logo-200.png" />
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <!-- For third-generation iPad with high-resolution Retina display: -->
    <link rel="apple-touch-icon-precomposed" sizes="64x64" href="/favicon_64x64_16bit.png">
    <!-- For iPhone with high-resolution Retina display: -->
    <link rel="apple-touch-icon-precomposed" sizes="32x32" href="/favicon_32x32.png">
    <!-- For first- and second-generation iPad: -->
    <link rel="apple-touch-icon-precomposed" sizes="16x16" href="/favicon_16x16.png">
    <!-- css -->
    <script src="/static/js/jquery.min.js"></script>
    <script src="/static/js/bootstrap.min.js"></script>
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <link rel="stylesheet" type="text/css" href="/guide/static/styles.css" />
  </head>

  <body>
    <!-- Google Tag Manager -->
    <script>dataLayer = [];</script><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-58RLH5" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src= '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f); })(window,document,'script','dataLayer','GTM-58RLH5');</script>
    <!-- End Google Tag Manager -->
    
    <!-- new ga for staging server -->
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-12395217-16"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-12395217-16');
    </script>
    <!-- new ga for staging server -->

    <!-- Elastic APM -->
    <!--
    <script src="https://www.elastic.co/static/js/elastic-apm-js-base.umd.min.2.2.0.js"></script>
    <script type="text/javascript">
      var elasticApm = init({
        serviceName: 'elastic-co-frontend',
        serverUrl: 'https://3ddd1ee09cc242c4b169d36f5a2b8b77.apm.us-west1.gcp.cloud.es.io:443',
        stackTraceLimit: 5,
        serviceVersion: '1.0.0'
      })
    
      var pageLoadName
      var pathname = window.location.pathname.replace(/\/es|\/pt|\/jp|\/pt|\/fr|\/kr|\/cn|\/de/g, '')
      var parts = pathname.split('/');
    
      if (parts.length && parts[1] === 'blog') {
        if (parts.length === 2) {
          pageLoadName =  '/blog';
        }
        else if (parts[2] === 'category') {
          pageLoadName =  '/blog/category';
        }
        else if (parts[2] === 'archive') {
          pageLoadName =  '/blog/archive';
        }
        else {
          pageLoadName =  '/blog/detail';
        }
      }
      else if (parts.length && parts[1] === 'elasticon') {
        if (parts.length === 2) {
          pageLoadName =  '/elasticon';
        }
        else if (parts.length === 5 && (parts[2] === 'conf' || parts[2] === 'tour')) {
          pageLoadName =  '/elasticon/overview';
        }
        else if (parts.length > 5 && (parts[2] === 'conf' || parts[2] === 'tour')) {
          pageLoadName =  '/elasticon/video';
        }
      }
      else if (parts.length && parts[1] === 'guide') {
        pageLoadName =  '/guide';
      }
      else if (parts.length === 2 && parts[1] === 'videos') {
        pageLoadName =  '/videos';
      }
      else if (parts.length > 2 && parts[1] === 'videos') {
        pageLoadName =  '/videos/detail';
      }
      else if (parts.length > 2 && parts[1] === 'webinars') {
        pageLoadName =  '/webinars/detail';
      }
      else {
        pageLoadName =  window.location.pathname;
      }
    
      console.log('apm pageLoadName:', pageLoadName, parts)
      elasticApm.setTags({env:"production"});
      elasticApm.setInitialPageLoadName(pageLoadName);
    </script>
    -->

    <!-- Header Section -->
    
    <div id='elastic-nav'></div>

    <!-- Subnav -->
    <div>
      <div>
        <div class="tertiary-nav d-none d-md-block">
          <div class="container">
            <div class="p-t-b-15 d-flex justify-content-between nav-container">
              <div class="breadcrum-wrapper"><span><a href="/guide/" style="font-size: 14px; font-weight: 600; color: #000;">Docs</a></span></div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="main-container">
      <section id="content" >
        <div class="content-wrapper">

          <section id="guide" lang="en">
            <div class="container">
              <div class="row">
                <div class="col-xs-12 col-sm-8 col-md-8 guide-section">
                  <!-- start body -->
                  <div class="page_header">You are looking at documentation for an older release.
Not what you want? See the
<a href="../current/index.html">current release documentation</a>.
</div><div class="breadcrumbs"><span class="breadcrumb-link"><a href="index.html">Logstash Reference
      [2.4]
    </a></span> » <span class="breadcrumb-node">Breaking Changes</span></div><div class="navheader"><span class="prev"><a href="pipeline.html">
              « 
              Logstash Processing Pipeline</a>
           
        </span><span class="next">
           
          <a href="upgrading-logstash.html">Upgrading Logstash
               »
            </a></span></div><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a id="breaking-changes"></a>Breaking Changes<a href="https://github.com/elastic/logstash/edit/master/docs/static/breaking-changes.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h1></div></div></div><p>This section discusses the changes that you need to be aware of when migrating your application from one version of Logstash to another.</p><h3><a id="_changes_in_2_4"></a>Changes in 2.4<a href="https://github.com/elastic/logstash/edit/master/docs/static/breaking-changes.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3><h4><a id="_beats_input_config_change"></a>Beats Input Config Change<a href="https://github.com/elastic/logstash/edit/master/docs/static/breaking-changes.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4><p>The Beats input has been reimplemented using Netty, an asynchronous IO framework for Java.
This rewrite for performance brings the plugin in line with the Logstash Forwarder + LS combination.
As part of the Beats refactor, we now only support private keys in PKCS#8 format. You can easily convert existing keys to use the PKCS#8 format by using the OpenSSL Toolkit. See the <a class="ulink" href="https://www.openssl.org/docs/manmaster/apps/pkcs8.html" target="_top">OpenSSL</a> documentation.</p><h3><a id="_changes_in_2_2"></a>Changes in 2.2<a href="https://github.com/elastic/logstash/edit/master/docs/static/breaking-changes.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3><p>Although 2.2 is fully compatible with configurations from older versions, there are some architectural
changes to the pipeline that users need to take into consideration before deploying in production.
These changes are not strictly "breaking" in the semantic versioning sense, but they make Logstash behave differently
in runtime, and can also affect performance. We have compiled such a list in the <a class="xref" href="upgrading-logstash-2.2.html" title="Upgrading Logstash to 2.2">Upgrading Logstash to 2.2</a> section.
Please review it before deploying 2.2 version.</p><h3><a id="_changes_in_2_0"></a>Changes in 2.0<a href="https://github.com/elastic/logstash/edit/master/docs/static/breaking-changes.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3><p>Version 2.0 of Logstash has some changes that are incompatible with previous versions of Logstash. This section discusses
what you need to be aware of when migrating to this version.</p><h4><a id="_elasticsearch_output_default"></a>Elasticsearch Output Default<a href="https://github.com/elastic/logstash/edit/master/docs/static/breaking-changes.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4><p>Starting with the 2.0 release of Logstash, the default Logstash output for Elasticsearch is HTTP. To use the <code class="literal">node</code> or
<code class="literal">transport</code> protocols, download the <a class="ulink" href="https://www.elastic.co/guide/en/logstash/2.0/plugins-outputs-elasticsearch_java.html" target="_top">Elasticsearch Java plugin</a>. The
Logstash HTTP output to Elasticsearch now supports sniffing.</p><div class="note admon"><div class="icon"><img alt="Note" src="images/icons/note.png" /></div><div class="admon_content"><p>The <code class="literal">elasticsearch_java</code> plugin has two versions specific to the version of the underlying Elasticsearch cluster.
Be sure to specify the correct value for the <code class="literal">--version</code> option during installation:
* For Elasticsearch versions before 2.0, use the command
<code class="literal">bin/plugin install --version 1.5.x logstash-output-elasticsearch_java</code>
* For Elasticsearch versions 2.0 and after, use the command
<code class="literal">bin/plugin install --version 2.0.0 logstash-output-elasticsearch_java</code></p></div></div><h4><a id="_elasticsearch_output_configuration_changes"></a>Elasticsearch Output Configuration Changes<a href="https://github.com/elastic/logstash/edit/master/docs/static/breaking-changes.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4><p>The Elasticsearch output plugin configuration has the following changes:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">The <code class="literal">host</code> configuration option is now <code class="literal">hosts</code>, allowing you to specify multiple hosts and associated ports in the
<code class="literal">myhost:9200</code> format</li><li class="listitem">New options: <code class="literal">bind_host</code>, <code class="literal">bind_port</code>, <code class="literal">cluster</code>, <code class="literal">embedded</code>, <code class="literal">embedded_http_port</code>, <code class="literal">port</code>, <code class="literal">sniffing_delay</code></li><li class="listitem">The <code class="literal">max_inflight_requests</code> option, which was deprecated in the 1.5 release, is now removed</li><li class="listitem">Since the <code class="literal">hosts</code> option allows specification of ports for the hosts, the redundant <code class="literal">port</code> option is now removed</li><li class="listitem">The <code class="literal">node_name</code> and <code class="literal">protocol</code> options have been moved to the <code class="literal">elasticsearch_java</code> plugin</li></ul></div><h4><a id="_removed_plugin_configuration_settings"></a>Removed Plugin Configuration Settings<a href="https://github.com/elastic/logstash/edit/master/docs/static/breaking-changes.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4><p>The following deprecated configuration settings are removed in this release:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">input plugin configuration settings: <code class="literal">debug</code>, <code class="literal">format</code>, <code class="literal">charset</code>, <code class="literal">message_format</code></li><li class="listitem">output plugin configuration settings: <code class="literal">type</code>, <code class="literal">tags</code>, <code class="literal">exclude_tags</code>.</li><li class="listitem">filter plugin configuration settings: <code class="literal">type</code>, <code class="literal">tags</code>, <code class="literal">exclude_tags</code>.</li></ul></div><p>Configuration files with these settings present are invalid and prevent Logstash from starting.</p><h4><a id="_kafka_output_configuration_changes"></a>Kafka Output Configuration Changes<a href="https://github.com/elastic/logstash/edit/master/docs/static/breaking-changes.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4><p>The 2.0 release of Logstash includes a new version of the Kafka output plugin with significant configuration changes.
Please compare the documentation pages for the
<a class="ulink" href="https://www.elastic.co/guide/en/logstash/1.5/plugins-outputs-kafka.html" target="_top">Logstash 1.5</a> and
<a class="ulink" href="https://www.elastic.co/guide/en/logstash/2.0/plugins-outputs-kafka.html" target="_top">Logstash 2.0</a> versions of the Kafka output plugin
and update your configuration files accordingly.</p><h4><a id="_metrics_filter_changes"></a>Metrics Filter Changes<a href="https://github.com/elastic/logstash/edit/master/docs/static/breaking-changes.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4><p>Prior implementations of the metrics filter plugin used dotted field names. Elasticsearch does not allow field names to
have dots, beginning with version 2.0, so a change was made to use sub-fields instead of dots in this plugin. Please note
that these changes make version 3.0.0 of the metrics filter plugin incompatible with previous releases.</p><h4><a id="_filter_worker_default_change"></a>Filter Worker Default Change<a href="https://github.com/elastic/logstash/edit/master/docs/static/breaking-changes.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4><p>Starting with the 2.0 release of Logstash, the default value of the <code class="literal">filter_workers</code> configuration option for filter
plugins is half of the available CPU cores, instead of 1. This change increases parallelism in filter execution for
resource-intensive filtering operations. You can continue to use the <code class="literal">-w</code> flag to manually set the value for this option,
as in previous releases.</p></div><div class="navfooter"><span class="prev"><a href="pipeline.html">
              « 
              Logstash Processing Pipeline</a>
           
        </span><span class="next">
           
          <a href="upgrading-logstash.html">Upgrading Logstash
               »
            </a></span></div>
                  <!-- end body -->
                </div>
                <div class="col-xs-12 col-sm-4 col-md-4" id="right_col">
                  <div id="rtpcontainer" style="display: block;">
                    <div class="mktg-promo">
                      <h3>Getting Started Videos</h3>
                      <ul class="icons">
                        <li class="icon-elasticsearch-white"><a href="https://www.elastic.co/webinars/getting-started-elasticsearch?baymax=default&elektra=docs&storm=top-video">Starting Elasticsearch</a></li>
                        <li class="icon-kibana-white"><a href="https://www.elastic.co/webinars/getting-started-kibana?baymax=default&elektra=docs&storm=top-video">Introduction to Kibana</a></li>
                        <li class="icon-logstash-white"><a href="https://www.elastic.co/webinars/getting-started-logstash?baymax=default&elektra=docs&storm=top-video">Logstash Starter Guide</a></li>
                      </ul>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </section>

        </div>


<div id='elastic-footer'></div>
<!-- Footer Section end-->

<script src='https://www.elastic.co/elastic-nav.js'></script>
<script src='https://www.elastic.co/elastic-footer.js'></script>
      </section>
    </div>

    
<script type="text/javascript">
	var suggestionsUrl = "https://search.elastic.co/suggest";
	var localeUrl = '{"relative_url_prefix":"/","code":"en-us","display_code":"en-us","url":"/guide_template"}';
</script>
<script src="/static/js/swiftype_app_search.umd.min.js"></script>
<script type="text/javascript" src="/static/js/slick.min.js"></script>
<script type="text/javascript" src="/guide/static/docs.js"></script>

<script type="text/javascript">
window.initial_state = {}</script>
  </body>
</html>
