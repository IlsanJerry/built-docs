<!DOCTYPE html>
<html lang="en-us">
  <head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Watcher
        | Kibana User Guide [master]
      | Elastic
    </title><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Kibana User Guide [master]" /><link rel="up" href="management.html" title="Management" /><link rel="prev" href="kibana-privileges.html" title="Kibana privileges" /><link rel="next" href="upgrade-assistant.html" title="Upgrade Assistant" /><meta name="description" content="Get started with the documentation for Elasticsearch, Kibana, Logstash, Beats, X-Pack, Elastic Cloud, Elasticsearch for Apache Hadoop, and our language clients." /><meta name="DC.type" content="Learn/Docs/Kibana/Reference/master" /><meta name="DC.subject" content="Kibana" /><meta name="DC.identifier" content="master" />
    
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="apple-touch-icon" sizes="57x57" href="/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-icon-180x180.png">
    <link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="/android-chrome-192x192.png" sizes="192x192">
    <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
    <link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
    <link rel="manifest" href="/manifest.json">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#ffffff">
    <meta name="apple-mobile-web-app-title" content="Elastic">
    <meta name="application-name" content="Elastic">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/mstile-144x144.png">
    <meta name="theme-color" content="#ffffff">
    <meta name="naver-site-verification" content="936882c1853b701b3cef3721758d80535413dbfd" />
    <meta name="yandex-verification" content="d8a47e95d0972434" />
    <!-- DC tags section -->
    <link rel="schema.DC" href="http://purl.org/dc/elements/1.1/" >
    <link rel="schema.DCTERMS" href="http://purl.org/dc/terms/" >
    
    <!-- end DC tags -->
    <meta name="description" content="" />
    <meta name="localized" content="true" />
    <meta property="og:image" content="https://www.elastic.co/static/images/elastic-logo-200.png" />
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <!-- For third-generation iPad with high-resolution Retina display: -->
    <link rel="apple-touch-icon-precomposed" sizes="64x64" href="/favicon_64x64_16bit.png">
    <!-- For iPhone with high-resolution Retina display: -->
    <link rel="apple-touch-icon-precomposed" sizes="32x32" href="/favicon_32x32.png">
    <!-- For first- and second-generation iPad: -->
    <link rel="apple-touch-icon-precomposed" sizes="16x16" href="/favicon_16x16.png">
    <!-- css -->
    <link href="/static/css/main.css" rel="stylesheet">
    <script src="/static/js/jquery.min.js"></script>
    <script src="/static/js/bootstrap.min.js"></script>
    <script src="/static/js/jquery.cookie.js"></script>
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <script type="text/javascript">
      // -------------------- set language based on browser language --------------------
      var lang = '/'+(navigator.language || navigator.userLanguage).slice(0,2)+'/',
      locales = {
        '/en':'/',
        '/de/': '/de/',
        '/fr/': '/fr/',
        '/ja/':'/jp/',
        '/ko/':'/kr/',
        '/zh/':'/cn/',
        '/es/': '/es/'
      },
      localeUrl = '{"relative_url_prefix":"/","code":"en-us","display_code":"en-us","url":"/guide_template"}',
      currentlocale = JSON.parse(localeUrl).relative_url_prefix;

      if($.cookie("is_lang_detected") == undefined){
        if(locales[lang] != undefined && locales[lang] != currentlocale){
          locale_lang_url = locales[lang] + window.location.pathname.slice(1,window.location.pathname.length);
          $.cookie("is_lang_detected",true ,{ path: '/'});
          window.location = locale_lang_url;
        }
      }
            
      // --------------------- end of set language based on browser language -----------------
    </script>
    <link type="text/css" rel="stylesheet" href="/static/css/guide.css" />
  
<link rel="stylesheet" type="text/css" href="styles.css" />

</head>

  <body>
    <!-- Google Tag Manager -->
    <script>dataLayer = [];</script><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-58RLH5" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src= '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f); })(window,document,'script','dataLayer','GTM-58RLH5');</script>
    <!-- End Google Tag Manager -->
    
    <!-- new ga for staging server -->
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-12395217-16"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-12395217-16');
    </script>
    <!-- new ga for staging server -->

    <!-- Elastic APM -->
    <!--
    <script src="https://www.elastic.co/static/js/elastic-apm-js-base.umd.min.2.2.0.js"></script>
    <script type="text/javascript">
      var elasticApm = init({
        serviceName: 'elastic-co-frontend',
        serverUrl: 'https://3ddd1ee09cc242c4b169d36f5a2b8b77.apm.us-west1.gcp.cloud.es.io:443',
        stackTraceLimit: 5,
        serviceVersion: '1.0.0'
      })
    
      var pageLoadName
      var pathname = window.location.pathname.replace(/\/es|\/pt|\/jp|\/pt|\/fr|\/kr|\/cn|\/de/g, '')
      var parts = pathname.split('/');
    
      if (parts.length && parts[1] === 'blog') {
        if (parts.length === 2) {
          pageLoadName =  '/blog';
        }
        else if (parts[2] === 'category') {
          pageLoadName =  '/blog/category';
        }
        else if (parts[2] === 'archive') {
          pageLoadName =  '/blog/archive';
        }
        else {
          pageLoadName =  '/blog/detail';
        }
      }
      else if (parts.length && parts[1] === 'elasticon') {
        if (parts.length === 2) {
          pageLoadName =  '/elasticon';
        }
        else if (parts.length === 5 && (parts[2] === 'conf' || parts[2] === 'tour')) {
          pageLoadName =  '/elasticon/overview';
        }
        else if (parts.length > 5 && (parts[2] === 'conf' || parts[2] === 'tour')) {
          pageLoadName =  '/elasticon/video';
        }
      }
      else if (parts.length && parts[1] === 'guide') {
        pageLoadName =  '/guide';
      }
      else if (parts.length === 2 && parts[1] === 'videos') {
        pageLoadName =  '/videos';
      }
      else if (parts.length > 2 && parts[1] === 'videos') {
        pageLoadName =  '/videos/detail';
      }
      else if (parts.length > 2 && parts[1] === 'webinars') {
        pageLoadName =  '/webinars/detail';
      }
      else {
        pageLoadName =  window.location.pathname;
      }
    
      console.log('apm pageLoadName:', pageLoadName, parts)
      elasticApm.setTags({env:"production"});
      elasticApm.setInitialPageLoadName(pageLoadName);
    </script>
    -->

    <!-- Header Section -->
    
    <div id='elastic-nav'></div>

    <link rel="stylesheet" type="text/css" href="/static/css/horizon-swiper.min.css">

    <style> 
      .m-shortcuts li a.m-search {
        background: url("/assets/blt7b9c4fe6528dc4ef/m-search-icon.png") no-repeat scroll center center rgba(0, 0, 0, 0);
        background-size: contain;}

      .m-shortcuts li a.m-docs {
        background: url("/assets/blt44d8b7530a76d01c/m-guide-icon.png") no-repeat scroll center center rgba(0, 0, 0, 0);
        background-size: contain;}

      .m-shortcuts li a.m-contact {
        background: url("/assets/blt878040795c9d083b/m-contact-icon.png") no-repeat scroll center center rgba(0, 0, 0, 0);
        background-size: contain;}
    </style>

    <script type="text/javascript" src="/static/js/horizon-swiper.min.js"></script>

    <script type="text/javascript">
      $(document).ready( function(){
        // if($('#scrollable-pane li').length > 3){
          $('.horizon-swiper').horizonSwiper({
            showItems: 3,
            arrows: true
          }); 
        // }
        
        $('.navbar-toggle').on('click', function(){
          $('.mobile-navigation, .menu-open').hide();
          $('.navigation-wrapper').addClass('mobile-navigation');
          $('.navbar').addClass('menu-open');
          $('.menu-close').show();
        });
        $('.menu-close').on('click', function(){
          $('.navigation-wrapper').removeClass('mobile-navigation');
          $('.navbar').removeClass('menu-open');
          $('.menu-close').hide();
        });
    
        var active_url = "";
    
        $(".navbar-mobile-header-icon").click(function(index){
          $('.navigation-wrapper').toggleClass('menu-overlay');
          $(this).toggleClass("navbar-mobile-header-icon-click navbar-mobile-header-icon-out");
          $(".mobile-inner-nav").slideToggle(500);
          $(".mobile-inner-nav .navbar-nav a").each(function( index ) {
            $(this).css({'animation-delay': (index/25)+'0.4s'});
          });
        });
    
        $('.dropdown-btn').on('click', function(e){
          e.preventDefault();
          setDropdown();
        });
        
        function setDropdown() {
          $('#myDropdown').slideToggle();
        }
    
        $('body').on('click', function(event){
          if (!event.target.matches('.dropdown-btn')) {
    
            var dropdowns = $(".dropdown-content");
            var i;
            for (i = 0; i < dropdowns.length; i++) {
              var openDropdown = dropdowns[i];
              if (openDropdown.classList.contains('show')) {
                openDropdown.classList.remove('show');
              }
            }
          }
        });
    
      });
      $(window).resize(function () {
        $('.horizon-swiper').horizonSwiper({
          showItems: 3,
          arrows: true
        });
      });
    </script>

    <div class="main-container">
      <section id="content" >
        <div class="content-wrapper">   

          <section id="guide" lang="en">
            <div class="container">
              <div class="row">
                <!-- start body -->
                
            <div class="col-xs-12 col-sm-8 col-md-8 guide-section">
            <!-- start body -->
<div class="page_header">You are looking at preliminary documentation for a future release.
Not what you want? See the
<a href="../current/index.html">current release documentation</a>.
</div><div class="breadcrumbs"><span class="breadcrumb-link"><a href="index.html">Kibana User Guide
      [master]
    </a></span> » <span class="breadcrumb-link"><a href="management.html">Management</a></span> » <span class="breadcrumb-node">Watcher</span></div><div class="navheader"><span class="prev"><a href="kibana-privileges.html">
              « 
              Kibana privileges</a>
           
        </span><span class="next">
           
          <a href="upgrade-assistant.html">Upgrade Assistant
               »
            </a></span></div><div class="xpack chapter"><div class="titlepage"><div><div><h2 class="title"><a id="watcher-ui"></a>Watcher<a href="https://github.com/elastic/kibana/edit/master/docs/management/watcher-ui/index.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a><a class="xpack_tag" href="/subscriptions"></a></h2></div></div></div><p>Watcher is an Elasticsearch feature that you can use to create actions based on
conditions, which are periodically evaluated using queries on your data.
Watches are helpful for analyzing mission-critical and business-critical
streaming data. For example, you might watch application logs for performance
outages or audit access logs for security threats.</p><p>To get started with the Watcher UI, go to <span class="strong strong"><strong>Management &gt; Elasticsearch &gt; Watcher</strong></span>.
With this UI, you can:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
<a class="link" href="watcher-ui.html#watcher-create-threshold-alert" title="Create a threshold alert">Create a simple threshold watch</a>
</li><li class="listitem">
<a class="link" href="watcher-ui.html#watcher-getting-started" title="View watch history and status">View your watch history and action status</a>
</li><li class="listitem">
<a class="link" href="watcher-ui.html#watcher-deactivate" title="Deactivate and delete a watch">Deactivate and delete a watch</a>
</li><li class="listitem">
<a class="link" href="watcher-ui.html#watcher-create-advanced-watch" title="Create an advanced watch">Create an advanced watch using API syntax</a>
</li></ul></div><p class="screenshot screenshot"><span class="inlinemediaobject"><img src="management/watcher-ui/images/watches.png" alt="Watcher list" /></span></p><p><a class="ulink" href="https://www.elastic.co/guide/en/elastic-stack-overview/master/xpack-alerting.html" target="_top">Alerting on cluster and index events</a>
is a good source for detailed
information on how watches work. If you are using the UI to create a
threshold watch, take a look at the different watcher actions. If you are
creating an advanced watch, you should be familiar with the parts of a
watch—input, schedule, condition, and actions.</p><h3><a id="watcher-security"></a>Watcher security<a href="https://github.com/elastic/kibana/edit/master/docs/management/watcher-ui/index.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3><p>If the Elasticsearch security features are enabled, you must have the
<a class="ulink" href="https://www.elastic.co/guide/en/elastic-stack-overview/master/security-privileges.html" target="_top"><code class="literal">manage_watcher</code> or <code class="literal">monitor_watcher</code></a>
cluster privileges to use Watcher in Kibana.</p><p>Alternately, you can have the built-in <code class="literal">kibana_user</code> role
and either of these watcher roles:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
<code class="literal">watcher_admin</code>. You can perform all Watcher actions, including create and edit watches.
</li><li class="listitem">
<code class="literal">watcher_user</code>. You can view watches, but not create or edit them.
</li></ul></div><p>You can manage roles in <span class="strong strong"><strong>Management &gt; Security &gt; Roles</strong></span>, or use the
<a class="link" href="role-management-api.html" title="Kibana Role Management API">Kibana Role Management API</a>. Watches are shared between
all users with the same role.</p><div class="note admon"><div class="icon"><img alt="Note" src="images/icons/note.png" /></div><div class="admon_content"><p>If you are creating a threshold watch, you must also have index management
privileges.  See
<a class="link" href="managing-indices.html" title="Managing Indices">Managing Indices</a> for detailed information.</p></div></div><h3><a id="watcher-create-threshold-alert"></a>Create a threshold alert<a href="https://github.com/elastic/kibana/edit/master/docs/management/watcher-ui/index.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3><p>A threshold alert is one of the most common types of watches that you can create.
This alert periodically checks when your data is above, below, equals,
or is in between a certain threshold within a given time interval.</p><p>The following example walks you through creating a threshold alert. The alert
is triggered when the maximum total CPU usage on a machine goes above a
certain percentage. The example uses <a class="ulink" href="https://www.elastic.co/products/beats/metricbeat" target="_top">Metricbeat</a>
to collect metrics from your systems and services.
<a class="ulink" href="https://www.elastic.co/guide/en/beats/metricbeat/master/metricbeat-installation.html" target="_top">Learn more</a> on how to install
and get started with Metricbeat.</p><h4><a id="_define_the_watch_input_and_schedule"></a>Define the watch input and schedule<a href="https://github.com/elastic/kibana/edit/master/docs/management/watcher-ui/index.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
Click <span class="strong strong"><strong>Create</strong></span> and then select <span class="strong strong"><strong>Create threshold alert</strong></span>.
</p><p class="simpara">You’re navigated to a page where you’re asked to define the watch name, the data that you want to evaluate, and
how often you want to trigger the watch.</p></li><li class="listitem">
Enter a name that you want to call the alert, for example, <code class="literal">cpu_threshold_alert</code>.
</li><li class="listitem">
In the <span class="strong strong"><strong>Indices to query</strong></span> field, enter <code class="literal">metricbeat-*</code> and select <code class="literal">@timestamp</code>
as the time field.
</li><li class="listitem"><p class="simpara">
Use the default schedule to run the watch every 1 minute.
</p><p class="screenshot screenshot"><span class="inlinemediaobject"><img src="management/watcher-ui/images/threshold-alert/create-threshold-alert-created.png" alt="Input and schedule for threshold alert" /></span></p></li></ol></div><h4><a id="_add_a_condition"></a>Add a condition<a href="https://github.com/elastic/kibana/edit/master/docs/management/watcher-ui/index.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4><p>You should now see a panel with default conditions and a visualization of the
data based on those conditions. The condition evaluates the data you’ve loaded
into the watch and determines if any action is required.</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
Click the <code class="literal">WHEN</code> expression and change the value to <code class="literal">max()</code>.
</p><p class="simpara">The <code class="literal">OF</code> expression now appears.</p></li><li class="listitem">
Search for <code class="literal">system.process.cpu.total.norm.pct</code> and select it from the list.
</li><li class="listitem"><p class="simpara">
Select the <code class="literal">IS ABOVE</code> expression and change the value to <code class="literal">.25</code> to trigger
an alert whenever the CPU is above 25%.
</p><p class="simpara">As you change the condition, the visualization is automatically updated. The black
line represents the threshold (25%), while the green fluctuating line
represents the change in CPU over the set time period.</p><p class="screenshot screenshot"><span class="inlinemediaobject"><img src="management/watcher-ui/images/threshold-alert/threshold-alert-condition.png" alt="Condition for threshold alert" /></span></p></li></ol></div><h4><a id="_add_an_action"></a>Add an action<a href="https://github.com/elastic/kibana/edit/master/docs/management/watcher-ui/index.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4><p>Now that the condition is set, you must add an action. The action triggers
when the watch condition is met. For a complete list of actions and how to configure them, see
<a class="ulink" href="https://www.elastic.co/guide/en/elastic-stack-overview/master/action-conditions.html" target="_top">Adding conditions to actions</a>.</p><p>In this example, you’ll configure an email action. You must have an <a class="ulink" href="https://www.elastic.co/guide/en/elastic-stack-overview/master/actions-email.html#configuring-email" target="_top">email account configured</a>
in Elasticsearch for this example to work.</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
Click <span class="strong strong"><strong>Add action</strong></span> and select <span class="strong strong"><strong>Email</strong></span>.
</li><li class="listitem">
In the <span class="strong strong"><strong>To email address</strong></span> field, enter one or more email addresses to whom
you want to send the message when the condition is met.
</li><li class="listitem"><p class="simpara">
Enter a subject and body for the email.
</p><p class="screenshot screenshot"><span class="inlinemediaobject"><img src="management/watcher-ui/images/threshold-alert/threshold-alert-action.png" alt="Action for threshold alert" /></span></p></li><li class="listitem"><p class="simpara">
To test the action before saving the watch, click <span class="strong strong"><strong>Send test email</strong></span>.
</p><p class="simpara">A sample email is sent using the configuration you set up.</p></li><li class="listitem"><p class="simpara">
Click <span class="strong strong"><strong>Create alert</strong></span>.
</p><p class="simpara">The alert appears on the Watcher overview page, where you can drill down into
the watch history and status.</p></li></ol></div><h4><a id="_delete_the_alert"></a>Delete the alert<a href="https://github.com/elastic/kibana/edit/master/docs/management/watcher-ui/index.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4><p>In this example, you set the threshold to 25% so you can see the watch fire. In
a  real-world scenario, this threshold is likely too low because the alerts are
so frequent. Once you are done experimenting, you should delete the alert.
Find the alert on the Watcher overview page and click the trash icon in the <span class="strong strong"><strong>Actions</strong></span> column.</p><h4><a id="_edit_the_alert"></a>Edit the alert<a href="https://github.com/elastic/kibana/edit/master/docs/management/watcher-ui/index.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4><p>Alternatively, you can keep the alert and adjust the threshold value. To edit
an alert, find the alert on the Watcher overview page and click the pencil icon
in the <span class="strong strong"><strong>Actions</strong></span> column.</p><h3><a id="watcher-getting-started"></a>View watch history and status<a href="https://github.com/elastic/kibana/edit/master/docs/management/watcher-ui/index.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3><p>The Watcher overview page lists your watches and includes details such as state,
last fired, and last triggered.  A watch has one of four states:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
<span class="strong strong"><strong>Firing.</strong></span> The watch is triggered and actively performing the associated actions.
</li><li class="listitem">
<span class="strong strong"><strong>Error.</strong></span> The watch is not working properly.
</li><li class="listitem">
<span class="strong strong"><strong>OK.</strong></span> The watch is not actively firing but working properly.
</li><li class="listitem">
<span class="strong strong"><strong>Disabled.</strong></span> The watch will not fire under any circumstances.
</li></ul></div><p>From this page you can drill down into a watch to investigate its history
and status.</p><h4><a id="_view_watch_history"></a>View watch history<a href="https://github.com/elastic/kibana/edit/master/docs/management/watcher-ui/index.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4><p>The <span class="strong strong"><strong>Execution history</strong></span> tab shows each time the watch is triggered and the
results of the query, whether the condition was met, and what actions were taken.</p><p class="screenshot screenshot"><span class="inlinemediaobject"><img src="management/watcher-ui/images/execution-history.png" alt="Execution history tab" /></span></p><h4><a id="_acknowledge_action_status"></a>Acknowledge action status<a href="https://github.com/elastic/kibana/edit/master/docs/management/watcher-ui/index.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4><p>The <span class="strong strong"><strong>Action statuses</strong></span> tab lists all actions associated with the watch and
the state of each action. If the action is firing, you can acknowledge the
watch to prevent too many executions of the same action for the same watch.
See <a class="ulink" href="https://www.elastic.co/guide/en/elastic-stack-overview/master/actions.html#actions-ack-throttle" target="_top">Acknowledgement and Throttling</a> for details.</p><p class="screenshot screenshot"><span class="inlinemediaobject"><img src="management/watcher-ui/images/alerts-status.png" alt="Action status tab" /></span></p><h3><a id="watcher-deactivate"></a>Deactivate and delete a watch<a href="https://github.com/elastic/kibana/edit/master/docs/management/watcher-ui/index.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3><p>Actions for deactivating and deleting a watch are on each watch detail page:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
<span class="strong strong"><strong>Deactivate a watch</strong></span> if you know a situation is planned that will
cause a false alarm. You can reactivate the watch when the situation is resolved.
</li><li class="listitem">
<span class="strong strong"><strong>Delete a watch</strong></span> to permanently remove it from the system. You can delete
the watch you are currently viewing, or go to the Watcher overview, and
delete watches in bulk.
</li></ul></div><h3><a id="watcher-create-advanced-watch"></a>Create an advanced watch<a href="https://github.com/elastic/kibana/edit/master/docs/management/watcher-ui/index.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3><p>Advanced watches are for users who are more familiar with Elasticsearch query syntax and
the Watcher framework. The UI is aligned with using the REST APIs.
For more information, see <a class="ulink" href="https://www.elastic.co/guide/en/elasticsearch/reference/master/query-dsl.html" target="_top">Query DSL</a>.</p><h4><a id="_create_the_watch"></a>Create the watch<a href="https://github.com/elastic/kibana/edit/master/docs/management/watcher-ui/index.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4><p>On the Watch overview page, click <span class="strong strong"><strong>Create</strong></span> and choose <span class="strong strong"><strong>Create advanced watch</strong></span>.
An advanced watch requires a name and ID.  Name is a user-friendly way to
identify the watch, and ID refers to the identifier used by Elasticsearch.  Refer to
<a class="ulink" href="https://www.elastic.co/guide/en/elastic-stack-overview/master/how-watcher-works.html#watch-definition" target="_top">Watch definition</a> for how
to input the watch JSON.</p><p class="screenshot screenshot"><span class="inlinemediaobject"><img src="management/watcher-ui/images/advanced-watch/advanced-watch-create.png" alt="Create advanced watch" /></span></p><h4><a id="_simulate_the_watch"></a>Simulate the watch<a href="https://github.com/elastic/kibana/edit/master/docs/management/watcher-ui/index.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4><p>The <span class="strong strong"><strong>Simulate</strong></span> tab allows you to override parts of the watch, and then run a
simulation. Be aware of these implementation details on overrides:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
Trigger overrides use <a class="ulink" href="https://www.elastic.co/guide/en/elasticsearch/reference/master/common-options.html#date-math" target="_top">date math</a>.
</li><li class="listitem">
Input overrides accepts a JSON blob.
</li><li class="listitem">
Condition overrides indicates if you want to force the condition to always be <code class="literal">true</code>.
</li><li class="listitem">
Action overrides support <a class="ulink" href="https://www.elastic.co/guide/en/elasticsearch/reference/master/watcher-api-execute-watch.html#watcher-api-execute-watch-action-mode" target="_top">multiple options</a>.
</li></ul></div><p>After starting the simulation, you’ll see a results screen. For more information
on the fields in the response, see the <a class="ulink" href="https://www.elastic.co/guide/en/elasticsearch/reference/master//watcher-api-execute-watch.html" target="_top">Execute Watch API</a>.</p><p class="screenshot screenshot"><span class="inlinemediaobject"><img src="management/watcher-ui/images/advanced-watch/advanced-watch-simulate.png" alt="Create advanced watch" /></span></p><h4><a id="_examples_of_advanced_watches"></a>Examples of advanced watches<a href="https://github.com/elastic/kibana/edit/master/docs/management/watcher-ui/index.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4><p>Refer to these examples for creating an advanced watch:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
<a class="ulink" href="https://www.elastic.co/guide/en/elastic-stack-overview/master/watch-cluster-status.html" target="_top">Watch the status of an Elasticsearch cluster</a>
</li><li class="listitem">
<a class="ulink" href="https://www.elastic.co/guide/en/elastic-stack-overview/master/watching-meetup-data.html" target="_top">Watch event data</a>
</li></ul></div></div><div class="navfooter"><span class="prev"><a href="kibana-privileges.html">
              « 
              Kibana privileges</a>
           
        </span><span class="next">
           
          <a href="upgrade-assistant.html">Upgrade Assistant
               »
            </a></span></div>
<!-- end body -->

            </div>
            <div class="col-xs-12 col-sm-4 col-md-4" id="right_col">
        
                  <div id="rtpcontainer" style="display: block;">
                    <div class="mktg-promo">
                      <h3>Getting Started Videos</h3>
                      <ul class="icons">
                        <li class="icon-elasticsearch-white"><a href="https://www.elastic.co/webinars/getting-started-elasticsearch?baymax=default&elektra=docs&storm=top-video">Starting Elasticsearch</a></li>
                        <li class="icon-kibana-white"><a href="https://www.elastic.co/webinars/getting-started-kibana?baymax=default&elektra=docs&storm=top-video">Introduction to Kibana</a></li>
                        <li class="icon-logstash-white"><a href="https://www.elastic.co/webinars/getting-started-logstash?baymax=default&elektra=docs&storm=top-video">Logstash Starter Guide</a></li>
                      </ul>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </section>

        </div>


<div id='elastic-footer'</div>
<!-- Footer Section end-->

<script src='https://www.elastic.co/elastic-nav.js'></script>
<script src='https://www.elastic.co/elastic-footer.js'></script>

<style type="text/css">
	
        
            .Facebook a {background:url("/assets/bltf546ff2e0a8f2de5/facebook.svg") no-repeat;}
            .Facebook a:before {
                content: url("/assets/bltc24cf11c714ecfc4/facebook-hover.svg");
                width:0;
                height:0;
                visibility:hidden;
            }
        
        
            .Facebook a:hover {background:url("/assets/bltc24cf11c714ecfc4/facebook-hover.svg")}		
        
	
        
            .Twitter a {background:url("/assets/bltdd9556d6b24e2b85/twitter.svg") no-repeat;}
            .Twitter a:before {
                content: url("/assets/blt90b0372cc07a54d3/twitter-hover.svg");
                width:0;
                height:0;
                visibility:hidden;
            }
        
        
            .Twitter a:hover {background:url("/assets/blt90b0372cc07a54d3/twitter-hover.svg")}		
        
	
        
            .LinkedIn a {background:url("/assets/bltc4a77e0f52ce07f1/linkedin.svg") no-repeat;}
            .LinkedIn a:before {
                content: url("/assets/blt01ce654380e4ea6c/linkedin-hover.svg");
                width:0;
                height:0;
                visibility:hidden;
            }
        
        
            .LinkedIn a:hover {background:url("/assets/blt01ce654380e4ea6c/linkedin-hover.svg")}		
        
	
        
            .Xing a {background:url("/assets/bltc6347078dcc9ec76/xing.svg") no-repeat;}
            .Xing a:before {
                content: url("/assets/bltededebe5f7521a39/xing-hover.svg");
                width:0;
                height:0;
                visibility:hidden;
            }
        
        
            .Xing a:hover {background:url("/assets/bltededebe5f7521a39/xing-hover.svg")}		
        
	
        
            .YouTube a {background:url("/assets/blt4982061ce1aebc7f/youtube.svg") no-repeat;}
            .YouTube a:before {
                content: url("/assets/bltddeb6c6404ae81a5/youtube-hover.svg");
                width:0;
                height:0;
                visibility:hidden;
            }
        
        
            .YouTube a:hover {background:url("/assets/bltddeb6c6404ae81a5/youtube-hover.svg")}		
        
	
</style>

<script src="//app-lon02.marketo.com/js/forms2/js/forms2.min.js"></script>
<script>
$(document).ready(function(){

    var ipSuccess = function(data) {
        country = data.country_code;
        if (data.in_eu){
                        
            marketo_id = "6196";
            
        }else{ 
            marketo_id = "1398";

        }

        $('.subscribe-form form.sb-form').attr('id', 'mktoForm_' + marketo_id);
        if(window.MktoForms2){
            MktoForms2.loadForm("//app-lon02.marketo.com", "813-MAM-392", marketo_id,function(form){
                form.onSuccess(function(form){
                    $('#mktoForm_'+marketo_id).css('display','none');
                    $('.subscribe-wrapper .subscribe-form-container').hide();
                    $('.subscribe-wrapper').find('.form_thanks').removeClass('hide')
                    dataLayer.push({'event': 'mktoFormSubmit'});
                    return false;
                });
            });  
        }
    }

    var marketo_id;

    $.ajax({
        url: "/gdpr-data"
    }).success(function(data) {
        ipSuccess(data);
    });

})
</script>

      </section>
    </div>

    
     <script type="text/javascript">
	var suggestionsUrl = "https://search.elastic.co/suggest";
	var localeUrl = '{"relative_url_prefix":"/","code":"en-us","display_code":"en-us","url":"/guide_template"}';
</script>
<script src="/static/js/swiftype_app_search.umd.min.js"></script>
<script src="/static/js/jquery.autocomplete.js"></script>
<script type="text/javascript" src="/static/js/slick.min.js"></script>
<script src="/static/js/nav-v5.js"></script>
<script src="/static/js/script.js"></script>
 
     
<script type="text/javascript">
$(document).ready(function(){
	if (window.location.hash.length) {
	      var target = $(window.location.hash);
	      target = target.length ? target : $(window.location.hash);
	      if (target.length) {
	        setTimeout(function(){ $(window).scrollTop(target.offset().top - 60); }, 1200);        
	      }
	}
	$('#guide').on('click','a[href*=#]:not([href=#])',function(e) {
			var flag=true;
		      if (location.pathname.replace(/^\//,'') == this.pathname.replace(/^\//,'') && location.hostname == this.hostname) {
		          var target = $(this.hash);
		          target = target.length ? target :$(this.hash);
		          if (target.length) {
		            if(flag){
		              flag=false;
		              var heightScroll=($('.tertiary-nav.navbar-fixed-top').height())?60:110;
		              $('html,body').animate({
		                  scrollTop: target.offset().top - heightScroll
		                }, 2000, function(){
		                  flag=true;
		                });
		            }                    
		          }
		      }
		    
	});

})

</script>

     <style></style>
     
  
            <script type="text/javascript" src="docs.js"></script>
<script type='text/javascript' src='https://cdn.rawgit.com/google/code-prettify/master/loader/run_prettify.js?lang=yaml'></script>

            </body>
        
</html>
