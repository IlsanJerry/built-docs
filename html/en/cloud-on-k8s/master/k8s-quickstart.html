<!DOCTYPE html>
<html lang="en-us">
  <head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Quickstart
        | Elastic Cloud on Kubernetes [master]
      | Elastic
    </title><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Elastic Cloud on Kubernetes [master]" /><link rel="up" href="index.html" title="Elastic Cloud on Kubernetes [master]" /><link rel="prev" href="k8s-overview.html" title="Overview" /><link rel="next" href="k8s-accessing-elastic-services.html" title="How to access Elastic Stack services" /><meta name="description" content="Get started with the documentation for Elasticsearch, Kibana, Logstash, Beats, X-Pack, Elastic Cloud, Elasticsearch for Apache Hadoop, and our language clients." /><meta name="DC.type" content="Learn/Docs/Kubernetes/Reference/master" /><meta name="DC.subject" content="ECK" /><meta name="DC.identifier" content="master" />
    
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="apple-touch-icon" sizes="57x57" href="/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-icon-180x180.png">
    <link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="/android-chrome-192x192.png" sizes="192x192">
    <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
    <link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
    <link rel="manifest" href="/manifest.json">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#ffffff">
    <meta name="apple-mobile-web-app-title" content="Elastic">
    <meta name="application-name" content="Elastic">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/mstile-144x144.png">
    <meta name="theme-color" content="#ffffff">
    <meta name="naver-site-verification" content="936882c1853b701b3cef3721758d80535413dbfd" />
    <meta name="yandex-verification" content="d8a47e95d0972434" />
    <!-- DC tags section -->
    <link rel="schema.DC" href="http://purl.org/dc/elements/1.1/" >
    <link rel="schema.DCTERMS" href="http://purl.org/dc/terms/" >
    
    <!-- end DC tags -->
    <meta name="description" content="" />
    <meta name="localized" content="true" />
    <meta property="og:image" content="https://www.elastic.co/static/images/elastic-logo-200.png" />
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <!-- For third-generation iPad with high-resolution Retina display: -->
    <link rel="apple-touch-icon-precomposed" sizes="64x64" href="/favicon_64x64_16bit.png">
    <!-- For iPhone with high-resolution Retina display: -->
    <link rel="apple-touch-icon-precomposed" sizes="32x32" href="/favicon_32x32.png">
    <!-- For first- and second-generation iPad: -->
    <link rel="apple-touch-icon-precomposed" sizes="16x16" href="/favicon_16x16.png">
    <!-- css -->
    <link href="/static/css/main.css" rel="stylesheet">
    <script src="/static/js/jquery.min.js"></script>
    <script src="/static/js/bootstrap.min.js"></script>
    <script src="/static/js/jquery.cookie.js"></script>
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <script type="text/javascript">
      // -------------------- set language based on browser language --------------------
      var lang = '/'+(navigator.language || navigator.userLanguage).slice(0,2)+'/',
      locales = {
        '/en':'/',
        '/de/': '/de/',
        '/fr/': '/fr/',
        '/ja/':'/jp/',
        '/ko/':'/kr/',
        '/zh/':'/cn/',
        '/es/': '/es/'
      },
      localeUrl = '{"relative_url_prefix":"/","code":"en-us","display_code":"en-us","url":"/guide_template"}',
      currentlocale = JSON.parse(localeUrl).relative_url_prefix;

      if($.cookie("is_lang_detected") == undefined){
        if(locales[lang] != undefined && locales[lang] != currentlocale){
          locale_lang_url = locales[lang] + window.location.pathname.slice(1,window.location.pathname.length);
          $.cookie("is_lang_detected",true ,{ path: '/'});
          window.location = locale_lang_url;
        }
      }
            
      // --------------------- end of set language based on browser language -----------------
    </script>
    <link type="text/css" rel="stylesheet" href="/static/css/guide.css" />
  
<link rel="stylesheet" type="text/css" href="styles.css" />

</head>

  <body>
    <!-- Google Tag Manager -->
    <script>dataLayer = [];</script><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-58RLH5" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src= '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f); })(window,document,'script','dataLayer','GTM-58RLH5');</script>
    <!-- End Google Tag Manager -->
    
    <!-- new ga for staging server -->
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-12395217-16"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-12395217-16');
    </script>
    <!-- new ga for staging server -->

    <!-- Elastic APM -->
    <!--
    <script src="https://www.elastic.co/static/js/elastic-apm-js-base.umd.min.2.2.0.js"></script>
    <script type="text/javascript">
      var elasticApm = init({
        serviceName: 'elastic-co-frontend',
        serverUrl: 'https://3ddd1ee09cc242c4b169d36f5a2b8b77.apm.us-west1.gcp.cloud.es.io:443',
        stackTraceLimit: 5,
        serviceVersion: '1.0.0'
      })
    
      var pageLoadName
      var pathname = window.location.pathname.replace(/\/es|\/pt|\/jp|\/pt|\/fr|\/kr|\/cn|\/de/g, '')
      var parts = pathname.split('/');
    
      if (parts.length && parts[1] === 'blog') {
        if (parts.length === 2) {
          pageLoadName =  '/blog';
        }
        else if (parts[2] === 'category') {
          pageLoadName =  '/blog/category';
        }
        else if (parts[2] === 'archive') {
          pageLoadName =  '/blog/archive';
        }
        else {
          pageLoadName =  '/blog/detail';
        }
      }
      else if (parts.length && parts[1] === 'elasticon') {
        if (parts.length === 2) {
          pageLoadName =  '/elasticon';
        }
        else if (parts.length === 5 && (parts[2] === 'conf' || parts[2] === 'tour')) {
          pageLoadName =  '/elasticon/overview';
        }
        else if (parts.length > 5 && (parts[2] === 'conf' || parts[2] === 'tour')) {
          pageLoadName =  '/elasticon/video';
        }
      }
      else if (parts.length && parts[1] === 'guide') {
        pageLoadName =  '/guide';
      }
      else if (parts.length === 2 && parts[1] === 'videos') {
        pageLoadName =  '/videos';
      }
      else if (parts.length > 2 && parts[1] === 'videos') {
        pageLoadName =  '/videos/detail';
      }
      else if (parts.length > 2 && parts[1] === 'webinars') {
        pageLoadName =  '/webinars/detail';
      }
      else {
        pageLoadName =  window.location.pathname;
      }
    
      console.log('apm pageLoadName:', pageLoadName, parts)
      elasticApm.setTags({env:"production"});
      elasticApm.setInitialPageLoadName(pageLoadName);
    </script>
    -->

    <!-- Header Section -->
    
    <div id='elastic-nav'></div>

    <!-- Subnav -->
    <div>
      <div>
        <div class="tertiary-nav d-none d-md-block">
          <div class="container">
            <div class="p-t-b-15 d-flex justify-content-between nav-container">
              <div class="breadcrum-wrapper"><span><a href="/guide/" style="font-size: 14px; font-weight: 600; color: #000;">Docs</a></span></div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <link rel="stylesheet" type="text/css" href="/static/css/horizon-swiper.min.css">

    <style> 
      .m-shortcuts li a.m-search {
        background: url("/assets/blt7b9c4fe6528dc4ef/m-search-icon.png") no-repeat scroll center center rgba(0, 0, 0, 0);
        background-size: contain;}

      .m-shortcuts li a.m-docs {
        background: url("/assets/blt44d8b7530a76d01c/m-guide-icon.png") no-repeat scroll center center rgba(0, 0, 0, 0);
        background-size: contain;}

      .m-shortcuts li a.m-contact {
        background: url("/assets/blt878040795c9d083b/m-contact-icon.png") no-repeat scroll center center rgba(0, 0, 0, 0);
        background-size: contain;}
    </style>

    <script type="text/javascript" src="/static/js/horizon-swiper.min.js"></script>

    <script type="text/javascript">
      $(document).ready( function(){
        // if($('#scrollable-pane li').length > 3){
          $('.horizon-swiper').horizonSwiper({
            showItems: 3,
            arrows: true
          }); 
        // }
        
        $('.navbar-toggle').on('click', function(){
          $('.mobile-navigation, .menu-open').hide();
          $('.navigation-wrapper').addClass('mobile-navigation');
          $('.navbar').addClass('menu-open');
          $('.menu-close').show();
        });
        $('.menu-close').on('click', function(){
          $('.navigation-wrapper').removeClass('mobile-navigation');
          $('.navbar').removeClass('menu-open');
          $('.menu-close').hide();
        });
    
        var active_url = "";
    
        $(".navbar-mobile-header-icon").click(function(index){
          $('.navigation-wrapper').toggleClass('menu-overlay');
          $(this).toggleClass("navbar-mobile-header-icon-click navbar-mobile-header-icon-out");
          $(".mobile-inner-nav").slideToggle(500);
          $(".mobile-inner-nav .navbar-nav a").each(function( index ) {
            $(this).css({'animation-delay': (index/25)+'0.4s'});
          });
        });
    
        $('.dropdown-btn').on('click', function(e){
          e.preventDefault();
          setDropdown();
        });
        
        function setDropdown() {
          $('#myDropdown').slideToggle();
        }
    
        $('body').on('click', function(event){
          if (!event.target.matches('.dropdown-btn')) {
    
            var dropdowns = $(".dropdown-content");
            var i;
            for (i = 0; i < dropdowns.length; i++) {
              var openDropdown = dropdowns[i];
              if (openDropdown.classList.contains('show')) {
                openDropdown.classList.remove('show');
              }
            }
          }
        });
    
      });
      $(window).resize(function () {
        $('.horizon-swiper').horizonSwiper({
          showItems: 3,
          arrows: true
        });
      });
    </script>

    <div class="main-container">
      <section id="content" >
        <div class="content-wrapper">   

          <section id="guide" lang="en">
            <div class="container">
              <div class="row">
                <!-- start body -->
                
            <div class="col-xs-12 col-sm-8 col-md-8 guide-section">
            <!-- start body -->
<div class="page_header">You are looking at documentation for an alpha release. Not what you want? See <a href="https://www.elastic.co/elasticsearch-kubernetes">Deploy Elasticsearch & Kibana on Kubernetes</a> documentation.
</div><div class="breadcrumbs"><span class="breadcrumb-link"><a href="index.html">Elastic Cloud on Kubernetes
      [master]
    </a></span> » <span class="breadcrumb-node">Quickstart</span></div><div class="navheader"><span class="prev"><a href="k8s-overview.html">
              « 
              Overview</a>
           
        </span><span class="next">
           
          <a href="k8s-accessing-elastic-services.html">How to access Elastic Stack services
               »
            </a></span></div><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a id="k8s-quickstart"></a>Quickstart<a href="https://github.com/elastic/cloud-on-k8s/edit/master/docs/k8s-quickstart.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h1></div></div></div><p>With Elastic Cloud on Kubernetes (ECK) you can extend the basic Kubernetes orchestration capabilities to easily deploy, secure, upgrade your Elasticsearch cluster, and much more.</p><p>Eager to get started? This fast guide shows you how to:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
<a class="link" href="k8s-quickstart.html#k8s-deploy-eck" title="Deploy ECK in your Kubernetes cluster">Deploy ECK in your Kubernetes cluster</a>
</li><li class="listitem">
<a class="link" href="k8s-quickstart.html#k8s-deploy-elasticsearch" title="Deploy the Elasticsearch cluster">Deploy the Elasticsearch cluster</a>
</li><li class="listitem">
<a class="link" href="k8s-quickstart.html#k8s-deploy-kibana" title="Deploy the Kibana instance">Deploy the Kibana instance</a>
</li><li class="listitem">
<a class="link" href="k8s-quickstart.html#k8s-upgrade-deployment" title="Upgrade your deployment">Upgrade your deployment</a>
</li><li class="listitem">
<a class="link" href="k8s-quickstart.html#k8s-persistent-storage" title="Update persistent storage">Use persistent storage</a>
</li><li class="listitem">
<a class="link" href="k8s-quickstart.html#k8s-check-samples" title="Check out the samples">Check out the samples</a>
</li></ul></div><p><span class="strong strong"><strong>Requirements</strong></span></p><p>Make sure that you have <a class="ulink" href="https://kubernetes.io/docs/tasks/tools/install-kubectl/" target="_top">kubectl</a> version 1.11+ installed.</p><h3><a id="k8s-deploy-eck"></a>Deploy ECK in your Kubernetes cluster<a href="https://github.com/elastic/cloud-on-k8s/edit/master/docs/k8s-quickstart.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3><div class="note admon"><div class="icon"><img alt="Note" src="images/icons/note.png" /></div><div class="admon_content"><p>If you are using GKE, make sure your user has <code class="literal">cluster-admin</code> permissions. For more information, see <a class="ulink" href="https://cloud.google.com/kubernetes-engine/docs/how-to/role-based-access-control#iam-rolebinding-bootstrap" target="_top">Prerequisites for using Kubernetes RBAC on GKE</a>.</p></div></div><div class="note admon"><div class="icon"><img alt="Note" src="images/icons/note.png" /></div><div class="admon_content"><p>If you are using Amazon EKS, make sure the Kubernetes control plane is allowed to communicate with nodes port 443. This is required for communication with the Validating Webhook. For more information, see <a class="ulink" href="https://docs.aws.amazon.com/eks/latest/userguide/sec-group-reqs.html" target="_top">Recommended inbound traffic</a>.</p></div></div><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
Install <a class="ulink" href="https://kubernetes.io/docs/concepts/extend-kubernetes/api-extension/custom-resources/" target="_top">custom resource definitions</a> and the operator with its RBAC rules:
</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-sh">kubectl apply -f https://download.elastic.co/downloads/eck/0.9.0/all-in-one.yaml</pre></div></li><li class="listitem"><p class="simpara">
Monitor the operator logs:
</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-sh">kubectl -n elastic-system logs -f statefulset.apps/elastic-operator</pre></div></li></ol></div><h3><a id="k8s-deploy-elasticsearch"></a>Deploy the Elasticsearch cluster<a href="https://github.com/elastic/cloud-on-k8s/edit/master/docs/k8s-quickstart.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3><p>Apply a simple <a class="ulink" href="https://www.elastic.co/guide/en/elasticsearch/reference/7.0/getting-started.html" target="_top">Elasticsearch</a> cluster specification, with one node:</p><div class="note admon"><div class="icon"><img alt="Note" src="images/icons/note.png" /></div><div class="admon_content"><p>The default resource request is 2gb memory and 100m cpu, and your pod will be <code class="literal">Pending</code> if your cluster does not have enough resources.</p></div></div><div class="pre_wrapper"><pre class="programlisting prettyprint lang-yaml">cat &lt;&lt;EOF | kubectl apply -f -
apiVersion: elasticsearch.k8s.elastic.co/v1alpha1
kind: Elasticsearch
metadata:
  name: quickstart
spec:
  version: 7.2.0
  nodes:
  - nodeCount: 1
    config:
      node.master: true
      node.data: true
      node.ingest: true
EOF</pre></div><p>The operator automatically manages Pods and resources corresponding to the desired cluster. It may take up to a few minutes until the cluster is ready.</p><h4><a id="k8s-monitor_cluster_health_and_creation_progress"></a>Monitor cluster health and creation progress<a href="https://github.com/elastic/cloud-on-k8s/edit/master/docs/k8s-quickstart.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4><p>Get an overview of the current Elasticsearch clusters in the Kubernetes cluster, including health, version and number of nodes:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-sh">kubectl get elasticsearch</pre></div><div class="pre_wrapper"><pre class="programlisting prettyprint lang-sh">NAME          HEALTH    NODES     VERSION   PHASE         AGE
quickstart    green     1         7.2.0     Operational   1m</pre></div><p>When you create the cluster, there is no <code class="literal">HEALTH</code> status and the <code class="literal">PHASE</code> is <code class="literal">Pending</code>. After a while, the <code class="literal">PHASE</code> turns into <code class="literal">Operational</code>, and <code class="literal">HEALTH</code> becomes <code class="literal">green</code>.</p><p>You can see that one Pod is in the process of being started:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-sh">kubectl get pods --selector='elasticsearch.k8s.elastic.co/cluster-name=quickstart'</pre></div><div class="pre_wrapper"><pre class="programlisting prettyprint lang-sh">NAME                       READY     STATUS    RESTARTS   AGE
quickstart-es-5zctxpn8nd   1/1       Running   0          1m</pre></div><p>Access the logs for that Pod:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-sh">kubectl logs -f quickstart-es-5zctxpn8nd</pre></div><h4><a id="k8s-request_elasticsearch_access"></a>Request Elasticsearch access<a href="https://github.com/elastic/cloud-on-k8s/edit/master/docs/k8s-quickstart.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4><p>A ClusterIP Service is automatically created for your cluster:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-sh">kubectl get service quickstart-es-http</pre></div><div class="pre_wrapper"><pre class="programlisting prettyprint lang-sh">NAME                 TYPE        CLUSTER-IP      EXTERNAL-IP   PORT(S)    AGE
quickstart-es-http   ClusterIP   10.15.251.145   &lt;none&gt;        9200/TCP   34m</pre></div><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
Get the credentials.
</p><p class="simpara">A default user named <code class="literal">elastic</code> is automatically created. Its password is stored as a Kubernetes secret:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-sh">PASSWORD=$(kubectl get secret quickstart-es-elastic-user -o=jsonpath='{.data.elastic}' | base64 --decode)</pre></div></li><li class="listitem"><p class="simpara">
Request the Elasticsearch endpoint.
</p><p class="simpara">From inside the Kubernetes cluster:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-sh">curl -u "elastic:$PASSWORD" -k "https://quickstart-es-http:9200"</pre></div><p class="simpara">From your local workstation, use the following command in a separate terminal:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-sh">kubectl port-forward service/quickstart-es-http 9200</pre></div><p class="simpara">Then request <code class="literal">localhost</code>:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-sh">curl -u "elastic:$PASSWORD" -k "https://localhost:9200"</pre></div></li></ol></div><div class="note admon"><div class="icon"><img alt="Note" src="images/icons/note.png" /></div><div class="admon_content"><p>For testing purposes only, you can specify the <code class="literal">-k</code> option to turn off certificate verification.</p></div></div><div class="pre_wrapper"><pre class="programlisting prettyprint lang-json">{
  "name" : "quickstart-es-r56c9dzzcr",
  "cluster_name" : "quickstart",
  "cluster_uuid" : "XqWg0xIiRmmEBg4NMhnYPg",
  "version" : {...},
  "tagline" : "You Know, for Search"
}</pre></div><h3><a id="k8s-deploy-kibana"></a>Deploy the Kibana instance<a href="https://github.com/elastic/cloud-on-k8s/edit/master/docs/k8s-quickstart.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3><p>To deploy your <a class="ulink" href="https://www.elastic.co/guide/en/kibana/7.0/introduction.html#introduction" target="_top">Kibana</a> instance go through the following steps.</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
Specify a Kibana instance and associate it with your Elasticsearch cluster:
</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-yaml">cat &lt;&lt;EOF | kubectl apply -f -
apiVersion: kibana.k8s.elastic.co/v1alpha1
kind: Kibana
metadata:
  name: quickstart
spec:
  version: 7.2.0
  nodeCount: 1
  elasticsearchRef:
    name: quickstart
EOF</pre></div></li><li class="listitem"><p class="simpara">
Monitor Kibana health and creation progress.
</p><p class="simpara">Similarly to Elasticsearch, you can retrieve details about Kibana instances:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-sh">kubectl get kibana</pre></div><p class="simpara">And the associated Pods:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-sh">kubectl get pod --selector='kibana.k8s.elastic.co/name=quickstart'</pre></div></li><li class="listitem"><p class="simpara">
Access Kibana.
</p><p class="simpara">A <code class="literal">ClusterIP</code> Service is automatically created for Kibana:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-sh">kubectl get service quickstart-kb-http</pre></div><p class="simpara">Use <code class="literal">kubectl port-forward</code> to access Kibana from your local workstation:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-sh">kubectl port-forward service/quickstart-kb-http 5601</pre></div><p class="simpara">Open <code class="literal">https://localhost:5601</code> in your browser. Your browser will show a warning because the self-signed certificate configured by default is not verified by a third party certificate authority and not trusted by your browser. You can either configure a <a class="ulink" href="k8s-accessing-elastic-services.html#k8s-setting-up-your-own-certificate" target="_top">valid certificate</a> or acknowledge the warning for the purposes of this quick start.</p><p class="simpara">Login with the <code class="literal">elastic</code> user. Retrieve its password with:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-sh">echo $(kubectl get secret quickstart-es-elastic-user -o=jsonpath='{.data.elastic}' | base64 --decode)</pre></div></li></ol></div><h3><a id="k8s-upgrade-deployment"></a>Upgrade your deployment<a href="https://github.com/elastic/cloud-on-k8s/edit/master/docs/k8s-quickstart.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3><p>You can apply any modification to the original cluster specification. The operator makes sure that your changes are applied to the existing cluster, while avoiding downtime.</p><p>For example, you can grow the cluster to three nodes:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-yaml">cat &lt;&lt;EOF | kubectl apply -f -
apiVersion: elasticsearch.k8s.elastic.co/v1alpha1
kind: Elasticsearch
metadata:
  name: quickstart
spec:
  version: 7.2.0
  nodes:
  - nodeCount: 3
    config:
      node.master: true
      node.data: true
      node.ingest: true
EOF</pre></div><h3><a id="k8s-persistent-storage"></a>Update persistent storage<a href="https://github.com/elastic/cloud-on-k8s/edit/master/docs/k8s-quickstart.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3><p>Now that you have completed the quickstart, you can try out more features like tweaking persistent storage. The cluster that you deployed in this quickstart uses a default persistent volume claim of 1GiB, without a storage class set. This means that the default storage class defined in the Kubernetes cluster is the one that will be provisioned.</p><p>You can request a <code class="literal">PersistentVolumeClaim</code> with a larger size in the Elasticsearch specification or target any <code class="literal">PersistentVolume</code> class available in your Kubernetes cluster:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-yaml">cat &lt;&lt;EOF | kubectl apply -f -
apiVersion: elasticsearch.k8s.elastic.co/v1alpha1
kind: Elasticsearch
metadata:
  name: quickstart
spec:
  version: 7.2.0
  nodes:
  - nodeCount: 3
    config:
      node.master: true
      node.data: true
      node.ingest: true
    volumeClaimTemplates:
    - metadata:
        name: elasticsearch-data
      spec:
        accessModes:
        - ReadWriteOnce
        resources:
          requests:
            storage: 10Gi
        #storageClassName: standard # can be any available storage class
EOF</pre></div><p>To aim for the best performance, the operator supports persistent volumes local to each node. For more details, see:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
<a class="ulink" href="https://kubernetes.io/docs/concepts/storage/storage-classes" target="_top">persistent volumes storage classes</a>
</li><li class="listitem">
<a class="ulink" href="https://github.com/kubernetes-sigs/sig-storage-local-static-provisioner" target="_top">kubernetes-sigs local volume static provisioner</a> to setup static local volumes.
</li></ul></div><h3><a id="k8s-check-samples"></a>Check out the samples<a href="https://github.com/elastic/cloud-on-k8s/edit/master/docs/k8s-quickstart.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3><p>You can find a set of sample resources <a class="ulink" href="https://github.com/elastic/cloud-on-k8s/tree/master/operators/config/samples" target="_top">in the project repository</a>.
To customize the Elasticsearch resource, check the <a class="ulink" href="https://github.com/elastic/cloud-on-k8s/blob/master/operators/config/samples/elasticsearch/elasticsearch.yaml" target="_top">Elasticsearch sample</a>.</p><p>For a full description of each <code class="literal">CustomResourceDefinition</code>, go to <a class="ulink" href="https://github.com/elastic/cloud-on-k8s/tree/master/operators/config/crds" target="_top">the project repository</a>.
You can also retrieve it from the cluster. For example, describe the Elasticsearch CRD specification with:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-sh">kubectl describe crd elasticsearch</pre></div></div><div class="navfooter"><span class="prev"><a href="k8s-overview.html">
              « 
              Overview</a>
           
        </span><span class="next">
           
          <a href="k8s-accessing-elastic-services.html">How to access Elastic Stack services
               »
            </a></span></div>
<!-- end body -->

            </div>
            <div class="col-xs-12 col-sm-4 col-md-4" id="right_col">
        
                  <div id="rtpcontainer" style="display: block;">
                    <div class="mktg-promo">
                      <h3>Getting Started Videos</h3>
                      <ul class="icons">
                        <li class="icon-elasticsearch-white"><a href="https://www.elastic.co/webinars/getting-started-elasticsearch?baymax=default&elektra=docs&storm=top-video">Starting Elasticsearch</a></li>
                        <li class="icon-kibana-white"><a href="https://www.elastic.co/webinars/getting-started-kibana?baymax=default&elektra=docs&storm=top-video">Introduction to Kibana</a></li>
                        <li class="icon-logstash-white"><a href="https://www.elastic.co/webinars/getting-started-logstash?baymax=default&elektra=docs&storm=top-video">Logstash Starter Guide</a></li>
                      </ul>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </section>

        </div>


<div id='elastic-footer'</div>
<!-- Footer Section end-->

<script src='https://www.elastic.co/elastic-nav.js'></script>
<script src='https://www.elastic.co/elastic-footer.js'></script>

<style type="text/css">
	
        
            .Facebook a {background:url("/assets/bltf546ff2e0a8f2de5/facebook.svg") no-repeat;}
            .Facebook a:before {
                content: url("/assets/bltc24cf11c714ecfc4/facebook-hover.svg");
                width:0;
                height:0;
                visibility:hidden;
            }
        
        
            .Facebook a:hover {background:url("/assets/bltc24cf11c714ecfc4/facebook-hover.svg")}		
        
	
        
            .Twitter a {background:url("/assets/bltdd9556d6b24e2b85/twitter.svg") no-repeat;}
            .Twitter a:before {
                content: url("/assets/blt90b0372cc07a54d3/twitter-hover.svg");
                width:0;
                height:0;
                visibility:hidden;
            }
        
        
            .Twitter a:hover {background:url("/assets/blt90b0372cc07a54d3/twitter-hover.svg")}		
        
	
        
            .LinkedIn a {background:url("/assets/bltc4a77e0f52ce07f1/linkedin.svg") no-repeat;}
            .LinkedIn a:before {
                content: url("/assets/blt01ce654380e4ea6c/linkedin-hover.svg");
                width:0;
                height:0;
                visibility:hidden;
            }
        
        
            .LinkedIn a:hover {background:url("/assets/blt01ce654380e4ea6c/linkedin-hover.svg")}		
        
	
        
            .Xing a {background:url("/assets/bltc6347078dcc9ec76/xing.svg") no-repeat;}
            .Xing a:before {
                content: url("/assets/bltededebe5f7521a39/xing-hover.svg");
                width:0;
                height:0;
                visibility:hidden;
            }
        
        
            .Xing a:hover {background:url("/assets/bltededebe5f7521a39/xing-hover.svg")}		
        
	
        
            .YouTube a {background:url("/assets/blt4982061ce1aebc7f/youtube.svg") no-repeat;}
            .YouTube a:before {
                content: url("/assets/bltddeb6c6404ae81a5/youtube-hover.svg");
                width:0;
                height:0;
                visibility:hidden;
            }
        
        
            .YouTube a:hover {background:url("/assets/bltddeb6c6404ae81a5/youtube-hover.svg")}		
        
	
</style>

<script src="//app-lon02.marketo.com/js/forms2/js/forms2.min.js"></script>
<script>
$(document).ready(function(){

    var ipSuccess = function(data) {
        country = data.country_code;
        if (data.in_eu){
                        
            marketo_id = "6196";
            
        }else{ 
            marketo_id = "1398";

        }

        $('.subscribe-form form.sb-form').attr('id', 'mktoForm_' + marketo_id);
        if(window.MktoForms2){
            MktoForms2.loadForm("//app-lon02.marketo.com", "813-MAM-392", marketo_id,function(form){
                form.onSuccess(function(form){
                    $('#mktoForm_'+marketo_id).css('display','none');
                    $('.subscribe-wrapper .subscribe-form-container').hide();
                    $('.subscribe-wrapper').find('.form_thanks').removeClass('hide')
                    dataLayer.push({'event': 'mktoFormSubmit'});
                    return false;
                });
            });  
        }
    }

    var marketo_id;

    $.ajax({
        url: "/gdpr-data"
    }).success(function(data) {
        ipSuccess(data);
    });

})
</script>

      </section>
    </div>

    
     <script type="text/javascript">
	var suggestionsUrl = "https://search.elastic.co/suggest";
	var localeUrl = '{"relative_url_prefix":"/","code":"en-us","display_code":"en-us","url":"/guide_template"}';
</script>
<script src="/static/js/swiftype_app_search.umd.min.js"></script>
<script src="/static/js/jquery.autocomplete.js"></script>
<script type="text/javascript" src="/static/js/slick.min.js"></script>
<script src="/static/js/nav-v5.js"></script>
<script src="/static/js/script.js"></script>
 
     
<script type="text/javascript">
$(document).ready(function(){
	if (window.location.hash.length) {
	      var target = $(window.location.hash);
	      target = target.length ? target : $(window.location.hash);
	      if (target.length) {
	        setTimeout(function(){ $(window).scrollTop(target.offset().top - 60); }, 1200);        
	      }
	}
	$('#guide').on('click','a[href*=#]:not([href=#])',function(e) {
			var flag=true;
		      if (location.pathname.replace(/^\//,'') == this.pathname.replace(/^\//,'') && location.hostname == this.hostname) {
		          var target = $(this.hash);
		          target = target.length ? target :$(this.hash);
		          if (target.length) {
		            if(flag){
		              flag=false;
		              var heightScroll=($('.tertiary-nav.navbar-fixed-top').height())?60:110;
		              $('html,body').animate({
		                  scrollTop: target.offset().top - heightScroll
		                }, 2000, function(){
		                  flag=true;
		                });
		            }                    
		          }
		      }
		    
	});

})

</script>

     <style></style>
     
  
            <script type="text/javascript" src="docs.js"></script>
<script type='text/javascript' src='https://cdn.rawgit.com/google/code-prettify/master/loader/run_prettify.js?lang=yaml'></script>

            </body>
        
</html>
