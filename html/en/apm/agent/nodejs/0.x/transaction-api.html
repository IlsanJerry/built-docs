<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Transaction API
        | APM Node.js Agent Reference (Beta) [0.x]
      | Elastic
    </title><link rel="home" href="index.html" title="APM Node.js Agent Reference (Beta) [0.x]" /><link rel="up" href="api.html" title="API Reference" /><link rel="prev" href="agent-api.html" title="Agent API" /><link rel="next" href="trace-api.html" title="Trace API" /><meta name="DC.type" content="Learn/Docs/APM Node.js Agent/Reference/0.x" /><meta name="DC.subject" content="APM" /><meta name="DC.identifier" content="0.x" /><meta name="robots" content="noindex,nofollow" />
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="apple-touch-icon" sizes="57x57" href="/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-icon-180x180.png">
    <link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="/android-chrome-192x192.png" sizes="192x192">
    <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
    <link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
    <link rel="manifest" href="/manifest.json">
    <meta name="apple-mobile-web-app-title" content="Elastic">
    <meta name="application-name" content="Elastic">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/mstile-144x144.png">
    <meta name="theme-color" content="#ffffff">
    <meta name="naver-site-verification" content="936882c1853b701b3cef3721758d80535413dbfd" />
    <meta name="yandex-verification" content="d8a47e95d0972434" />
    <meta name="localized" content="true" />
    <meta property="og:image" content="https://www.elastic.co/static/images/elastic-logo-200.png" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <link rel="apple-touch-icon-precomposed" sizes="64x64" href="/favicon_64x64_16bit.png">
    <link rel="apple-touch-icon-precomposed" sizes="32x32" href="/favicon_32x32.png">
    <link rel="apple-touch-icon-precomposed" sizes="16x16" href="/favicon_16x16.png">
    <!-- Give IE8 a fighting chance -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <link rel="stylesheet" type="text/css" href="/guide/static/styles.css" />
  </head>

  <body>
    <!-- Google Tag Manager -->
    <script>dataLayer = [];</script><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-58RLH5" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src= '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f); })(window,document,'script','dataLayer','GTM-58RLH5');</script>
    <!-- End Google Tag Manager -->
    
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-12395217-16"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-12395217-16');
    </script>

    <div id='elastic-nav' style="display:none;"></div>
    <script src='https://www.elastic.co/elastic-nav.js'></script>

    <!-- Subnav -->
    <div>
      <div>
        <div class="tertiary-nav d-none d-md-block">
          <div class="container">
            <div class="p-t-b-15 d-flex justify-content-between nav-container">
              <div class="breadcrum-wrapper"><span><a href="/guide/" style="font-size: 14px; font-weight: 600; color: #000;">Docs</a></span></div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="main-container">
      <section id="content" >
        <div class="content-wrapper">

          <section id="guide" lang="en">
            <div class="container">
              <div class="row">
                <div class="col-xs-12 col-sm-8 col-md-8 guide-section">
                  <!-- start body -->
                  <div class="page_header">You are looking at the documentation for a beta release.
</div><div class="breadcrumbs"><span class="breadcrumb-link"><a href="index.html">APM Node.js Agent Reference (Beta)
      [0.x]
    </a></span> » <span class="breadcrumb-link"><a href="api.html">API Reference</a></span> » <span class="breadcrumb-node"><code class="literal">Transaction</code> API</span></div><div class="navheader"><span class="prev"><a href="agent-api.html">
              « 
              <code class="literal">Agent</code> API</a>
           
        </span><span class="next">
           
          <a href="trace-api.html"><code class="literal">Trace</code> API
               »
            </a></span></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="transaction-api"></a><code class="literal">Transaction</code> API</h2></div></div></div><p>A transaction groups multiple traces in a logical group.</p><p>To get a <code class="literal">Transaction</code> object,
you need to call <a class="link" href="agent-api.html#apm-start-transaction" title="apm.startTransaction()"><code class="literal">apm.startTransaction()</code></a>.</p><p>To see an example of using custom transactions,
see the <a class="link" href="custom-transactions.html" title="Custom Transactions">Custom Transactions in Node.js</a> article.</p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="transaction-name"></a><code class="literal">transaction.name</code></h3></div></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><span class="strong strong"><strong>Type:</strong></span> String</li><li class="listitem"><span class="strong strong"><strong>Default:</strong></span> <code class="literal">unnamed</code></li></ul></div><p>The name of the transaction.</p><p>Can be used to set or overwrite the name of the transaction (visible in the performance monitoring breakdown).
If you don’t have access to the current transaction,
you can also set the name using <a class="link" href="agent-api.html#apm-set-transaction-name" title="apm.setTransactionName()"><code class="literal">apm.setTransactionName()</code></a>.</p><p>Transactions with the same name and <a class="link" href="transaction-api.html#transaction-type" title="transaction.type">type</a> are grouped together.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="transaction-type"></a><code class="literal">transaction.type</code></h3></div></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><span class="strong strong"><strong>Type:</strong></span> String</li><li class="listitem"><span class="strong strong"><strong>Default:</strong></span> <code class="literal">custom</code></li></ul></div><p>The type of the transaction.</p><p>There’s a special type called <code class="literal">request</code> which is used by the agent for the transactions automatically created when an incoming HTTP request is detected.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="transaction-result"></a><code class="literal">transaction.result</code></h3></div></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><span class="strong strong"><strong>Type:</strong></span> Number</li><li class="listitem"><span class="strong strong"><strong>Default:</strong></span> <code class="literal">200</code></li></ul></div><p>The transaction result.</p><p>Think of the transaction result as equivalent to the status code of an HTTP response.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="transaction-end"></a><code class="literal">transaction.end()</code></h3></div></div></div><div class="pre_wrapper lang-js"><pre class="programlisting prettyprint lang-js">transaction.end()</pre></div><p>Ends the transaction and <a class="link" href="trace-api.html#trace-truncate" title="trace.truncate()">truncates</a> all un-ended child traces.
If the transaction has already ended,
nothing happens.</p><p>Alternatively you can call <a class="link" href="agent-api.html#apm-end-transaction" title="apm.endTransaction()"><code class="literal">apm.endTransaction()</code></a> to end the active transaction.</p></div></div><div class="navfooter"><span class="prev"><a href="agent-api.html">
              « 
              <code class="literal">Agent</code> API</a>
           
        </span><span class="next">
           
          <a href="trace-api.html"><code class="literal">Trace</code> API
               »
            </a></span></div>
                  <!-- end body -->
                </div>
                <div class="col-xs-12 col-sm-4 col-md-4" id="right_col">
                  <div id="rtpcontainer" style="display: block;">
                    <div class="mktg-promo">
                      <h3>Most Popular</h3>
                      <ul class="icons">
                        <li class="icon-elasticsearch-white"><a href="https://www.elastic.co/cloud/elasticsearch-service/signup?baymax=default&elektra=docs&storm=top-video">Elasticsearch Service: Free Trial</a></li>
                        <li class="icon-kibana-white"><a href="https://www.elastic.co/webinars/getting-started-kibana?baymax=default&elektra=docs&storm=top-video">Intro to Kibana: Video</a></li>
                        <li class="icon-logstash-white"><a href="https://www.elastic.co/webinars/introduction-elk-stack?baymax=default&elektra=docs&storm=top-video">ELK for Logs & Metrics: Video</a></li>
                      </ul>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </section>

        </div>


<div id='elastic-footer'></div>
<script src='https://www.elastic.co/elastic-footer.js'></script>
<!-- Footer Section end-->

      </section>
    </div>

<script type="text/javascript">
	var suggestionsUrl = "https://search.elastic.co/suggest";
	var localeUrl = '{"relative_url_prefix":"/","code":"en-us","display_code":"en-us","url":"/guide_template"}';
</script>
<script src="/static/js/swiftype_app_search.umd.min.js"></script>
<script src="/guide/static/jquery.js"></script>
<script type="text/javascript" src="/guide/static/docs.js"></script>
<script type="text/javascript">
  window.initial_state = {}</script>
  </body>
</html>
