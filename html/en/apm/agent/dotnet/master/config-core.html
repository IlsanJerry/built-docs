<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Core configuration options
        | APM .NET Agent Reference [master]
      | Elastic
    </title><link rel="home" href="index.html" title="APM .NET Agent Reference [master]" /><link rel="up" href="configuration.html" title="Configuration" /><link rel="prev" href="configuration-on-asp-net.html" title="Configuration on ASP.NET" /><link rel="next" href="config-reporter.html" title="Reporter configuration options" /><meta name="DC.type" content="Learn/Docs/APM .NET Agent/Reference/master" /><meta name="DC.subject" content="APM" /><meta name="DC.identifier" content="master" />
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="apple-touch-icon" sizes="57x57" href="/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-icon-180x180.png">
    <link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="/android-chrome-192x192.png" sizes="192x192">
    <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
    <link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
    <link rel="manifest" href="/manifest.json">
    <meta name="apple-mobile-web-app-title" content="Elastic">
    <meta name="application-name" content="Elastic">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/mstile-144x144.png">
    <meta name="theme-color" content="#ffffff">
    <meta name="naver-site-verification" content="936882c1853b701b3cef3721758d80535413dbfd" />
    <meta name="yandex-verification" content="d8a47e95d0972434" />
    <meta name="localized" content="true" />
    <meta property="og:image" content="https://www.elastic.co/static/images/elastic-logo-200.png" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <link rel="apple-touch-icon-precomposed" sizes="64x64" href="/favicon_64x64_16bit.png">
    <link rel="apple-touch-icon-precomposed" sizes="32x32" href="/favicon_32x32.png">
    <link rel="apple-touch-icon-precomposed" sizes="16x16" href="/favicon_16x16.png">
    <!-- Give IE8 a fighting chance -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <link rel="stylesheet" type="text/css" href="/guide/static/styles.css" />
  </head>

  <body>
    <!-- Google Tag Manager -->
    <script>dataLayer = [];</script><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-58RLH5" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src= '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f); })(window,document,'script','dataLayer','GTM-58RLH5');</script>
    <!-- End Google Tag Manager -->
    
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-12395217-16"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-12395217-16');
    </script>

    <div id='elastic-nav' style="display:none;"></div>
    <script src='https://www.elastic.co/elastic-nav.js'></script>

    <!-- Subnav -->
    <div>
      <div>
        <div class="tertiary-nav d-none d-md-block">
          <div class="container">
            <div class="p-t-b-15 d-flex justify-content-between nav-container">
              <div class="breadcrum-wrapper"><span><a href="/guide/" style="font-size: 14px; font-weight: 600; color: #000;">Docs</a></span></div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="main-container">
      <section id="content" >
        <div class="content-wrapper">

          <section id="guide" lang="en">
            <div class="container">
              <div class="row">
                <div class="col-xs-12 col-sm-8 col-md-8 guide-section">
                  <!-- start body -->
                  <div class="page_header">You are looking at preliminary documentation for a future release.
Not what you want? See the
<a href="../current/index.html">current release documentation</a>.
</div><div class="breadcrumbs"><span class="breadcrumb-link"><a href="index.html">APM .NET Agent Reference
      [master]
    </a></span> » <span class="breadcrumb-link"><a href="configuration.html">Configuration</a></span> » <span class="breadcrumb-node">Core configuration options</span></div><div class="navheader"><span class="prev"><a href="configuration-on-asp-net.html">
              « 
              Configuration on ASP.NET</a>
           
        </span><span class="next">
           
          <a href="config-reporter.html">Reporter configuration options
               »
            </a></span></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="config-core"></a>Core configuration options<a href="https://github.com/elastic/apm-agent-dotnet/edit/master/docs/configuration.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h2></div></div></div><h4><a id="config-service-name"></a><code class="literal">ServiceName</code><a href="https://github.com/elastic/apm-agent-dotnet/edit/master/docs/configuration.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4><p>This is used to keep all the errors and transactions of your service together
and is the primary filter in the Elastic APM user interface.</p><div class="note admon"><div class="icon"></div><div class="admon_content"><p>The service name must conform to this regular expression: <code class="literal">^[a-zA-Z0-9 _-]+$</code>. In less regexy terms: Your service name must only contain characters from the ASCII alphabet, numbers, dashes, underscores and spaces. Characters in service name which don’t match regular expression will be replaced by <code class="literal">_</code> symbol.</p></div></div><div class="informaltable"><table cellpadding="4px" border="1"><colgroup><col class="col_1" /><col class="col_2" /></colgroup><thead><tr><th align="left" valign="top">Environment variable name</th><th align="left" valign="top">IConfiguration or Web.config key</th></tr></thead><tbody><tr><td align="left" valign="top"><p><code class="literal">ELASTIC_APM_SERVICE_NAME</code></p></td><td align="left" valign="top"><p><code class="literal">ElasticApm:ServiceName</code></p></td></tr></tbody></table></div><div class="informaltable"><table cellpadding="4px" border="1"><colgroup><col class="col_1" /><col class="col_2" /></colgroup><thead><tr><th align="left" valign="top">Default</th><th align="left" valign="top">Type</th></tr></thead><tbody><tr><td align="left" valign="top"><p>Name of the entry assembly</p></td><td align="left" valign="top"><p>String</p></td></tr></tbody></table></div><h4><a id="config-service-version"></a><code class="literal">ServiceVersion</code><a href="https://github.com/elastic/apm-agent-dotnet/edit/master/docs/configuration.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4><p>A version string for the currently deployed version of the service. If you don’t
version your deployments, the recommended value for this field is the commit identifier
of the deployed revision, e.g. the output of git rev-parse HEAD.</p><div class="informaltable"><table cellpadding="4px" border="1"><colgroup><col class="col_1" /><col class="col_2" /></colgroup><thead><tr><th align="left" valign="top">Environment variable name</th><th align="left" valign="top">IConfiguration or Web.config key</th></tr></thead><tbody><tr><td align="left" valign="top"><p><code class="literal">ELASTIC_APM_SERVICE_VERSION</code></p></td><td align="left" valign="top"><p><code class="literal">ElasticApm:ServiceVersion</code></p></td></tr></tbody></table></div><div class="informaltable"><table cellpadding="4px" border="1"><colgroup><col class="col_1" /><col class="col_2" /></colgroup><thead><tr><th align="left" valign="top">Default</th><th align="left" valign="top">Type</th></tr></thead><tbody><tr><td align="left" valign="top"><p>Informational version of the entry assembly</p></td><td align="left" valign="top"><p>String</p></td></tr></tbody></table></div><h4><a id="config-environment"></a><code class="literal">Environment</code> (<span class="Admonishment">
      [<span class="Admonishment-version u-mono">1.1</span>]
      <span class="Admonishment-detail">Added in 1.1. </span></span>
)<a href="https://github.com/elastic/apm-agent-dotnet/edit/master/docs/configuration.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4><p>The name of the environment this service is deployed in, e.g. "production" or "staging".</p><p>Environments allow you to easily filter data on a global level in the APM app.
It’s important to be consistent when naming environments across agents.
See <a class="ulink" href="/guide/en/kibana/7.4/filters.html#environment-selector" target="_top">environment selector</a> in the Kibana UI for more information.</p><div class="note admon"><div class="icon"></div><div class="admon_content"><p>This feature is fully supported in the APM app in Kibana versions &gt;= 7.2.
You must use the query bar to filter for a specific environment in versions prior to 7.2.</p></div></div><div class="informaltable"><table cellpadding="4px" border="1"><colgroup><col class="col_1" /><col class="col_2" /></colgroup><thead><tr><th align="left" valign="top">Environment variable name</th><th align="left" valign="top">IConfiguration or Web.config key</th></tr></thead><tbody><tr><td align="left" valign="top"><p><code class="literal">ELASTIC_APM_ENVIRONMENT</code></p></td><td align="left" valign="top"><p><code class="literal">ElasticApm:Environment</code></p></td></tr></tbody></table></div><div class="informaltable"><table cellpadding="4px" border="1"><colgroup><col class="col_1" /><col class="col_2" /></colgroup><thead><tr><th align="left" valign="top">Default</th><th align="left" valign="top">Type</th></tr></thead><tbody><tr><td align="left" valign="top"><p>See note below</p></td><td align="left" valign="top"><p>String</p></td></tr></tbody></table></div><div class="note admon"><div class="icon"></div><div class="admon_content"><p>On ASP.NET Core application the agent uses <a class="ulink" href="https://docs.microsoft.com/en-us/dotnet/api/microsoft.aspnetcore.hosting.ihostingenvironment.environmentname?view=aspnetcore-2.2#Microsoft_AspNetCore_Hosting_IHostingEnvironment_EnvironmentName" target="_top">EnvironmentName from IHostingEnvironment</a> as default environment name.</p></div></div><h4><a id="config-transaction-sample-rate"></a><code class="literal">TransactionSampleRate</code><a href="https://github.com/elastic/apm-agent-dotnet/edit/master/docs/configuration.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4><p>By default, the agent will sample every transaction (e.g. a request to your service).
To reduce overhead and storage requirements, you can set the sample rate to a value between 0.0 and 1.0.
The agent will still record the overall time and result for unsampled transactions,
but no context information, labels, or spans will be recorded.</p><div class="note admon"><div class="icon"></div><div class="admon_content"><p>When parsing the value for this option, the agent doesn’t consider the current culture.
It also expects that a period (<code class="literal">.</code>) is used to separate the integer and the fraction of a floating-point number.</p></div></div><div class="informaltable"><table cellpadding="4px" border="1"><colgroup><col class="col_1" /><col class="col_2" /></colgroup><thead><tr><th align="left" valign="top">Environment variable name</th><th align="left" valign="top">IConfiguration or Web.config key</th></tr></thead><tbody><tr><td align="left" valign="top"><p><code class="literal">ELASTIC_APM_TRANSACTION_SAMPLE_RATE</code></p></td><td align="left" valign="top"><p><code class="literal">ElasticApm:TransactionSampleRate</code></p></td></tr></tbody></table></div><div class="informaltable"><table cellpadding="4px" border="1"><colgroup><col class="col_1" /><col class="col_2" /></colgroup><thead><tr><th align="left" valign="top">Default</th><th align="left" valign="top">Type</th></tr></thead><tbody><tr><td align="left" valign="top"><p>1.0</p></td><td align="left" valign="top"><p>Double</p></td></tr></tbody></table></div><h4><a id="config-transaction-max-spans"></a><code class="literal">TransactionMaxSpans</code> (performance) (<span class="Admonishment">
      [<span class="Admonishment-version u-mono">1.1.1</span>]
      <span class="Admonishment-detail">Added in 1.1.1. </span></span>
)<a href="https://github.com/elastic/apm-agent-dotnet/edit/master/docs/configuration.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4><p>Limits the amount of spans that are recorded per transaction.
This is helpful in cases where a transaction creates a very high amount of spans,
for example, thousands of SQL queries.
Setting an upper limit helps prevent overloading the Agent and APM server in these edge cases.</p><div class="note admon"><div class="icon"></div><div class="admon_content"><p>A value of <code class="literal">0</code> means that spans will never be collected.
Setting <code class="literal">-1</code> means that spans will never be dropped.
The Agent will revert to the default value if the value is set below <code class="literal">-1</code>.</p></div></div><div class="informaltable"><table cellpadding="4px" border="1"><colgroup><col class="col_1" /><col class="col_2" /></colgroup><thead><tr><th align="left" valign="top">Environment variable name</th><th align="left" valign="top">IConfiguration key</th></tr></thead><tbody><tr><td align="left" valign="top"><p><code class="literal">ELASTIC_APM_TRANSACTION_MAX_SPANS</code></p></td><td align="left" valign="top"><p><code class="literal">ElasticApm:TransactionMaxSpans</code></p></td></tr></tbody></table></div><div class="informaltable"><table cellpadding="4px" border="1"><colgroup><col class="col_1" /><col class="col_2" /></colgroup><thead><tr><th align="left" valign="top">Default</th><th align="left" valign="top">Type</th></tr></thead><tbody><tr><td align="left" valign="top"><p><code class="literal">500</code></p></td><td align="left" valign="top"><p>Integer</p></td></tr></tbody></table></div><h4><a id="config-central-config"></a><code class="literal">CentralConfig</code> (<span class="Admonishment">
      [<span class="Admonishment-version u-mono">1.1</span>]
      <span class="Admonishment-detail">Added in 1.1. </span></span>
)<a href="https://github.com/elastic/apm-agent-dotnet/edit/master/docs/configuration.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4><p>If set to <code class="literal">true</code>, the agent makes periodic requests to the APM Server to fetch the latest <a class="ulink" href="/guide/en/kibana/7.4/agent-configuration.html" target="_top">APM Agent configuration</a>.</p><div class="informaltable"><table cellpadding="4px" border="1"><colgroup><col class="col_1" /><col class="col_2" /></colgroup><thead><tr><th align="left" valign="top">Environment variable name</th><th align="left" valign="top">IConfiguration key</th></tr></thead><tbody><tr><td align="left" valign="top"><p><code class="literal">ELASTIC_APM_CENTRAL_CONFIG</code></p></td><td align="left" valign="top"><p><code class="literal">ElasticApm:CentralConfig</code></p></td></tr></tbody></table></div><div class="informaltable"><table cellpadding="4px" border="1"><colgroup><col class="col_1" /><col class="col_2" /></colgroup><thead><tr><th align="left" valign="top">Default</th><th align="left" valign="top">Type</th></tr></thead><tbody><tr><td align="left" valign="top"><p>true</p></td><td align="left" valign="top"><p>Boolean</p></td></tr></tbody></table></div><h4><a id="config-sanitize-field-names"></a><code class="literal">SanitizeFieldNames</code> (<span class="Admonishment">
      [<span class="Admonishment-version u-mono">1.2</span>]
      <span class="Admonishment-detail">Added in 1.2. </span></span>
)<a href="https://github.com/elastic/apm-agent-dotnet/edit/master/docs/configuration.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4><p>Sometimes it is necessary to sanitize, i.e., remove, sensitive data sent to Elastic APM.
This config accepts a list of wildcard patterns of field names which should be sanitized.
These apply for example to HTTP headers and <code class="literal">application/x-www-form-urlencoded</code> data.</p><p>The wildcard, <code class="literal">*</code>, matches zero or more characters, and matching is case insensitive by default.
Prepending an element with <code class="literal">(?-i)</code> makes the matching case sensitive.
Examples: <code class="literal">/foo/*/bar/*/baz*</code>, <code class="literal">*foo*</code>.</p><p>You should review the data captured by Elastic APM carefully to make sure it does not contain sensitive information.
If you do find sensitive data in your Elasticsearch index,
you should add an additional entry to this list.
Make sure to include the default entries as well, as setting a value here will overwrite the defaults.</p><div class="note admon"><div class="icon"></div><div class="admon_content"><p>Data in the query string is considered non-sensitive,
as sensitive information should not be sent in the query string.
See <a class="ulink" href="https://www.owasp.org/index.php/Information_exposure_through_query_strings_in_url" target="_top">owasp.org</a> for more information.</p></div></div><div class="informaltable"><table cellpadding="4px" border="1"><colgroup><col class="col_1" /><col class="col_2" /></colgroup><thead><tr><th align="left" valign="top">Environment variable name</th><th align="left" valign="top">IConfiguration key</th></tr></thead><tbody><tr><td align="left" valign="top"><p><code class="literal">ELASTIC_APM_SANITIZE_FIELD_NAMES</code></p></td><td align="left" valign="top"><p><code class="literal">ElasticApm:SanitizeFieldNames</code></p></td></tr></tbody></table></div><div class="informaltable"><table cellpadding="4px" border="1"><colgroup><col class="col_1" /><col class="col_2" /></colgroup><thead><tr><th align="left" valign="top">Default</th><th align="left" valign="top">Type</th></tr></thead><tbody><tr><td align="left" valign="top"><p><code class="literal">password, passwd, pwd, secret, *key, *token*, *session*, *credit*, *card*, authorization, set-cookie</code></p></td><td align="left" valign="top"><p>List&lt;string&gt;</p></td></tr></tbody></table></div></div><div class="navfooter"><span class="prev"><a href="configuration-on-asp-net.html">
              « 
              Configuration on ASP.NET</a>
           
        </span><span class="next">
           
          <a href="config-reporter.html">Reporter configuration options
               »
            </a></span></div>
                  <!-- end body -->
                </div>
                <div class="col-xs-12 col-sm-4 col-md-4" id="right_col">
                  <div id="rtpcontainer" style="display: block;">
                    <div class="mktg-promo">
                      <h3>Most Popular</h3>
                      <ul class="icons">
                        <li class="icon-elasticsearch-white"><a href="https://www.elastic.co/cloud/elasticsearch-service/signup?baymax=default&elektra=docs&storm=top-video">Elasticsearch Service: Free Trial</a></li>
                        <li class="icon-kibana-white"><a href="https://www.elastic.co/webinars/getting-started-kibana?baymax=default&elektra=docs&storm=top-video">Intro to Kibana: Video</a></li>
                        <li class="icon-logstash-white"><a href="https://www.elastic.co/webinars/introduction-elk-stack?baymax=default&elektra=docs&storm=top-video">ELK for Logs & Metrics: Video</a></li>
                      </ul>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </section>

        </div>


<div id='elastic-footer'></div>
<script src='https://www.elastic.co/elastic-footer.js'></script>
<!-- Footer Section end-->

      </section>
    </div>

<script type="text/javascript">
	var suggestionsUrl = "https://search.elastic.co/suggest";
	var localeUrl = '{"relative_url_prefix":"/","code":"en-us","display_code":"en-us","url":"/guide_template"}';
</script>
<script src="/static/js/swiftype_app_search.umd.min.js"></script>
<script src="/guide/static/jquery.js"></script>
<script type="text/javascript" src="/guide/static/docs.js"></script>
<script type="text/javascript">
  window.initial_state = {}</script>
  </body>
</html>
