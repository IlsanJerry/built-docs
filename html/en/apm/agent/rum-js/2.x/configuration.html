<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Configuration
        | APM Real User Monitoring JavaScript Agent Reference [2.x]
      | Elastic
    </title><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="APM Real User Monitoring JavaScript Agent Reference [2.x]" /><link rel="up" href="index.html" title="APM Real User Monitoring JavaScript Agent Reference [2.x]" /><link rel="prev" href="api.html" title="API Reference" /><link rel="next" href="custom-transactions.html" title="Custom Transactions" /><meta name="description" content="Get started with the documentation for Elasticsearch, Kibana, Logstash, Beats, X-Pack, Elastic Cloud, Elasticsearch for Apache Hadoop, and our language clients." /><meta name="DC.type" content="Learn/Docs/APM Real User Monitoring JavaScript Agent/Reference/2.x" /><meta name="DC.subject" content="APM" /><meta name="DC.identifier" content="2.x" />
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="apple-touch-icon" sizes="57x57" href="/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-icon-180x180.png">
    <link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="/android-chrome-192x192.png" sizes="192x192">
    <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
    <link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
    <link rel="manifest" href="/manifest.json">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#ffffff">
    <meta name="apple-mobile-web-app-title" content="Elastic">
    <meta name="application-name" content="Elastic">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/mstile-144x144.png">
    <meta name="theme-color" content="#ffffff">
    <meta name="naver-site-verification" content="936882c1853b701b3cef3721758d80535413dbfd" />
    <meta name="yandex-verification" content="d8a47e95d0972434" />
    <meta name="description" content="" />
    <meta name="localized" content="true" />
    <meta property="og:image" content="https://www.elastic.co/static/images/elastic-logo-200.png" />
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <!-- For third-generation iPad with high-resolution Retina display: -->
    <link rel="apple-touch-icon-precomposed" sizes="64x64" href="/favicon_64x64_16bit.png">
    <!-- For iPhone with high-resolution Retina display: -->
    <link rel="apple-touch-icon-precomposed" sizes="32x32" href="/favicon_32x32.png">
    <!-- For first- and second-generation iPad: -->
    <link rel="apple-touch-icon-precomposed" sizes="16x16" href="/favicon_16x16.png">
    <!-- css -->
    <script src="/static/js/jquery.min.js"></script>
    <script src="/static/js/bootstrap.min.js"></script>
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <link rel="stylesheet" type="text/css" href="/guide/static/styles.css" />
  </head>

  <body>
    <!-- Google Tag Manager -->
    <script>dataLayer = [];</script><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-58RLH5" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src= '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f); })(window,document,'script','dataLayer','GTM-58RLH5');</script>
    <!-- End Google Tag Manager -->
    
    <!-- new ga for staging server -->
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-12395217-16"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-12395217-16');
    </script>
    <!-- new ga for staging server -->

    <div id='elastic-nav' style="display:none;"></div>
    <script src='https://www.elastic.co/elastic-nav.js'></script>

    <!-- Subnav -->
    <div>
      <div>
        <div class="tertiary-nav d-none d-md-block">
          <div class="container">
            <div class="p-t-b-15 d-flex justify-content-between nav-container">
              <div class="breadcrum-wrapper"><span><a href="/guide/" style="font-size: 14px; font-weight: 600; color: #000;">Docs</a></span></div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="main-container">
      <section id="content" >
        <div class="content-wrapper">

          <section id="guide" lang="en">
            <div class="container">
              <div class="row">
                <div class="col-xs-12 col-sm-8 col-md-8 guide-section">
                  <!-- start body -->
                  <div class="page_header">You are looking at documentation for an older release.
Not what you want? See the
<a href="../current/index.html">current release documentation</a>.
</div><div class="breadcrumbs"><span class="breadcrumb-link"><a href="index.html">APM Real User Monitoring JavaScript Agent Reference
      [2.x]
    </a></span> » <span class="breadcrumb-node">Configuration</span></div><div class="navheader"><span class="prev"><a href="api.html">
              « 
              API Reference</a>
           
        </span><span class="next">
           
          <a href="custom-transactions.html">Custom Transactions
               »
            </a></span></div><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a id="configuration"></a>Configuration<a href="https://github.com/elastic/apm-agent-rum-js/edit/2.x/docs/configuration.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h1></div></div></div><p>While initializing the agent you can provide the following configuration options:</p><h3><a id="service-name"></a><code class="literal">serviceName</code><a href="https://github.com/elastic/apm-agent-rum-js/edit/2.x/docs/configuration.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><span class="strong strong"><strong>Type:</strong></span> String</li><li class="listitem"><span class="strong strong"><strong>Required</strong></span></li></ul></div><p>Your Elastic APM service name.</p><h3><a id="server-url"></a><code class="literal">serverUrl</code><a href="https://github.com/elastic/apm-agent-rum-js/edit/2.x/docs/configuration.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><span class="strong strong"><strong>Type:</strong></span> String</li><li class="listitem"><span class="strong strong"><strong>Default:</strong></span> <code class="literal">http://localhost:8200</code></li></ul></div><p>The URL used to make requests to the APM Server.</p><h3><a id="service-version"></a><code class="literal">serviceVersion</code><a href="https://github.com/elastic/apm-agent-rum-js/edit/2.x/docs/configuration.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><span class="strong strong"><strong>Type:</strong></span> String</li></ul></div><p>The version of the app.
This could be the version from your <code class="literal">package.json</code> file,
a git commit reference,
or any other string that might help you pinpoint a specific version.
Furthermore this option is used on the APM Server to find the right sourcemap file to apply to the stack trace.</p><h3><a id="active"></a><code class="literal">active</code><a href="https://github.com/elastic/apm-agent-rum-js/edit/2.x/docs/configuration.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><span class="strong strong"><strong>Type:</strong></span> Boolean</li><li class="listitem"><span class="strong strong"><strong>Default:</strong></span> <code class="literal">true</code></li></ul></div><p>A boolean specifying if the agent should be active or not.
If active,
the agent will send APM transactions and track errors.
This option can be used to deactivate the agent in your staging environment.
It can also be used to sample a number of clients, here is an example to sample 10% of the page loads:</p><div class="pre_wrapper lang-js"><pre class="programlisting prettyprint lang-js">var options = {
  active: Math.random() &lt; 0.1
}</pre></div><h3><a id="log-level"></a><code class="literal">logLevel</code><a href="https://github.com/elastic/apm-agent-rum-js/edit/2.x/docs/configuration.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><span class="strong strong"><strong>Type:</strong></span> String</li><li class="listitem"><span class="strong strong"><strong>Default:</strong></span> <code class="literal">'warn'</code></li></ul></div><p>Set the verbosity level for the agent.
Note that this does not have any influence on the types of errors that are sent to the APM Server.
This option is useful when you want to report an issue with the agent to us.</p><p>Possible levels are: <code class="literal">trace</code>, <code class="literal">debug</code>, <code class="literal">info</code>, <code class="literal">warn</code>, <code class="literal">error</code>.</p><h3><a id="flush-interval"></a><code class="literal">flushInterval</code><a href="https://github.com/elastic/apm-agent-rum-js/edit/2.x/docs/configuration.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><span class="strong strong"><strong>Type:</strong></span> Number</li><li class="listitem"><span class="strong strong"><strong>Default:</strong></span> <code class="literal">500</code></li></ul></div><p>The agent maintains two in-memory queues to record transactions and errors when they are added.
This option sets the flush interval in <span class="strong strong"><strong>milliseconds</strong></span> for these queues.</p><div class="note admon"><div class="icon"><img alt="Note" src="images/icons/note.png" /></div><div class="admon_content"><p>After each flush of the queue, the next flush isn’t scheduled until an item is added to the queue.</p></div></div><h3><a id="error-throttling"></a>Error throttling<a href="https://github.com/elastic/apm-agent-rum-js/edit/2.x/docs/configuration.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3><p>To throttle the number of errors send to the APM Server, you can use the following options:</p><h4><a id="error-throttle-limit"></a><code class="literal">errorThrottleLimit</code><a href="https://github.com/elastic/apm-agent-rum-js/edit/2.x/docs/configuration.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><span class="strong strong"><strong>Type:</strong></span> Number</li><li class="listitem"><span class="strong strong"><strong>Default:</strong></span> <code class="literal">20</code></li></ul></div><h4><a id="error-throttle-interval"></a><code class="literal">errorThrottleInterval</code><a href="https://github.com/elastic/apm-agent-rum-js/edit/2.x/docs/configuration.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><span class="strong strong"><strong>Type:</strong></span> Number</li><li class="listitem"><span class="strong strong"><strong>Default:</strong></span> <code class="literal">30000</code></li></ul></div><p>By default the agent can only send (up to) <code class="literal">20</code> errors every <code class="literal">30000</code> milliseconds.</p><h3><a id="transaction-throttling"></a>Transaction throttling<a href="https://github.com/elastic/apm-agent-rum-js/edit/2.x/docs/configuration.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3><h4><a id="transaction-throttle-limit"></a><code class="literal">transactionThrottleLimit</code><a href="https://github.com/elastic/apm-agent-rum-js/edit/2.x/docs/configuration.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><span class="strong strong"><strong>Type:</strong></span> Number</li><li class="listitem"><span class="strong strong"><strong>Default:</strong></span> <code class="literal">20</code></li></ul></div><h4><a id="transaction-throttle-interval"></a><code class="literal">transactionThrottleInterval</code><a href="https://github.com/elastic/apm-agent-rum-js/edit/2.x/docs/configuration.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><span class="strong strong"><strong>Type:</strong></span> Number</li><li class="listitem"><span class="strong strong"><strong>Default:</strong></span> <code class="literal">30000</code></li></ul></div><p>By default the agent can only send (up to) <code class="literal">20</code> transactions every <code class="literal">30000</code> milliseconds.</p><h4><a id="transaction-sample-rate"></a><code class="literal">transactionSampleRate</code><a href="https://github.com/elastic/apm-agent-rum-js/edit/2.x/docs/configuration.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><span class="strong strong"><strong>Type:</strong></span> Number</li><li class="listitem"><span class="strong strong"><strong>Default:</strong></span> <code class="literal">1.0</code></li></ul></div><p>A number between <code class="literal">0.0</code> and <code class="literal">1.0</code> that specifies the sample rate of transactions, by default all transactions are sampled.</p><h4><a id="page-load-trace-id"></a><code class="literal">pageLoadTraceId</code><a href="https://github.com/elastic/apm-agent-rum-js/edit/2.x/docs/configuration.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><span class="strong strong"><strong>Type:</strong></span> String</li></ul></div><p>Use this option to override the page load transaction’s trace ID.</p><h4><a id="page-load-sampled"></a><code class="literal">pageLoadSampled</code><a href="https://github.com/elastic/apm-agent-rum-js/edit/2.x/docs/configuration.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><span class="strong strong"><strong>Type:</strong></span> String</li></ul></div><p>Use this option to override the page load transaction’s sampled property.</p><h4><a id="page-load-span-id"></a><code class="literal">pageLoadSpanId</code><a href="https://github.com/elastic/apm-agent-rum-js/edit/2.x/docs/configuration.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><span class="strong strong"><strong>Type:</strong></span> String</li></ul></div><p>This option overrides the ID of the span that is generated for receiving the initial document.</p><h4><a id="page-load-transaction-name"></a><code class="literal">pageLoadTransactionName</code><a href="https://github.com/elastic/apm-agent-rum-js/edit/2.x/docs/configuration.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><span class="strong strong"><strong>Type:</strong></span> String</li></ul></div><p>This option sets the name for the page load transaction.</p><h4><a id="distributed-tracing"></a><code class="literal">distributedTracing</code><a href="https://github.com/elastic/apm-agent-rum-js/edit/2.x/docs/configuration.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><span class="strong strong"><strong>Type:</strong></span> Boolean</li><li class="listitem"><span class="strong strong"><strong>Default:</strong></span> <code class="literal">true</code></li></ul></div><p>Distributed tracing is enabled by default, however you can use this configuration to disable it.</p><h4><a id="distributed-tracing-origins"></a><code class="literal">distributedTracingOrigins</code><a href="https://github.com/elastic/apm-agent-rum-js/edit/2.x/docs/configuration.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><span class="strong strong"><strong>Type:</strong></span> Array</li><li class="listitem"><span class="strong strong"><strong>Default:</strong></span> <code class="literal">[]</code></li></ul></div><p>This option is an array of strings and determines which origins should be monitored as part of distributed tracing.
More specificly this option is consulted when the agent is about to add distributed tracing http header (<code class="literal">elastic-apm-traceparent</code>) to a request.
Please note that each item in the array should be a valid url and at least include the origin part (other parts of the url are ignored).</p><div class="pre_wrapper lang-js"><pre class="programlisting prettyprint lang-js">var options = {
  distributedTracingOrigins: ['https://example.com']
}</pre></div></div><div class="navfooter"><span class="prev"><a href="api.html">
              « 
              API Reference</a>
           
        </span><span class="next">
           
          <a href="custom-transactions.html">Custom Transactions
               »
            </a></span></div>
                  <!-- end body -->
                </div>
                <div class="col-xs-12 col-sm-4 col-md-4" id="right_col">
                  <div id="rtpcontainer" style="display: block;">
                    <div class="mktg-promo">
                      <h3>Getting Started Videos</h3>
                      <ul class="icons">
                        <li class="icon-elasticsearch-white"><a href="https://www.elastic.co/webinars/getting-started-elasticsearch?baymax=default&elektra=docs&storm=top-video">Starting Elasticsearch</a></li>
                        <li class="icon-kibana-white"><a href="https://www.elastic.co/webinars/getting-started-kibana?baymax=default&elektra=docs&storm=top-video">Introduction to Kibana</a></li>
                        <li class="icon-logstash-white"><a href="https://www.elastic.co/webinars/getting-started-logstash?baymax=default&elektra=docs&storm=top-video">Logstash Starter Guide</a></li>
                      </ul>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </section>

        </div>


<div id='elastic-footer'></div>
<script src='https://www.elastic.co/elastic-footer.js'></script>
<!-- Footer Section end-->

      </section>
    </div>

<script type="text/javascript">
	var suggestionsUrl = "https://search.elastic.co/suggest";
	var localeUrl = '{"relative_url_prefix":"/","code":"en-us","display_code":"en-us","url":"/guide_template"}';
</script>
<script src="/static/js/swiftype_app_search.umd.min.js"></script>
<script type="text/javascript" src="/static/js/slick.min.js"></script>
<script type="text/javascript" src="/guide/static/docs.js"></script>
<script type="text/javascript">
window.initial_state = {}</script>
  </body>
</html>
