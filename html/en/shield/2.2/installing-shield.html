<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Installing Shield
        | Shield Reference [2.2]
      | Elastic
    </title><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Shield Reference [2.2]" /><link rel="up" href="index.html" title="Shield Reference [2.2]" /><link rel="prev" href="how-shield-works.html" title="How Shield Works" /><link rel="next" href="setting-up-authentication.html" title="Setting Up User Authentication" /><meta name="description" content="Get started with the documentation for Elasticsearch, Kibana, Logstash, Beats, X-Pack, Elastic Cloud, Elasticsearch for Apache Hadoop, and our language clients." /><meta name="DC.type" content="Learn/Docs/Legacy/Shield/Reference/2.2" /><meta name="DC.subject" content="Shield" /><meta name="DC.identifier" content="2.2" /><meta name="robots" content="noindex,nofollow" />
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="apple-touch-icon" sizes="57x57" href="/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-icon-180x180.png">
    <link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="/android-chrome-192x192.png" sizes="192x192">
    <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
    <link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
    <link rel="manifest" href="/manifest.json">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#ffffff">
    <meta name="apple-mobile-web-app-title" content="Elastic">
    <meta name="application-name" content="Elastic">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/mstile-144x144.png">
    <meta name="theme-color" content="#ffffff">
    <meta name="naver-site-verification" content="936882c1853b701b3cef3721758d80535413dbfd" />
    <meta name="yandex-verification" content="d8a47e95d0972434" />
    <meta name="description" content="" />
    <meta name="localized" content="true" />
    <meta property="og:image" content="https://www.elastic.co/static/images/elastic-logo-200.png" />
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <!-- For third-generation iPad with high-resolution Retina display: -->
    <link rel="apple-touch-icon-precomposed" sizes="64x64" href="/favicon_64x64_16bit.png">
    <!-- For iPhone with high-resolution Retina display: -->
    <link rel="apple-touch-icon-precomposed" sizes="32x32" href="/favicon_32x32.png">
    <!-- For first- and second-generation iPad: -->
    <link rel="apple-touch-icon-precomposed" sizes="16x16" href="/favicon_16x16.png">
    <!-- css -->
    <script src="/static/js/jquery.min.js"></script>
    <script src="/static/js/bootstrap.min.js"></script>
    <script src="/static/js/jquery.cookie.js"></script>
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <link rel="stylesheet" type="text/css" href="/guide/static/styles.css" />
  </head>

  <body>
    <!-- Google Tag Manager -->
    <script>dataLayer = [];</script><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-58RLH5" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src= '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f); })(window,document,'script','dataLayer','GTM-58RLH5');</script>
    <!-- End Google Tag Manager -->
    
    <!-- new ga for staging server -->
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-12395217-16"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-12395217-16');
    </script>
    <!-- new ga for staging server -->

    <!-- Elastic APM -->
    <!--
    <script src="https://www.elastic.co/static/js/elastic-apm-js-base.umd.min.2.2.0.js"></script>
    <script type="text/javascript">
      var elasticApm = init({
        serviceName: 'elastic-co-frontend',
        serverUrl: 'https://3ddd1ee09cc242c4b169d36f5a2b8b77.apm.us-west1.gcp.cloud.es.io:443',
        stackTraceLimit: 5,
        serviceVersion: '1.0.0'
      })
    
      var pageLoadName
      var pathname = window.location.pathname.replace(/\/es|\/pt|\/jp|\/pt|\/fr|\/kr|\/cn|\/de/g, '')
      var parts = pathname.split('/');
    
      if (parts.length && parts[1] === 'blog') {
        if (parts.length === 2) {
          pageLoadName =  '/blog';
        }
        else if (parts[2] === 'category') {
          pageLoadName =  '/blog/category';
        }
        else if (parts[2] === 'archive') {
          pageLoadName =  '/blog/archive';
        }
        else {
          pageLoadName =  '/blog/detail';
        }
      }
      else if (parts.length && parts[1] === 'elasticon') {
        if (parts.length === 2) {
          pageLoadName =  '/elasticon';
        }
        else if (parts.length === 5 && (parts[2] === 'conf' || parts[2] === 'tour')) {
          pageLoadName =  '/elasticon/overview';
        }
        else if (parts.length > 5 && (parts[2] === 'conf' || parts[2] === 'tour')) {
          pageLoadName =  '/elasticon/video';
        }
      }
      else if (parts.length && parts[1] === 'guide') {
        pageLoadName =  '/guide';
      }
      else if (parts.length === 2 && parts[1] === 'videos') {
        pageLoadName =  '/videos';
      }
      else if (parts.length > 2 && parts[1] === 'videos') {
        pageLoadName =  '/videos/detail';
      }
      else if (parts.length > 2 && parts[1] === 'webinars') {
        pageLoadName =  '/webinars/detail';
      }
      else {
        pageLoadName =  window.location.pathname;
      }
    
      console.log('apm pageLoadName:', pageLoadName, parts)
      elasticApm.setTags({env:"production"});
      elasticApm.setInitialPageLoadName(pageLoadName);
    </script>
    -->

    <!-- Header Section -->
    
    <div id='elastic-nav'></div>

    <!-- Subnav -->
    <div>
      <div>
        <div class="tertiary-nav d-none d-md-block">
          <div class="container">
            <div class="p-t-b-15 d-flex justify-content-between nav-container">
              <div class="breadcrum-wrapper"><span><a href="/guide/" style="font-size: 14px; font-weight: 600; color: #000;">Docs</a></span></div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <link rel="stylesheet" type="text/css" href="/static/css/horizon-swiper.min.css">

    <style> 
      .m-shortcuts li a.m-search {
        background: url("/assets/blt7b9c4fe6528dc4ef/m-search-icon.png") no-repeat scroll center center rgba(0, 0, 0, 0);
        background-size: contain;}

      .m-shortcuts li a.m-docs {
        background: url("/assets/blt44d8b7530a76d01c/m-guide-icon.png") no-repeat scroll center center rgba(0, 0, 0, 0);
        background-size: contain;}

      .m-shortcuts li a.m-contact {
        background: url("/assets/blt878040795c9d083b/m-contact-icon.png") no-repeat scroll center center rgba(0, 0, 0, 0);
        background-size: contain;}
    </style>

    <script type="text/javascript" src="/static/js/horizon-swiper.min.js"></script>

    <script type="text/javascript">
      $(document).ready( function(){
        // if($('#scrollable-pane li').length > 3){
          $('.horizon-swiper').horizonSwiper({
            showItems: 3,
            arrows: true
          }); 
        // }
        
        $('.navbar-toggle').on('click', function(){
          $('.mobile-navigation, .menu-open').hide();
          $('.navigation-wrapper').addClass('mobile-navigation');
          $('.navbar').addClass('menu-open');
          $('.menu-close').show();
        });
        $('.menu-close').on('click', function(){
          $('.navigation-wrapper').removeClass('mobile-navigation');
          $('.navbar').removeClass('menu-open');
          $('.menu-close').hide();
        });
    
        var active_url = "";
    
        $(".navbar-mobile-header-icon").click(function(index){
          $('.navigation-wrapper').toggleClass('menu-overlay');
          $(this).toggleClass("navbar-mobile-header-icon-click navbar-mobile-header-icon-out");
          $(".mobile-inner-nav").slideToggle(500);
          $(".mobile-inner-nav .navbar-nav a").each(function( index ) {
            $(this).css({'animation-delay': (index/25)+'0.4s'});
          });
        });
    
        $('.dropdown-btn').on('click', function(e){
          e.preventDefault();
          setDropdown();
        });
        
        function setDropdown() {
          $('#myDropdown').slideToggle();
        }
    
        $('body').on('click', function(event){
          if (!event.target.matches('.dropdown-btn')) {
    
            var dropdowns = $(".dropdown-content");
            var i;
            for (i = 0; i < dropdowns.length; i++) {
              var openDropdown = dropdowns[i];
              if (openDropdown.classList.contains('show')) {
                openDropdown.classList.remove('show');
              }
            }
          }
        });
    
      });
      $(window).resize(function () {
        $('.horizon-swiper').horizonSwiper({
          showItems: 3,
          arrows: true
        });
      });
    </script>

    <div class="main-container">
      <section id="content" >
        <div class="content-wrapper">

          <section id="guide" lang="en">
            <div class="container">
              <div class="row">
                <div class="col-xs-12 col-sm-8 col-md-8 guide-section">
                  <!-- start body -->
                  <div class="page_header">From version 5.0 onward, Shield is part of X-Pack. For more information, see
<a href=https://www.elastic.co/guide/en/elastic-stack-overview/current/elasticsearch-security.html>
    Securing the Elastic Stack</a>. 
</div><div class="breadcrumbs"><span class="breadcrumb-link"><a href="index.html">Shield Reference
      [2.2]
    </a></span> » <span class="breadcrumb-node">Installing Shield</span></div><div class="navheader"><span class="prev"><a href="how-shield-works.html">
              « 
              How Shield Works</a>
           
        </span><span class="next">
           
          <a href="setting-up-authentication.html">Setting Up User Authentication
               »
            </a></span></div><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a id="installing-shield"></a>Installing Shield</h1></div></div></div><p>The <a class="link" href="getting-started.html" title="Getting Started with Shield">Getting Started Guide</a> steps through a basic Shield installation. This section provides some additional information about the installation prerequisites, deployment options, and the installation process for RPM/DEB package installations.</p><div class="important admon"><div class="icon"><img alt="Important" src="images/icons/important.png" /></div><div class="admon_content"><p>The Shield plugin must be installed on every node in the cluster and every
node must be restarted after installation. Plan for a complete cluster restart before beginning the installation process.</p></div></div><h3><a id="_shield_installation_prerequisites"></a>Shield Installation Prerequisites</h3><p>To install Shield 2.2.1, you need:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">Java 7 or later</li><li class="listitem">Elasticsearch 2.2.1</li><li class="listitem">Elasticsearch License plugin 2.2.1</li></ul></div><p>For information about installing the latest Oracle JDK, see <a class="ulink" href="http://www.oracle.com/technetwork/java/javase/downloads/index-jsp-138363.html" target="_top">Java SE Downloads</a>. For information about installing Elasticsearch, see <a class="ulink" href="http://www.elastic.co/guide/en/elasticsearch/reference/2.2/_installation.html" target="_top">Installation</a> in the Elasticsearch Reference.</p><h3><a id="deb-rpm-install"></a>Installing Shield on a DEB/RPM Package Installation</h3><p>If you use the DEB/RPM packages to install Elasticsearch, by default Elasticsearch is installed in
<code class="literal">/usr/share/elasticsearch</code> and the configuration files are stored in <code class="literal">/etc/elasticsearch</code>. (For the
complete list of default paths, see <a class="ulink" href="http://www.elastic.co/guide/en/elasticsearch/reference/2.2/setup-dir-layout.html#_deb_and_rpm" target="_top">Directory Layout</a> in
the Elasticsearch Reference.)</p><p>To install the Shield and License plugins on a DEB/RPM package installation, you need to run
<code class="literal">bin/plugin install</code> from the <code class="literal">/usr/share/elasticsearch</code> directory with superuser permissions. For example:</p><div class="pre_wrapper lang-shell"><pre class="programlisting prettyprint lang-shell">cd /usr/share/elasticsearch
sudo bin/plugin install license
sudo bin/plugin install shield</pre></div><h3><a id="offline-install"></a>Installing Shield on Offline Machines</h3><p>Elasticsearch’s <code class="literal">bin/plugin</code> script requires direct Internet access to download and install the
License and Shield plugins. If your server doesn’t have Internet access, you can manually
download and install the plugins.</p><p>To install Shield on a machine that doesn’t have Internet access:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">Manually download the appropriate License and Shield binaries:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><a class="ulink" href="https://download.elastic.co/elasticsearch/release/org/elasticsearch/plugin/license/2.2.1/license-2.2.1.zip" target="_top">
<code class="literal">https://download.elastic.co/elasticsearch/release/org/elasticsearch/plugin/license/2.2.1/license-2.2.1.zip</code></a>
(<a class="ulink" href="https://download.elastic.co/elasticsearch/release/org/elasticsearch/plugin/license/2.2.1/license-2.2.1.zip.sha1" target="_top">sha1</a>)</li><li class="listitem"><a class="ulink" href="https://download.elastic.co/elasticsearch/release/org/elasticsearch/plugin/shield/2.2.1/shield-2.2.1.zip" target="_top">
<code class="literal">https://download.elastic.co/elasticsearch/release/org/elasticsearch/plugin/shield/2.2.1/shield-2.2.1.zip</code></a>
(<a class="ulink" href="https://download.elastic.co/elasticsearch/release/org/elasticsearch/plugin/shield/2.2.1/shield-2.2.1.zip.sha1" target="_top">sha1</a>)</li></ul></div></li><li class="listitem">Transfer the zip files to the offline machine.</li><li class="listitem"><p class="simpara">Specify the location of the appropriate zip file when you run <code class="literal">bin/plugin install</code>. For example:</p><div class="pre_wrapper lang-sh"><pre class="programlisting prettyprint lang-sh">bin/plugin install file:///path/to/file/license-2.2.1.zip
bin/plugin install file:///path/to/file/shield-2.2.1.zip</pre></div><div class="note admon"><div class="icon"><img alt="Note" src="images/icons/note.png" /></div><div class="admon_content"><p>You must specify an absolute path to the zip file after the <code class="literal">file://</code> protocol.</p></div></div></li></ol></div><h3><a id="tribe-node"></a>Installing Shield on Tribe Nodes</h3><p>Shield supports <a class="ulink" href="http://www.elastic.co/guide/en/elasticsearch/reference/2.2/modules-tribe.html" target="_top">tribe nodes</a> that act as a federated client across multiple clusters. When using tribe nodes with Shield, all clusters must run Shield and share the same Shield configuration (users, roles, user-role mappings, SSL/TLS CA). The tribe node itself also must be configured to grant access to actions and indices on all of the connected clusters, as security checking is primarily done on the tribe node.</p><p>To use a tribe node with Shield:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">Install Shield on the tribe node and every node in each connected cluster.</li><li class="listitem"><p class="simpara">Enable <a class="link" href="enable-message-authentication.html" title="Enable Message Authentication">message authentication</a> globally. Generate a system key on one node and copy it to the tribe node and every other node in each connected cluster.</p><div class="important admon"><div class="icon"><img alt="Important" src="images/icons/important.png" /></div><div class="admon_content"><p>For message authentication to work properly across multiple clusters, the tribe node and all of the connected clusters must share the same system key. By default, Shield reads the system key from <code class="literal">CONFIG_DIR/shield/system_key</code>. If you store the
key in a different location, you must configure the <code class="literal">shield.system_key.file</code> setting in <code class="literal">elasticsearch.yml</code>.</p></div></div></li><li class="listitem"><p class="simpara">Enable encryption globally. To encrypt communications, you must <a class="link" href="ssl-tls.html" title="Setting Up SSL/TLS on a Cluster">enable SSL/TLS</a> on every node.</p><div class="tip admon"><div class="icon"><img alt="Tip" src="images/icons/tip.png" /></div><div class="admon_content"><p>To simplify SSL/TLS configuration, use the same certificate authority to generate certificates for all connected clusters.</p></div></div></li><li class="listitem"><p class="simpara">Configure the tribe in the tribe node’s <code class="literal">elasticsearch.yml</code> file. You must specify each cluster that’s a part of the tribe and configure discovery and encryption settings per cluster. For example, the following configuration adds two clusters to the tribe:</p><div class="pre_wrapper lang-shell"><pre class="programlisting prettyprint lang-shell">tribe:
  on_conflict: prefer_cluster1 <a id="CO1-1"></a><i class="conum" data-value="1"></i>
  c1: <a id="CO1-2"></a><i class="conum" data-value="2"></i>
    cluster.name: cluster1
    discovery.zen.ping.unicast.hosts: [ "cluster1-node1:9300", "cluster1-node2:9300"]
    shield.ssl.keystore.path: /path-to-keystore/es-tribe-01.jks
    shield.ssl.keystore.password: secretpassword
    shield.ssl.keystore.key_password: secretpassword
    shield.transport.ssl: true
    shield.http.ssl: true
  c2:
    cluster.name: cluster2
    discovery.zen.ping.unicast.hosts: [ "cluster2-node1:9300", "cluster2-node2:9300"]
    shield.ssl.keystore.path: /path-to-keystore/es-tribe-01.jks
    shield.ssl.keystore.password: secretpassword
    shield.ssl.keystore.key_password: secretpassword
    shield.transport.ssl: true
    shield.http.ssl: true</pre></div><div class="calloutlist"><table border="0" summary="Callout list"><tr><td width="5%" valign="top" align="left"><p><a href="#CO1-1"><i class="conum" data-value="1"></i></a> </p></td><td valign="top" align="left"><p>Results are returned from the preferred cluster if the named index exists in multiple clusters.</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO1-2"><i class="conum" data-value="2"></i></a> </p></td><td valign="top" align="left"><p>An arbitrary name that represents the connection to the cluster.</p></td></tr></table></div></li><li class="listitem"><p class="simpara">Configure the same index privileges for your users on all nodes, including the tribe node. The nodes in each cluster must grant access to indices in other connected clusters as well as their own.</p><p class="simpara">For example, let’s assume <code class="literal">cluster1</code> and <code class="literal">cluster2</code> each have a single index, <code class="literal">index1</code> and <code class="literal">index2</code>. To
enable a user to submit a request through the tribe node to search both clusters:</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">On the tribe node and both clusters, <a class="link" href="defining-roles.html" title="Defining Roles">define a <code class="literal">tribe_user</code> role</a> that has read access to <code class="literal">index1</code> and <code class="literal">index2</code>:</p><div class="pre_wrapper lang-yaml"><pre class="programlisting prettyprint lang-yaml">tribe_user:
  indices:
    'index*': search</pre></div></li><li class="listitem"><p class="simpara">Assign the <code class="literal">tribe_user</code> role to a user on the tribe node and both clusters. For example, run the following
command on each node to create <code class="literal">my_tribe_user</code> and assign the <code class="literal">tribe_user</code> role:</p><div class="pre_wrapper lang-shell"><pre class="programlisting prettyprint lang-shell">./bin/shield/esusers useradd my_tribe_user -p password -r tribe_user</pre></div></li></ol></div></li><li class="listitem"><p class="simpara">Grant selected users permission to retrieve merged cluster state information for the tribe from
the tribe node. To do that, grant them the <a class="link" href="privileges-list.html#privileges-list-cluster" title="Cluster Privileges">monitor privilege</a> on the tribe node.
For example, you could create a <code class="literal">tribe_monitor</code> role that assigns the <code class="literal">monitor</code> privilege:</p><div class="pre_wrapper lang-yaml"><pre class="programlisting prettyprint lang-yaml">tribe_monitor:
  cluster: monitor</pre></div><div class="tip admon"><div class="icon"><img alt="Tip" src="images/icons/tip.png" /></div><div class="admon_content"><p>Each cluster can have it’s own users with admin privileges.
In fact, you cannot perform administration tasks such as create index through the tribe node,
you must send the request directly to the appropriate cluster.</p></div></div></li><li class="listitem">Start the tribe node. If you’ve made configuration changes to the nodes in the connected clusters, they
also need to to be restarted.</li></ol></div><h3><a id="upgrade-instructions"></a>Upgrading Shield</h3><p>To upgrade Shield, uninstall the current Shield plugin and install the new version of Shield. Your configuration
will be preserved and you do this with a rolling upgrade of Elasticsearch when upgrading to a new minor version; a full
cluster restart is required when upgrading from Elasticsearch 1.x. On each node, after you have stopped it run:</p><div class="pre_wrapper lang-shell"><pre class="programlisting prettyprint lang-shell">bin/plugin remove shield
bin/plugin install shield</pre></div><p>Then start the node. Larger sites should follow the steps in the <a class="ulink" href="http://www.elastic.co/guide/en/elasticsearch/reference/2.2/rolling-upgrades.html" target="_top">rolling upgrade section</a>
to ensure recovery is as quick as possible.</p><p>On upgrade, your current configuration files will remain untouched. The configuration files provided by the new version
of Shield will be added with a <code class="literal">.new</code> extension.</p><div class="important admon"><div class="icon"><img alt="Important" src="images/icons/important.png" /></div><div class="admon_content"><p>The default role definitions in the <code class="literal">roles.yml</code> file might need to be changed to ensure proper
interoperation with other applications such as Marvel and Kibana. Any role changes are stored in in <code class="literal">roles.yml.new</code>
when you upgrade. For more information see <a class="link" href="release-notes.html#update-roles" title="Updated Role Definitions">Updated Role Definitions</a>.</p></div></div><h3><a id="uninstalling-shield"></a>Uninstalling Shield</h3><div class="important admon"><div class="icon"><img alt="Important" src="images/icons/important.png" /></div><div class="admon_content"><p>Uninstalling Shield requires a <a class="ulink" href="http://www.elastic.co/guide/en/elasticsearch/reference/2.2/restart-upgrade.html" target="_top">full cluster restart</a>.</p></div></div><p>To uninstall Shield:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">Shut down Elasticsearch.</li><li class="listitem"><p class="simpara">Remove the Shield plugin from Elasticsearch:</p><div class="pre_wrapper lang-shell"><pre class="programlisting prettyprint lang-shell">bin/plugin remove shield</pre></div></li><li class="listitem">Restart Elasticsearch.</li></ol></div></div><div class="navfooter"><span class="prev"><a href="how-shield-works.html">
              « 
              How Shield Works</a>
           
        </span><span class="next">
           
          <a href="setting-up-authentication.html">Setting Up User Authentication
               »
            </a></span></div>
                  <!-- end body -->
                </div>
                <div class="col-xs-12 col-sm-4 col-md-4" id="right_col">
                  <div id="rtpcontainer" style="display: block;">
                    <div class="mktg-promo">
                      <h3>Getting Started Videos</h3>
                      <ul class="icons">
                        <li class="icon-elasticsearch-white"><a href="https://www.elastic.co/webinars/getting-started-elasticsearch?baymax=default&elektra=docs&storm=top-video">Starting Elasticsearch</a></li>
                        <li class="icon-kibana-white"><a href="https://www.elastic.co/webinars/getting-started-kibana?baymax=default&elektra=docs&storm=top-video">Introduction to Kibana</a></li>
                        <li class="icon-logstash-white"><a href="https://www.elastic.co/webinars/getting-started-logstash?baymax=default&elektra=docs&storm=top-video">Logstash Starter Guide</a></li>
                      </ul>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </section>

        </div>


<div id='elastic-footer'></div>
<!-- Footer Section end-->

<script src='https://www.elastic.co/elastic-nav.js'></script>
<script src='https://www.elastic.co/elastic-footer.js'></script>

<style type="text/css">
	
        
            .Facebook a {background:url("/assets/bltf546ff2e0a8f2de5/facebook.svg") no-repeat;}
            .Facebook a:before {
                content: url("/assets/bltc24cf11c714ecfc4/facebook-hover.svg");
                width:0;
                height:0;
                visibility:hidden;
            }
        
        
            .Facebook a:hover {background:url("/assets/bltc24cf11c714ecfc4/facebook-hover.svg")}		
        
	
        
            .Twitter a {background:url("/assets/bltdd9556d6b24e2b85/twitter.svg") no-repeat;}
            .Twitter a:before {
                content: url("/assets/blt90b0372cc07a54d3/twitter-hover.svg");
                width:0;
                height:0;
                visibility:hidden;
            }
        
        
            .Twitter a:hover {background:url("/assets/blt90b0372cc07a54d3/twitter-hover.svg")}		
        
	
        
            .LinkedIn a {background:url("/assets/bltc4a77e0f52ce07f1/linkedin.svg") no-repeat;}
            .LinkedIn a:before {
                content: url("/assets/blt01ce654380e4ea6c/linkedin-hover.svg");
                width:0;
                height:0;
                visibility:hidden;
            }
        
        
            .LinkedIn a:hover {background:url("/assets/blt01ce654380e4ea6c/linkedin-hover.svg")}		
        
	
        
            .Xing a {background:url("/assets/bltc6347078dcc9ec76/xing.svg") no-repeat;}
            .Xing a:before {
                content: url("/assets/bltededebe5f7521a39/xing-hover.svg");
                width:0;
                height:0;
                visibility:hidden;
            }
        
        
            .Xing a:hover {background:url("/assets/bltededebe5f7521a39/xing-hover.svg")}		
        
	
        
            .YouTube a {background:url("/assets/blt4982061ce1aebc7f/youtube.svg") no-repeat;}
            .YouTube a:before {
                content: url("/assets/bltddeb6c6404ae81a5/youtube-hover.svg");
                width:0;
                height:0;
                visibility:hidden;
            }
        
        
            .YouTube a:hover {background:url("/assets/bltddeb6c6404ae81a5/youtube-hover.svg")}		
        
	
</style>

      </section>
    </div>

    
<script type="text/javascript">
	var suggestionsUrl = "https://search.elastic.co/suggest";
	var localeUrl = '{"relative_url_prefix":"/","code":"en-us","display_code":"en-us","url":"/guide_template"}';
</script>
<script src="/static/js/swiftype_app_search.umd.min.js"></script>
<script type="text/javascript" src="/static/js/slick.min.js"></script>
<script type="text/javascript" src="/guide/static/docs.js"></script>
<script type="text/javascript">
window.initial_state = {}
</script>

  </body>
</html>
