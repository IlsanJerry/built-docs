<!DOCTYPE html>
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>DebianパッケージでのKibanaのインストール
        | Kibanaユーザーガイド [5.4]
      | Elastic
    </title><link rel="home" href="index.html" title="Kibanaユーザーガイド [5.4]" /><link rel="up" href="install.html" title="Kibanaのインストール" /><link rel="prev" href="targz.html" title=".tar.gz​でのKibanaのインストール" /><link rel="next" href="rpm.html" title="RPMでのKibanaのインストール" /><meta name="DC.type" content="Learn/Docs/Kibana/Reference/5.4" /><meta name="DC.subject" content="Kibana" /><meta name="DC.identifier" content="5.4" /></head><body><div class="breadcrumbs"><span class="breadcrumb-link"><a href="index.html">Kibanaユーザーガイド
      [5.4]
    </a></span> » <span class="breadcrumb-link"><a href="install.html">Kibanaのインストール</a></span> » <span class="breadcrumb-node">DebianパッケージでのKibanaのインストール</span></div><div class="navheader"><span class="prev"><a href="targz.html">
              « 
              <code class="literal">.tar.gz</code>​でのKibanaのインストール</a>
           
        </span><span class="next">
           
          <a href="rpm.html">RPMでのKibanaのインストール
               »
            </a></span></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="deb"></a>DebianパッケージでのKibanaのインストール<a href="https://github.com/elastic/kibana/edit/5.4/docs/jp/setup/install/deb.asciidoc" class="edit_me" title="GitHub上で編集" rel="nofollow">編集</a></h2></div></div></div><p>KibanaのDebianパッケージは、<a class="link" href="deb.html#install-deb" title="手動によるDebianパッケージのダウンロードとインストール">弊社のWebサイトからダウンロード</a>するか、または<a class="link" href="deb.html#deb-repo" title="APTリポジトリからのインストール">APTリポジトリ</a>からダウンロードできます。これを使って、DebianやUbuntuなど、DebianベースのシステムにKibanaをインストールできます。</p><p>Kibanaの最新の安定バージョンは、<a class="ulink" href="/downloads/kibana" target="_top">Kibanaのダウンロード</a>ページにあります。その他のバージョンは、<a class="ulink" href="/downloads/past-releases" target="_top">過去のリリースページ</a>にあります。</p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="deb-key"></a>Elastic PGPキーのインポート<a href="https://github.com/elastic/kibana/edit/5.4/docs/jp/setup/install/deb.asciidoc" class="edit_me" title="GitHub上で編集" rel="nofollow">編集</a></h3></div></div></div><p>弊社のパッケージはすべて、フィンガープリント付きのElastic Signing Key（PGPキー <a class="ulink" href="https://pgp.mit.edu/pks/lookup?op=vindex&amp;search=0xD27D666CD88E42B4" target="_top">D88E42B4</a>、 <a class="ulink" href="https://pgp.mit.edu" target="_top">https://pgp.mit.edu</a> から入手可能）で署名されています。</p><pre class="literallayout">4609 5ACC 8548 582C 1A26 99A9 D27D 666C D88E 42B4</pre><p>公開署名キーをダウンロードして、インストールします。</p><div class="pre_wrapper lang-sh"><pre class="programlisting prettyprint lang-sh">wget -qO - https://artifacts.elastic.co/GPG-KEY-elasticsearch | sudo apt-key add -</pre></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="deb-repo"></a>APTリポジトリからのインストール<a href="https://github.com/elastic/kibana/edit/5.4/docs/jp/setup/install/deb.asciidoc" class="edit_me" title="GitHub上で編集" rel="nofollow">編集</a></h3></div></div></div><p>場合によっては、先に進む前に、Debianに​<code class="literal">apt-transport-https</code>​パッケージをインストールする必要があります。</p><div class="pre_wrapper lang-sh"><pre class="programlisting prettyprint lang-sh">sudo apt-get install apt-transport-https</pre></div><p>リポジトリ定義を+/etc/apt/sources.list.d/elastic-5.x.list+に保存します。</p><div class="pre_wrapper lang-sh"><pre class="programlisting prettyprint lang-sh">echo "deb https://artifacts.elastic.co/packages/5.x/apt stable main" | sudo tee -a /etc/apt/sources.list.d/elastic-5.x.list</pre></div><div class="warning admon"><div class="icon"><img alt="警告" src="images/icons/warning.png" /></div><div class="admon_content"><p><code class="literal">deb-src</code>​エントリも追加されますが、ソースパッケージを提供していないため、​<code class="literal">add-apt-repository</code>​を使用しないでください。​<code class="literal">deb-src</code>​エントリを追加していない場合、次のようなエラーが表示されます。</p><pre class="literallayout">Unable to find expected entry 'main/source/Sources' in Release file
(Wrong sources.list entry or malformed file)</pre><p><code class="literal">/etc/apt/sources.list</code>​ファイルから​<code class="literal">deb-src</code>​エントリを削除すると、インストールは正しく動作します。</p></div></div><p>次のコマンドで、KibanaのDebianパッケージをインストールできます。</p><div class="pre_wrapper lang-sh"><pre class="programlisting prettyprint lang-sh">sudo apt-get update &amp;&amp; sudo apt-get install kibana</pre></div><div class="warning admon"><div class="icon"><img alt="警告" src="images/icons/warning.png" /></div><div class="admon_content"><p>同じKibanaリポジトリにエントリが2つあると、​<code class="literal">apt-get update</code>​の間に次のようなエラーが表示されます。</p><pre class="literallayout">Duplicate sources.list entry https://artifacts.elastic.co/packages/5.x/apt/ ...</pre><p>+/etc/apt/sources.list.d/kibana-5.x.list+で重複するエントリを調べるか、​<code class="literal">/etc/apt/sources.list.d/</code>​内のファイルと​<code class="literal">/etc/apt/sources.list</code>​ファイルの間で重複するエントリを特定します。</p></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="install-deb"></a>手動によるDebianパッケージのダウンロードとインストール<a href="https://github.com/elastic/kibana/edit/5.4/docs/jp/setup/install/deb.asciidoc" class="edit_me" title="GitHub上で編集" rel="nofollow">編集</a></h3></div></div></div><p>Kibana v5.4.0のDebianパッケージは、次のようにWebサイトからダウンロードしてインストールします。</p><p><span class="strong strong"><strong>64ビット:</strong></span></p><div class="pre_wrapper lang-sh"><pre class="programlisting prettyprint lang-sh">wget https://artifacts.elastic.co/downloads/kibana/kibana-5.4.0-amd64.deb
sha1sum kibana-5.4.0-amd64.deb <a id="CO4-1"></a><i class="conum" data-value="1"></i>
sudo dpkg -i kibana-5.4.0-amd64.deb</pre></div><div class="calloutlist"><table border="0" summary="Callout list"><tr><td width="5%" valign="top" align="left"><p><a href="#CO4-1"><i class="conum" data-value="1"></i></a> </p></td><td valign="top" align="left"><p>
​<code class="literal">sha1sum</code>​または​<code class="literal">shasum</code>​により生成されたSHAを <a class="ulink" href="https://artifacts.elastic.co/downloads/kibana/kibana-5.4.0-amd64.deb.sha1" target="_top">published SHA</a>と比較します。
</p></td></tr></table></div><p><span class="strong strong"><strong>32ビット:</strong></span></p><div class="pre_wrapper lang-sh"><pre class="programlisting prettyprint lang-sh">wget https://artifacts.elastic.co/downloads/kibana/kibana-5.4.0-i386.deb
sha1sum kibana-5.4.0-i386.deb <a id="CO5-1"></a><i class="conum" data-value="1"></i>
sudo dpkg -i kibana-5.4.0-i386.deb</pre></div><div class="calloutlist"><table border="0" summary="Callout list"><tr><td width="5%" valign="top" align="left"><p><a href="#CO5-1"><i class="conum" data-value="1"></i></a> </p></td><td valign="top" align="left"><p>
​<code class="literal">sha1sum</code>​または​<code class="literal">shasum</code>​により生成されたSHA を <a class="ulink" href="https://artifacts.elastic.co/downloads/kibana/kibana-5.4.0-i386.deb.sha1" target="_top">published SHA</a>と比較します。
</p></td></tr></table></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_sysv_literal_init_literal_vs_literal_systemd_literal"></a>SysV <code class="literal">init</code> vs <code class="literal">systemd</code><a href="https://github.com/elastic/kibana/edit/5.4/docs/jp/setup/install/init-systemd.asciidoc" class="edit_me" title="GitHub上で編集" rel="nofollow">編集</a></h3></div></div></div><p>インストール後、Kibanaは自動で起動しません。Kibanaの起動方法と停止方法は、システムがSysV ​<code class="literal">init</code>​または​<code class="literal">systemd</code>​（新しいデストリビューションが使用）を使用するかどうかによって決まります。次のコマンドを実行して、どちらが使用されているかを知ることができます。</p><div class="pre_wrapper lang-sh"><pre class="programlisting prettyprint lang-sh">ps -p 1</pre></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="deb-running-init"></a>SysV ​<code class="literal">init</code>​でのKibanaの実行<a href="https://github.com/elastic/kibana/edit/5.4/docs/jp/setup/install/deb.asciidoc" class="edit_me" title="GitHub上で編集" rel="nofollow">編集</a></h3></div></div></div><p><code class="literal">update-rc.d</code>​コマンドを使用して、システムの起動時に自動的に起動するようにKibanaを設定します。</p><div class="pre_wrapper lang-sh"><pre class="programlisting prettyprint lang-sh">sudo update-rc.d kibana defaults 95 10</pre></div><p><code class="literal">service</code>​を使用して、Kibanaを起動および停止できます。</p><div class="pre_wrapper lang-sh"><pre class="programlisting prettyprint lang-sh">sudo -i service kibana start
sudo -i service kibana stop</pre></div><p>何らかの理由によりKibanaの起動に失敗した場合、失敗の理由がSTDOUTに出力されます。ログファイルは​<code class="literal">/var/log/kibana/</code>​にあります。</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="deb-running-systemd"></a><code class="literal">systemd</code>​でのKibanaの実行<a href="https://github.com/elastic/kibana/edit/5.4/docs/jp/setup/install/systemd.asciidoc" class="edit_me" title="GitHub上で編集" rel="nofollow">編集</a></h3></div></div></div><p>システムの起動時に自動的に起動するようにKibanaを設定するには、次のコマンドを実行します。</p><div class="pre_wrapper lang-sh"><pre class="programlisting prettyprint lang-sh">sudo /bin/systemctl daemon-reload
sudo /bin/systemctl enable kibana.service</pre></div><p>次のように、Kibanaを起動および停止できます。</p><div class="pre_wrapper lang-sh"><pre class="programlisting prettyprint lang-sh">sudo systemctl start kibana.service
sudo systemctl stop kibana.service</pre></div><p>これらのコマンドは、Kibanaが正常に起動されたかどうかについてのフィードバックを返しません。その代わり、この情報は​<code class="literal">/var/log/kibana/</code>​にあるログファイルに書き込まれます。</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="deb-configuring"></a>設定ファイルによるKibanaの設定<a href="https://github.com/elastic/kibana/edit/5.4/docs/jp/setup/install/deb.asciidoc" class="edit_me" title="GitHub上で編集" rel="nofollow">編集</a></h3></div></div></div><p>Kibanaは、デフォルトで​<code class="literal">/etc/kibana/kibana.yml</code>​ファイルから設定を読み込みます。この設定ファイルの形式については、​<a class="ulink" href="https://www.elastic.co/guide/en/kibana/5.4/settings.html" target="_top">設定</a>で説明しています。</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="deb-layout"></a>Debianパッケージのディレクトリ構成<a href="https://github.com/elastic/kibana/edit/5.4/docs/jp/setup/install/deb.asciidoc" class="edit_me" title="GitHub上で編集" rel="nofollow">編集</a></h3></div></div></div><p>Debianパッケージは、Debianベースシステムの適切な場所に設定ファイル、ログ、およびデータディレクトリを配置します。</p><div class="informaltable"><table cellpadding="4px" border="1"><colgroup><col class="col_1" /><col class="col_2" /><col class="col_3" /><col class="col_4" /></colgroup><thead><tr><th align="left" valign="top"> タイプ </th><th align="left" valign="top"> 説明 </th><th align="left" valign="top"> デフォルトの場所 </th><th align="left" valign="top"> 設定</th></tr></thead><tbody><tr><td align="left" valign="top"><p><span class="strong strong"><strong>home</strong></span></p></td><td align="left" valign="top"><p>Kibanaのホームディレクトリまたは​<code class="literal">$KIBANA_HOME</code></p></td><td align="left" valign="top"><p><code class="literal">/usr/share/kibana</code></p></td><td align="left" valign="top"><p></p></td></tr><tr><td align="left" valign="top"><p><span class="strong strong"><strong>bin</strong></span></p></td><td align="left" valign="top"><p>Kibanaサーバーを起動するための​<code class="literal">kibana</code>​およびプラグインをインストールするための​<code class="literal">kibana-plugin</code>​を含むバイナリスクリプト</p></td><td align="left" valign="top"><p><code class="literal">/usr/share/kibana/bin</code></p></td><td align="left" valign="top"><p></p></td></tr><tr><td align="left" valign="top"><p><span class="strong strong"><strong>config</strong></span></p></td><td align="left" valign="top"><p><code class="literal">kibana.yml</code>​を含む設定ファイル</p></td><td align="left" valign="top"><p><code class="literal">/etc/kibana</code></p></td><td align="left" valign="top"><p></p></td></tr><tr><td align="left" valign="top"><p><span class="strong strong"><strong>data</strong></span></p></td><td align="left" valign="top"><p>Kibanaとそのプラグインによりディスクに書き込まれるデータファイルの場所</p></td><td align="left" valign="top"><p><code class="literal">/var/lib/kibana</code></p></td><td align="left" valign="top"><p></p></td></tr><tr><td align="left" valign="top"><p><span class="strong strong"><strong>optimize</strong></span></p></td><td align="left" valign="top"><p>トランスパイルされたソースコード。ある管理操作（プラグインのインストールなど）を行うと、その操作時にソースコードがトランスパイルされます。</p></td><td align="left" valign="top"><p><code class="literal">/usr/share/kibana/optimize</code></p></td><td align="left" valign="top"><p></p></td></tr><tr><td align="left" valign="top"><p><span class="strong strong"><strong>plugins</strong></span></p></td><td align="left" valign="top"><p>プラグインファイルの場所。各プラグインは、サブディレクトリに格納されます。</p></td><td align="left" valign="top"><p><code class="literal">/usr/share/kibana/plugins</code></p></td><td align="left" valign="top"><p></p></td></tr></tbody></table></div></div></div><div class="navfooter"><span class="prev"><a href="targz.html">
              « 
              <code class="literal">.tar.gz</code>​でのKibanaのインストール</a>
           
        </span><span class="next">
           
          <a href="rpm.html">RPMでのKibanaのインストール
               »
            </a></span></div></body></html>
