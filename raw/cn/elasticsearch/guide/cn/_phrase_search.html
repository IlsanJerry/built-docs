<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title xmlns="">短语搜索
        | Elasticsearch: 权威指南
      | Elastic
    </title><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Elasticsearch: 权威指南" /><link rel="up" href="intro.html" title="你知道的, 为了搜索…" /><link rel="prev" href="_full_text_search.html" title="全文搜索" /><link rel="next" href="highlighting-intro.html" title="高亮搜索" /><meta xmlns="" name="description" content="有关如何使用 Elasticsearch、Kibana、Logstash、Beats、X-Pack、Elastic Cloud、Elasticsearch for Apache Hadoop 及我们各种语言的客户端的文档。" /><meta xmlns="" name="DC.type" content="Learn/Docs/Elasticsearch/Definitive Guide" /><meta xmlns="" name="DC.subject" content="Elasticsearch" /><meta xmlns="" name="DC.identifier" content="cn" /></head><body><div xmlns="" class="page_header"><b>请注意:</b><br/>本书基于 Elasticsearch 2.x 版本，有些内容可能已经过时。
</div><div xmlns="" class="breadcrumbs"><span class="breadcrumb-link"><a href="index.html">Elasticsearch: 权威指南</a></span> » <span class="breadcrumb-link"><a href="getting-started.html">基础入门</a></span> » <span class="breadcrumb-link"><a href="intro.html">你知道的, 为了搜索…</a></span> » <span class="breadcrumb-node">短语搜索</span></div><div xmlns="" class="navheader"><span class="prev"><a href="_full_text_search.html">
              « 
              全文搜索</a>
           
        </span><span class="next">
           
          <a href="highlighting-intro.html">高亮搜索
               »
            </a></span></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="_phrase_search"></a>短语搜索<a xmlns="" href="https://github.com/elasticsearch-cn/elasticsearch-definitive-guide/edit/cn/010_Intro/30_Tutorial_Search.asciidoc" class="edit_me" title="在 GitHub 上编辑本页" rel="nofollow">编辑</a></h2></div></div></div><p>找出一个属性中的独立单词是没有问题的，但有时候想要精确匹配一系列单词或者<span class="emphasis"><em>短语</em></span> 。<a id="id-1.4.3.23.2.2" class="indexterm"></a> 比如， 我们想执行这样一个查询，仅匹配同时包含 “rock” <span class="emphasis"><em>和</em></span> “climbing” ，<span class="emphasis"><em>并且</em></span>  二者以短语 “rock climbing” 的形式紧挨着的雇员记录。</p><p>为此对 <code class="literal">match</code> 查询稍作调整，使用一个叫做 <code class="literal">match_phrase</code> 的查询：</p><div xmlns="" class="pre_wrapper lang-js"><pre xmlns="http://www.w3.org/1999/xhtml" class="programlisting prettyprint lang-js">GET /megacorp/employee/_search
{
    "query" : {
        "match_phrase" : {
            "about" : "rock climbing"
        }
    }
}</pre></div><div xmlns="" class="sense_widget" data-snippet="snippets/010_Intro/30_Query_DSL.json"></div><p>毫无悬念，返回结果仅有 John Smith 的文档。</p><div xmlns="" class="pre_wrapper lang-js"><pre xmlns="http://www.w3.org/1999/xhtml" class="programlisting prettyprint lang-js">{
   ...
   "hits": {
      "total":      1,
      "max_score":  0.23013961,
      "hits": [
         {
            ...
            "_score":         0.23013961,
            "_source": {
               "first_name":  "John",
               "last_name":   "Smith",
               "age":         25,
               "about":       "I love to go rock climbing",
               "interests": [ "sports", "music" ]
            }
         }
      ]
   }
}</pre></div></div><div xmlns="" class="navfooter"><span class="prev"><a href="_full_text_search.html">
              « 
              全文搜索</a>
           
        </span><span class="next">
           
          <a href="highlighting-intro.html">高亮搜索
               »
            </a></span></div></body></html>