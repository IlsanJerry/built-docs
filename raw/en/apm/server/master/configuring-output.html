<!DOCTYPE html>
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Configure the output
        | APM Server Reference [master]
      | Elastic
    </title><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="APM Server Reference [master]" /><link rel="up" href="configuring-howto-apm-server.html" title="Configuring APM Server" /><link rel="prev" href="configuration-process.html" title="General configuration options" /><link rel="next" href="elasticsearch-output.html" title="Configure the Elasticsearch output" /><meta name="description" content="Get started with the documentation for Elasticsearch, Kibana, Logstash, Beats, X-Pack, Elastic Cloud, Elasticsearch for Apache Hadoop, and our language clients." /><meta name="DC.type" content="Learn/Docs/APM Server/Reference/master" /><meta name="DC.subject" content="APM" /><meta name="DC.identifier" content="master" /></head><body><div class="page_header">You are looking at preliminary documentation for a future release.
Not what you want? See the
<a href="../current/index.html">current release documentation</a>.
</div><div class="breadcrumbs"><span class="breadcrumb-link"><a href="index.html">APM Server Reference
      [master]
    </a></span> » <span class="breadcrumb-link"><a href="configuring-howto-apm-server.html">Configuring APM Server</a></span> » <span class="breadcrumb-node">Configure the output</span></div><div class="navheader"><span class="prev"><a href="configuration-process.html">
              « 
              General configuration options</a>
           
        </span><span class="next">
           
          <a href="elasticsearch-output.html">Configure the Elasticsearch output
               »
            </a></span></div><div class="chapter"><div class="titlepage"><div><div><h2 class="title"><a id="configuring-output"></a>Configure the output<a href="https://github.com/elastic/apm-server/edit/master/docs/copied-from-beats/outputconfig.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h2></div></div></div><p>You configure APM Server to write to a specific output by setting options
in the <code class="literal">Outputs</code> section of the <code class="literal">apm-server.yml</code> config file. Only a single
output may be defined.</p><p>The following topics describe how to configure each supported output:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><a class="xref" href="elasticsearch-output.html" title="Configure the Elasticsearch output">Elasticsearch</a></li><li class="listitem"><a class="xref" href="logstash-output.html" title="Configure the Logstash output">Logstash</a></li><li class="listitem"><a class="xref" href="kafka-output.html" title="Configure the Kafka output">Kafka</a></li><li class="listitem"><a class="xref" href="file-output.html" title="Configure the File output">File</a></li><li class="listitem"><a class="xref" href="console-output.html" title="Configure the Console output">Console</a></li><li class="listitem"><a class="xref" href="configure-cloud-id.html" title="Configure the output for the Elastic Cloud">Cloud</a></li></ul></div><p>If you’ve secured the Elastic Stack, also read <a class="xref" href="securing-apm-server.html" title="Securing APM Server">Securing APM Server</a> for more about
security-related configuration options.</p><h3><a id="sourcemap-output"></a>Sourcemaps<a href="https://github.com/elastic/apm-server/edit/master/docs/configuring-output-after.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3><p>Sourcemaps can be uploaded through all outputs but must eventually be stored in Elasticsearch.
When using outputs other than Elasticsearch, <code class="literal">source_mapping.elasticsearch</code> must be set for source maps to be applied.
Be sure to update <code class="literal">source_mapping.index_pattern</code> if sourcemaps are stored in the non-default location.
See <a class="xref" href="configuration-rum.html#config-sourcemapping-elasticsearch" title="source_mapping.elasticsearch"><code class="literal">source_mapping.elasticsearch</code></a> for more details.</p><h3><a id="libbeat-configuration-fields"></a><code class="literal">fields</code><a href="https://github.com/elastic/apm-server/edit/master/docs/configuring-output-after.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3><p>Fields are optional tags that can be added to any output.
Fields can be scalar values, arrays, dictionaries, or any nested combination of these.
By default, the fields that you specify here will be grouped under a <code class="literal">fields</code> sub-dictionary in the output document.</p><p>Example:</p><div class="pre_wrapper lang-yaml"><pre class="programlisting prettyprint lang-yaml">fields: {project: "myproject", instance-id: "574734885120952459"}</pre></div><p>To store the custom fields as top-level fields, set the <code class="literal">fields_under_root</code> option to true.
This is not recommended as when new fields are added to APM documents backward compatibility cannot be ensured.</p></div><div class="navfooter"><span class="prev"><a href="configuration-process.html">
              « 
              General configuration options</a>
           
        </span><span class="next">
           
          <a href="elasticsearch-output.html">Configure the Elasticsearch output
               »
            </a></span></div></body></html>
