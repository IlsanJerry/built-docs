<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>RUM JS Agent version 5.x | APM Real User Monitoring JavaScript Agent Reference [5.x] | Elastic</title>
<link rel="home" href="index.html" title="APM Real User Monitoring JavaScript Agent Reference [5.x]"/>
<link rel="up" href="release-notes.html" title="Release notes"/>
<link rel="prev" href="release-notes.html" title="Release notes"/>
<link rel="next" href="release-notes-4.x.html" title="RUM JS Agent version 4.x"/>
<meta name="DC.type" content="Learn/Docs/APM Real User Monitoring JavaScript Agent/Reference/5.x"/>
<meta name="DC.subject" content="APM"/>
<meta name="DC.identifier" content="5.x"/>
</head>
<body>
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="index.html">APM Real User Monitoring JavaScript Agent Reference [5.x]</a></span>
»
<span class="breadcrumb-link"><a href="release-notes.html">Release notes</a></span>
»
<span class="breadcrumb-node">RUM JS Agent version 5.x</span>
</div>
<div class="navheader">
<span class="prev">
<a href="release-notes.html">« Release notes</a>
</span>
<span class="next">
<a href="release-notes-4.x.html">RUM JS Agent version 4.x »</a>
</span>
</div>
<div class="section">
<div class="titlepage"><div><div>
<h2 class="title"><a id="release-notes-5.x"></a>RUM JS Agent version 5.x<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-rum-js/edit/5.x/CHANGELOG.asciidoc">edit</a></h2>
</div></div></div>
<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="release-notes-5.7.2"></a>5.7.2 (2021-04-02)<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-rum-js/edit/5.x/CHANGELOG.asciidoc">edit</a></h3>
</div></div></div>
<h5><a id="_bug_fixes"></a>Bug fixes<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-rum-js/edit/5.x/CHANGELOG.asciidoc">edit</a></h5>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Transaction marks for the APM server V3 spec was mapped to incorrect field which resulted in Kibana
User Expererience App missing some of the core data. This only affects users who had set config
<code class="literal">apiVersion</code> &gt; 2: <a href="https://github.com/elastic/apm-agent-rum-js/issues/1007" class="ulink" target="_top">#1007</a>
</li>
</ul>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="release-notes-5.7.1"></a>5.7.1 (2021-03-17)<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-rum-js/edit/5.x/CHANGELOG.asciidoc">edit</a></h3>
</div></div></div>
<h5><a id="_bug_fixes_2"></a>Bug fixes<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-rum-js/edit/5.x/CHANGELOG.asciidoc">edit</a></h5>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Discard buffered longtasks spans from page load transactions getting added to subsequent route change and other auto auto-instrumented transactions resulting in incorrect start time for those transactions: <a href="https://github.com/elastic/apm-agent-rum-js/issues/989" class="ulink" target="_top">#989</a>
</li>
</ul>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="release-notes-5.7.0"></a>5.7.0 (2021-03-15)<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-rum-js/edit/5.x/CHANGELOG.asciidoc">edit</a></h3>
</div></div></div>
<h5><a id="_features"></a>Features<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-rum-js/edit/5.x/CHANGELOG.asciidoc">edit</a></h5>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Support regular expression for detecting distributed tracing origins (<code class="literal">distributedTracingOrigins</code>): <a href="https://github.com/elastic/apm-agent-rum-js/issues/943" class="ulink" target="_top">#943</a>
</li>
<li class="listitem">
Capture buffered longtask entries: <a href="https://github.com/elastic/apm-agent-rum-js/issues/964" class="ulink" target="_top">#964</a>
</li>
<li class="listitem">
Expose agent configuration TypeScript definition: <a href="https://github.com/elastic/apm-agent-rum-js/issues/979" class="ulink" target="_top">#979</a>
</li>
</ul>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="release-notes-5.6.3"></a>5.6.3 (2021-02-02)<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-rum-js/edit/5.x/CHANGELOG.asciidoc">edit</a></h3>
</div></div></div>
<h5><a id="_features_2"></a>Features<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-rum-js/edit/5.x/CHANGELOG.asciidoc">edit</a></h5>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Propagate sampling weight through tracestate header: <a href="https://github.com/elastic/apm-agent-rum-js/issues/845" class="ulink" target="_top">#845</a>
</li>
<li class="listitem">
Add necessary scripts to load test APM server with RUM payload: <a href="https://github.com/elastic/apm-agent-rum-js/issues/948" class="ulink" target="_top">#948</a>
</li>
</ul>
</div>
<h5><a id="_bug_fixes_3"></a>Bug fixes<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-rum-js/edit/5.x/CHANGELOG.asciidoc">edit</a></h5>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Handle null reason in promise rejection event: <a href="https://github.com/elastic/apm-agent-rum-js/issues/940" class="ulink" target="_top">#940</a>
</li>
</ul>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="release-notes-5.6.2"></a>5.6.2 (2020-11-06)<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-rum-js/edit/5.x/CHANGELOG.asciidoc">edit</a></h3>
</div></div></div>
<h5><a id="_features_3"></a>Features<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-rum-js/edit/5.x/CHANGELOG.asciidoc">edit</a></h5>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add transaction sampling rate precision which ensures <code class="literal">transaction_sample_rate</code> configuration option
has a maximum precision of 4 decimal places: <a href="https://github.com/elastic/apm-agent-rum-js/issues/927" class="ulink" target="_top">#927</a>
</li>
<li class="listitem">
Add <code class="literal">outcome</code> field to applicable transactions and spans that is used by the APM UI for displaying
the error rate chart: <a href="https://github.com/elastic/apm-agent-rum-js/issues/904" class="ulink" target="_top">#904</a>
</li>
</ul>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="release-notes-5.6.1"></a>5.6.1 (2020-09-29)<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-rum-js/edit/5.x/CHANGELOG.asciidoc">edit</a></h3>
</div></div></div>
<h5><a id="_features_4"></a>Features<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-rum-js/edit/5.x/CHANGELOG.asciidoc">edit</a></h5>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Longtasks are now aggregated under the experience field to make querying faster: <a href="https://github.com/elastic/apm-agent-rum-js/issues/900" class="ulink" target="_top">#900</a>
</li>
</ul>
</div>
<h5><a id="_bug_fixes_4"></a>Bug fixes<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-rum-js/edit/5.x/CHANGELOG.asciidoc">edit</a></h5>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Check for a Webkit Navigation timing API bug is added to avoid having incorrect navigation marks: <a href="https://github.com/elastic/apm-agent-rum-js/issues/903" class="ulink" target="_top">#903</a>
</li>
</ul>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="release-notes-5.6.0"></a>5.6.0 (2020-09-17)<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-rum-js/edit/5.x/CHANGELOG.asciidoc">edit</a></h3>
</div></div></div>
<h5><a id="_features_5"></a>Features<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-rum-js/edit/5.x/CHANGELOG.asciidoc">edit</a></h5>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add new method signaturtes to the exported type definitions: <a href="https://github.com/elastic/apm-agent-rum-js/issues/890" class="ulink" target="_top">#890</a>
</li>
</ul>
</div>
<h5><a id="_bug_fixes_5"></a>Bug fixes<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-rum-js/edit/5.x/CHANGELOG.asciidoc">edit</a></h5>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Frameworks should not be automatically instrumented when the apm is inactive : <a href="https://github.com/elastic/apm-agent-rum-js/issues/885" class="ulink" target="_top">#885</a>
</li>
<li class="listitem">
Add default XHR timeout for compressed requests to APM server: <a href="https://github.com/elastic/apm-agent-rum-js/issues/897" class="ulink" target="_top">#897</a>
</li>
<li class="listitem">
Measure First Input Delay metrics properly for page load transactions: <a href="https://github.com/elastic/apm-agent-rum-js/issues/899" class="ulink" target="_top">#899</a>
</li>
</ul>
</div>
<h5><a id="_performance_improvements"></a>Performance Improvements<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-rum-js/edit/5.x/CHANGELOG.asciidoc">edit</a></h5>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Improve the span creation time when there is an active transaction on page: <a href="https://github.com/elastic/apm-agent-rum-js/issues/883" class="ulink" target="_top">#883</a>
</li>
</ul>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="release-notes-5.5.0"></a>5.5.0 (2020-08-18)<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-rum-js/edit/5.x/CHANGELOG.asciidoc">edit</a></h3>
</div></div></div>
<h5><a id="_features_6"></a>Features<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-rum-js/edit/5.x/CHANGELOG.asciidoc">edit</a></h5>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Provide an API to block all auto instrumented transactions created by the agent through
<code class="literal">transaction.block</code> method. Users can also use the <code class="literal">startSpan</code> API to create blocking spans
to control this behaviour: <a href="https://github.com/elastic/apm-agent-rum-js/issues/866" class="ulink" target="_top">#866</a>
</li>
<li class="listitem">
Expose options to create blocking spans from the agent API via <code class="literal">startSpan</code>: <a href="https://github.com/elastic/apm-agent-rum-js/issues/875" class="ulink" target="_top">#875</a>
</li>
<li class="listitem">
Capture Cumulative layout shift(CLS), Total blocking time(TBT) and First input delay(FID) as
part of experience metrics under page-load transactions: <a href="https://github.com/elastic/apm-agent-rum-js/issues/838" class="ulink" target="_top">#838</a>
</li>
</ul>
</div>
<h5><a id="_bug_fixes_6"></a>Bug fixes<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-rum-js/edit/5.x/CHANGELOG.asciidoc">edit</a></h5>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Track various XHR states like timeouts, errors and aborts and end all managed
transactions correctly: <a href="https://github.com/elastic/apm-agent-rum-js/issues/871" class="ulink" target="_top">#871</a>
</li>
<li class="listitem">
Fix inconsistencies in the XHR timings by removing the task scheduling logic: <a href="https://github.com/elastic/apm-agent-rum-js/issues/871" class="ulink" target="_top">#871</a>
</li>
<li class="listitem">
Accept the user provided <code class="literal">logLevel</code> configuration when agent is not active: <a href="https://github.com/elastic/apm-agent-rum-js/issues/861" class="ulink" target="_top">#861</a>
</li>
<li class="listitem">
Opentracing Tracer should return Noop on unsupported platforms: <a href="https://github.com/elastic/apm-agent-rum-js/issues/872" class="ulink" target="_top">#872</a>s
</li>
</ul>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="release-notes-5.4.0"></a>5.4.0 (2020-07-29)<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-rum-js/edit/5.x/CHANGELOG.asciidoc">edit</a></h3>
</div></div></div>
<h5><a id="_features_7"></a>Features<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-rum-js/edit/5.x/CHANGELOG.asciidoc">edit</a></h5>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Agent now uses the new CompressionStream API available on modern browsers to
gzip compress the payload sent to the APM server. This yields a huge reduction of
around ~96% in the payload size for an example web application when compared with the v3
specification: <a href="https://github.com/elastic/apm-agent-rum-js/issues/572" class="ulink" target="_top">#572</a>
</li>
</ul>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="release-notes-5.3.0"></a>5.3.0 (2020-07-06)<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-rum-js/edit/5.x/CHANGELOG.asciidoc">edit</a></h3>
</div></div></div>
<h5><a id="_features_8"></a>Features<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-rum-js/edit/5.x/CHANGELOG.asciidoc">edit</a></h5>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Introduced better grouping strategy for all managed transactions based on the
current browser&#8217;s location by default instead of grouping all transactions
under <code class="literal">UNKNOWN</code> category: <a href="https://github.com/elastic/apm-agent-rum-js/issues/827" class="ulink" target="_top">#827</a>
</li>
<li class="listitem">
Capture XHR, Fetch calls as spans that happened before the agent script is
downloaded using the browser&#8217;s Resource Timing API: <a href="https://github.com/elastic/apm-agent-rum-js/issues/825" class="ulink" target="_top">#825</a>
</li>
<li class="listitem">
Populate <code class="literal">span.destination.*</code> context fields for Navigation Timing span that
denotes the HTML downloading phase: <a href="https://github.com/elastic/apm-agent-rum-js/issues/829" class="ulink" target="_top">#829</a>
</li>
<li class="listitem">
Use Page Visibility API to discard transactions if the page was backgrounded
at any point during the lifetime of the transaction: <a href="https://github.com/elastic/apm-agent-rum-js/issues/295" class="ulink" target="_top">#295</a>
</li>
<li class="listitem">
Add <code class="literal">apiVersion</code> config to TypeScript typings: <a href="https://github.com/elastic/apm-agent-rum-js/issues/833" class="ulink" target="_top">#833</a>
</li>
</ul>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="release-notes-5.2.1"></a>5.2.1 (2020-06-24)<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-rum-js/edit/5.x/CHANGELOG.asciidoc">edit</a></h3>
</div></div></div>
<h5><a id="_features_9"></a>Features<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-rum-js/edit/5.x/CHANGELOG.asciidoc">edit</a></h5>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Added support for path array in <code class="literal">&lt;ApmRoute&gt;</code> React component that associates
the transaction based on the mounted path: <a href="https://github.com/elastic/apm-agent-rum-js/issues/702" class="ulink" target="_top">#702</a>
</li>
</ul>
</div>
<h5><a id="_bug_fixes_7"></a>Bug fixes<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-rum-js/edit/5.x/CHANGELOG.asciidoc">edit</a></h5>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Capture Total Blocking Time (TBT) only after all longtask entries
are observed: <a href="https://github.com/elastic/apm-agent-rum-js/issues/803" class="ulink" target="_top">#803</a>
</li>
<li class="listitem">
Do not capture page load transaction marks when the NavigationTiming data from
the browsers are not trustable: <a href="https://github.com/elastic/apm-agent-rum-js/issues/818" class="ulink" target="_top">#818</a>
</li>
</ul>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="release-notes-5.2.0"></a>5.2.0 (2020-05-28)<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-rum-js/edit/5.x/CHANGELOG.asciidoc">edit</a></h3>
</div></div></div>
<h5><a id="_features_10"></a>Features<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-rum-js/edit/5.x/CHANGELOG.asciidoc">edit</a></h5>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Agent now supports compressing events payload sent to the APM server
via new configuration <a class="xref" href="configuration.html#api-version" title="apiVersion">apiVersion</a>. It yeilds a huge reduction of
around ~45% in the payload size for average sized web pages: <a href="https://github.com/elastic/apm-agent-rum-js/issues/768" class="ulink" target="_top">#768</a>
</li>
<li class="listitem">
Capture First Input Delay(FID) as Span for page-load transaction: <a href="https://github.com/elastic/apm-agent-rum-js/issues/732" class="ulink" target="_top">#732</a>
</li>
<li class="listitem">
Capture Total Blocking Time(TBT) as Span for page-load transaction: <a href="https://github.com/elastic/apm-agent-rum-js/issues/781" class="ulink" target="_top">#781</a>
</li>
</ul>
</div>
<h5><a id="_bug_fixes_8"></a>Bug fixes<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-rum-js/edit/5.x/CHANGELOG.asciidoc">edit</a></h5>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Allow setting labels before agent is initialized: <a href="https://github.com/elastic/apm-agent-rum-js/issues/780" class="ulink" target="_top">#780</a>
</li>
<li class="listitem">
Use single instance of apm across all packages: <a href="https://github.com/elastic/apm-agent-rum-js/issues/791" class="ulink" target="_top">#791</a>
</li>
<li class="listitem">
User defined types for managed transactions are considered of
high precedence: <a href="https://github.com/elastic/apm-agent-rum-js/issues/758" class="ulink" target="_top">#758</a>
</li>
<li class="listitem">
Add span subtype information in payload without camelcasing: <a href="https://github.com/elastic/apm-agent-rum-js/issues/753" class="ulink" target="_top">#753</a>
</li>
<li class="listitem">
Treat truncated spans percentage as regular span in
breakdown calculation: <a href="https://github.com/elastic/apm-agent-rum-js/issues/776" class="ulink" target="_top">#776</a>
</li>
</ul>
</div>
<h5><a id="_performance_improvements_2"></a>Performance Improvements<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-rum-js/edit/5.x/CHANGELOG.asciidoc">edit</a></h5>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Refactor ServiceFactory class to use constant service names: <a href="https://github.com/elastic/apm-agent-rum-js/issues/238" class="ulink" target="_top">#238</a>
</li>
</ul>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="release-notes-5.1.1"></a>5.1.1 (2020-04-15)<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-rum-js/edit/5.x/CHANGELOG.asciidoc">edit</a></h3>
</div></div></div>
<h5><a id="_features_11"></a>Features<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-rum-js/edit/5.x/CHANGELOG.asciidoc">edit</a></h5>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Performance Observer is used to measure FirstContentfulPaint Metric: <a href="https://github.com/elastic/apm-agent-rum-js/issues/731" class="ulink" target="_top">#731</a>
</li>
</ul>
</div>
<h5><a id="_bug_fixes_9"></a>Bug fixes<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-rum-js/edit/5.x/CHANGELOG.asciidoc">edit</a></h5>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Avoid full component re-rerender when query params are updated on current
<code class="literal">ApmRoute</code> inside child components: <a href="https://github.com/elastic/apm-agent-rum-js/issues/748" class="ulink" target="_top">#748</a>
</li>
</ul>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="release-notes-5.1.0"></a>5.1.0 (2020-04-08)<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-rum-js/edit/5.x/CHANGELOG.asciidoc">edit</a></h3>
</div></div></div>
<h5><a id="_features_12"></a>Features<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-rum-js/edit/5.x/CHANGELOG.asciidoc">edit</a></h5>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Route change transactions now includes the browsers next paint frame: <a href="https://github.com/elastic/apm-agent-rum-js/issues/404" class="ulink" target="_top">#404</a>
</li>
<li class="listitem">
Support differential loading with Angular CLI: <a href="https://github.com/elastic/apm-agent-rum-js/issues/607" class="ulink" target="_top">#607</a>
</li>
</ul>
</div>
<h5><a id="_performance_improvements_3"></a>Performance Improvements<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-rum-js/edit/5.x/CHANGELOG.asciidoc">edit</a></h5>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Reduced the bundle size by modifying the random number generator algorithm: <a href="https://github.com/elastic/apm-agent-rum-js/issues/705" class="ulink" target="_top">#705</a>
</li>
</ul>
</div>
<h5><a id="_bug_fixes_10"></a>Bug fixes<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-rum-js/edit/5.x/CHANGELOG.asciidoc">edit</a></h5>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Handle when errors are thrown in unsupported browsers: <a href="https://github.com/elastic/apm-agent-rum-js/issues/707" class="ulink" target="_top">#707</a>
</li>
<li class="listitem">
Captured API calls are duplicated as spans in IE: <a href="https://github.com/elastic/apm-agent-rum-js/issues/723" class="ulink" target="_top">#723</a>
</li>
</ul>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="release-notes-5.0.0"></a>5.0.0 (2020-03-18)<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-rum-js/edit/5.x/CHANGELOG.asciidoc">edit</a></h3>
</div></div></div>
<h5><a id="_breaking_changes"></a>Breaking changes<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-rum-js/edit/5.x/CHANGELOG.asciidoc">edit</a></h5>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
The agent now uses the official W3C traceparent header to propagate trace context: <a href="https://github.com/elastic/apm-agent-rum-js/issues/477" class="ulink" target="_top">#477</a>
</li>
<li class="listitem">
The agent name is changed from <code class="literal">js-base</code> to <code class="literal">rum-js</code>: <a href="https://github.com/elastic/apm-agent-rum-js/issues/379" class="ulink" target="_top">#379</a>
</li>
<li class="listitem">
Global labels are only added to metadata to improve payload size: <a href="https://github.com/elastic/apm-agent-rum-js/issues/618" class="ulink" target="_top">#618</a>
</li>
<li class="listitem">
Labels now accept Boolean and Number types: <a href="https://github.com/elastic/apm-agent-rum-js/issues/272" class="ulink" target="_top">#272</a>
</li>
<li class="listitem">
Simplify configuration by removing and/or merging config options: <a href="https://github.com/elastic/apm-agent-rum-js/issues/628" class="ulink" target="_top">#628</a>
</li>
<li class="listitem">
<code class="literal">addTags</code> method is removed in favour of <code class="literal">addLabels</code>: <a href="https://github.com/elastic/apm-agent-rum-js/issues/215" class="ulink" target="_top">#215</a>
</li>
</ul>
</div>
<p>Please see our <a class="xref" href="upgrade-to-v5.html" title="Upgrade to version 5.x">Upgrade to version 5.x</a> guide for more information.</p>
<h5><a id="_features_13"></a>Features<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-rum-js/edit/5.x/CHANGELOG.asciidoc">edit</a></h5>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Monitor longtasks by default during active transaction: <a href="https://github.com/elastic/apm-agent-rum-js/issues/601" class="ulink" target="_top">#601</a>
</li>
<li class="listitem">
Set sync field only for synchronous spans: <a href="https://github.com/elastic/apm-agent-rum-js/issues/619" class="ulink" target="_top">#619</a>
</li>
</ul>
</div>
</div>

</div>
<div class="navfooter">
<span class="prev">
<a href="release-notes.html">« Release notes</a>
</span>
<span class="next">
<a href="release-notes-4.x.html">RUM JS Agent version 4.x »</a>
</span>
</div>
</div>
</body>
</html>
