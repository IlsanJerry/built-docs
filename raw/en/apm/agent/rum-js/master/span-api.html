<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title xmlns="">Span API
        | APM Real User Monitoring JavaScript Agent Reference [master]
      | Elastic
    </title><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="APM Real User Monitoring JavaScript Agent Reference [master]" /><link rel="up" href="api.html" title="API Reference" /><link rel="prev" href="transaction-api.html" title="Transaction API" /><link rel="next" href="configuration.html" title="Configuration" /><meta xmlns="" name="description" content="Get started with the documentation for Elasticsearch, Kibana, Logstash, Beats, X-Pack, Elastic Cloud, Elasticsearch for Apache Hadoop, and our language clients." /><meta xmlns="" name="DC.type" content="Learn/Docs/APM Real User Monitoring JavaScript Agent/Reference/master" /><meta xmlns="" name="DC.subject" content="APM" /><meta xmlns="" name="DC.identifier" content="master" /></head><body><div xmlns="" class="page_header">You are looking at preliminary documentation for a future release.
Not what you want? See the
<a href="../current/index.html">current release documentation</a>.
</div><div xmlns="" class="breadcrumbs"><span class="breadcrumb-link"><a href="index.html">APM Real User Monitoring JavaScript Agent Reference
      [master]
    </a></span> » <span class="breadcrumb-link"><a href="api.html">API Reference</a></span> » <span class="breadcrumb-node"><code xmlns="http://www.w3.org/1999/xhtml" class="literal">Span</code> API</span></div><div xmlns="" class="navheader"><span class="prev"><a href="transaction-api.html">
              « 
              <code xmlns="http://www.w3.org/1999/xhtml" class="literal">Transaction</code> API</a>
           
        </span><span class="next">
           
          <a href="configuration.html">Configuration
               »
            </a></span></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="span-api"></a><code class="literal">Span</code> API<a xmlns="" href="https://github.com/elastic/apm-agent-rum-js/edit/master/docs/span-api.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h2></div></div></div><p>A span measures the duration of a single event.
When a span is created it will measure the time until <a class="link" href="span-api.html#span-end" title="span.end()"><code class="literal">span.end()</code></a> is called.</p><p>To get a <code class="literal">Span</code> object,
you need to call <a class="link" href="agent-api.html#apm-start-span" title="apm.startSpan()"><code class="literal">apm.startSpan()</code></a>.</p><h4><a id="span-name"></a><code class="literal">span.name</code><a xmlns="" href="https://github.com/elastic/apm-agent-rum-js/edit/master/docs/span-api.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><span class="strong strong"><strong>Type:</strong></span> String</li><li class="listitem"><span class="strong strong"><strong>Default:</strong></span> <code class="literal">Unknown</code></li></ul></div><p>The name of the span.
This can also be set via <a class="link" href="agent-api.html#apm-start-span" title="apm.startSpan()"><code class="literal">apm.startSpan()</code></a>.</p><h4><a id="span-type"></a><code class="literal">span.type</code><a xmlns="" href="https://github.com/elastic/apm-agent-rum-js/edit/master/docs/span-api.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><span class="strong strong"><strong>Type:</strong></span> String</li><li class="listitem"><span class="strong strong"><strong>Default:</strong></span> <code class="literal">custom</code></li></ul></div><p>The type of span.
This can also be set via <a class="link" href="agent-api.html#apm-start-span" title="apm.startSpan()"><code class="literal">apm.startSpan()</code></a>.</p><p>The type is a hierarchical string used to group similar spans together.
For instance, all outgoing AJAX requests are given the type <code class="literal">external.http</code>.</p><p>In the above example, <code class="literal">external</code> is considered the type prefix.
Though there are no naming restrictions for this prefix,
the following are standardized across all Elastic APM agents:
<code class="literal">app</code>, <code class="literal">db</code>, <code class="literal">cache</code>, <code class="literal">template</code>, and <code class="literal">external</code>.</p><h4><a id="span-add-tags"></a><code class="literal">span.addTags()</code><a xmlns="" href="https://github.com/elastic/apm-agent-rum-js/edit/master/docs/span-api.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4><p><span xmlns="" class="Admonishment">
      [<span class="Admonishment-version u-mono u-strikethrough">4.1.x</span>]
      <span class="Admonishment-detail">Deprecated in 4.1.x. 
  Tags have been replaced with labels
</span></span>
, Please use <a class="link" href="span-api.html#span-add-labels" title="span.addLabels()"><code class="literal">span.addLabels()</code></a> instead</p><h4><a id="span-add-labels"></a><code class="literal">span.addLabels()</code><a xmlns="" href="https://github.com/elastic/apm-agent-rum-js/edit/master/docs/span-api.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4><div xmlns="" class="pre_wrapper lang-js"><pre xmlns="http://www.w3.org/1999/xhtml" class="programlisting prettyprint lang-js">span.addLabels({ [name]: value })</pre></div><p>Add several labels on the span. If an error happens during the span,
it will also get tagged with the same labels.</p><p>Arguments:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><code class="literal">name</code> - Any string. All periods (.), asterisks (*), and double quotation marks (") will be replaced by underscores (_), as those characters have special meaning in Elasticsearch</li><li class="listitem"><code class="literal">value</code> - Any string. If a non-string data type is given, it’s converted to a string before being sent to the APM Server.</li></ul></div><h4><a id="span-end"></a><code class="literal">span.end()</code><a xmlns="" href="https://github.com/elastic/apm-agent-rum-js/edit/master/docs/span-api.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4><div xmlns="" class="pre_wrapper lang-js"><pre xmlns="http://www.w3.org/1999/xhtml" class="programlisting prettyprint lang-js">span.end()</pre></div><p>Ends the span. If the span has already ended, nothing happens.</p></div><div xmlns="" class="navfooter"><span class="prev"><a href="transaction-api.html">
              « 
              <code xmlns="http://www.w3.org/1999/xhtml" class="literal">Transaction</code> API</a>
           
        </span><span class="next">
           
          <a href="configuration.html">Configuration
               »
            </a></span></div></body></html>