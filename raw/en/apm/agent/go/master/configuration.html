<!DOCTYPE html>
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Configuration
        | APM Go Agent Reference [master]
      | Elastic
    </title><link rel="home" href="index.html" title="APM Go Agent Reference [master]" /><link rel="up" href="index.html" title="APM Go Agent Reference [master]" /><link rel="prev" href="instrumenting-source.html" title="Instrumenting Go Source Code" /><link rel="next" href="config-service-node-name.html" title="ELASTIC_APM_SERVICE_NODE_NAME" /><meta name="DC.type" content="Learn/Docs/APM Go Agent/Reference/master" /><meta name="DC.subject" content="APM" /><meta name="DC.identifier" content="master" /></head><body><div class="page_header">You are looking at preliminary documentation for a future release.
Not what you want? See the
<a href="../current/index.html">current release documentation</a>.
</div><div class="breadcrumbs"><span class="breadcrumb-link"><a href="index.html">APM Go Agent Reference
      [master]
    </a></span> » <span class="breadcrumb-node">Configuration</span></div><div class="navheader"><span class="prev"><a href="instrumenting-source.html">
              « 
              Instrumenting Go Source Code</a>
           
        </span><span class="next">
           
          <a href="config-service-node-name.html"><code class="literal">ELASTIC_APM_SERVICE_NODE_NAME</code>
               »
            </a></span></div><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a id="configuration"></a>Configuration<a href="https://github.com/elastic/apm-agent-go/edit/master/docs/configuration.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h1></div></div></div><p>To adapt the Elastic APM Go agent to your needs, you can configure it using
one of the following three methods, in descending order of precedence:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><a class="ulink" href="/guide/en/kibana/current/agent-configuration.html" target="_top">APM Agent Configuration via Kibana</a></li><li class="listitem">In code, using the <a class="link" href="api.html#tracer-config-api" title="Tracer Config">Tracer Config API</a></li><li class="listitem">Environment variables</li></ol></div><p>Configuration defined via Kibana will take precedence over the same
configuration defined in code, which takes precedence over environment
variables. If configuration is defined via Kibana, and then that is
later removed, the agent will revert to configuration defined locally
via either the Tracer Config API or environment variables.</p><p>By default, the agent will attempt to send data to the Elastic APM Server
at <code class="literal">http://localhost:8200</code>, to simplify development and testing. To send
data to an alternative location, you must configure
<a class="link" href="configuration.html#config-server-url" title="ELASTIC_APM_SERVER_URL">ELASTIC_APM_SERVER_URL</a>. Depending on the configuration
of your server, you may also need to set <a class="link" href="configuration.html#config-secret-token" title="ELASTIC_APM_SECRET_TOKEN">ELASTIC_APM_SECRET_TOKEN</a>
and <a class="link" href="config-service-node-name.html#config-verify-server-cert" title="ELASTIC_APM_VERIFY_SERVER_CERT">ELASTIC_APM_VERIFY_SERVER_CERT</a>. All other
variables have usable defaults.</p><h3><a id="_configuration_formats"></a>Configuration formats<a href="https://github.com/elastic/apm-agent-go/edit/master/docs/configuration.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3><p>Some options require a unit, either duration or size. These need to be provided
in a specific format.</p><h4><a id="_duration_format"></a>Duration format<a href="https://github.com/elastic/apm-agent-go/edit/master/docs/configuration.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4><p>The <span class="emphasis"><em>duration</em></span> format is used for options like timeouts. The unit is provided as
a suffix directly after the number, without any whitespace.</p><p><span class="strong strong"><strong>Example:</strong></span> <code class="literal">5ms</code></p><p><span class="strong strong"><strong>Supported units:</strong></span></p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><code class="literal">ms</code> (milliseconds)</li><li class="listitem"><code class="literal">s</code> (seconds)</li><li class="listitem"><code class="literal">m</code> (minutes)</li></ul></div><h4><a id="_size_format"></a>Size format<a href="https://github.com/elastic/apm-agent-go/edit/master/docs/configuration.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4><p>The <span class="emphasis"><em>size</em></span> format is used for options such as maximum buffer sizes. The unit is
provided as a suffix directly after the number, without any whitespace.</p><p><span class="strong strong"><strong>Example:</strong></span> <code class="literal">10KB</code></p><p><span class="strong strong"><strong>Supported units:</strong></span></p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">B (bytes)</li><li class="listitem">KB (kilobytes)</li><li class="listitem">MB (megabytes)</li><li class="listitem">GB (gigabytes)</li></ul></div><div class="note admon"><div class="icon"></div><div class="admon_content"><p>We use the power-of-two sizing convention, e.g. 1KB = 1024B.</p></div></div><h3><a id="config-server-url"></a><code class="literal">ELASTIC_APM_SERVER_URL</code><a href="https://github.com/elastic/apm-agent-go/edit/master/docs/configuration.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3><div class="informaltable"><table cellpadding="4px" border="1"><colgroup><col class="col_1" /><col class="col_2" /><col class="col_3" /></colgroup><thead><tr><th align="left" valign="top">Environment</th><th align="left" valign="top">Default</th><th align="left" valign="top">Example</th></tr></thead><tbody><tr><td align="left" valign="top"><p><code class="literal">ELASTIC_APM_SERVER_URL</code></p></td><td align="left" valign="top"><p><code class="literal">http://localhost:8200</code></p></td><td align="left" valign="top"><p><code class="literal">http://localhost:8200</code></p></td></tr></tbody></table></div><p>The URL for your Elastic APM server. The server supports both HTTP and HTTPS.
If you use HTTPS, then you may need to configure your client machines so
that the server certificate can be verified. You can also disable certificate
verification with <a class="xref" href="config-service-node-name.html#config-verify-server-cert" title="ELASTIC_APM_VERIFY_SERVER_CERT"><code class="literal">ELASTIC_APM_VERIFY_SERVER_CERT</code></a>.</p><h3><a id="config-server-timeout"></a><code class="literal">ELASTIC_APM_SERVER_TIMEOUT</code><a href="https://github.com/elastic/apm-agent-go/edit/master/docs/configuration.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3><div class="informaltable"><table cellpadding="4px" border="1"><colgroup><col class="col_1" /><col class="col_2" /><col class="col_3" /></colgroup><thead><tr><th align="left" valign="top">Environment</th><th align="left" valign="top">Default</th><th align="left" valign="top">Example</th></tr></thead><tbody><tr><td align="left" valign="top"><p><code class="literal">ELASTIC_APM_SERVER_TIMEOUT</code></p></td><td align="left" valign="top"><p><code class="literal">30s</code></p></td><td align="left" valign="top"><p><code class="literal">30s</code></p></td></tr></tbody></table></div><p>The timeout for requests made to your Elastic APM server. When set to zero
or a negative value, timeouts will be disabled.</p><h3><a id="config-secret-token"></a><code class="literal">ELASTIC_APM_SECRET_TOKEN</code><a href="https://github.com/elastic/apm-agent-go/edit/master/docs/configuration.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3><div class="informaltable"><table cellpadding="4px" border="1"><colgroup><col class="col_1" /><col class="col_2" /><col class="col_3" /></colgroup><thead><tr><th align="left" valign="top">Environment</th><th align="left" valign="top">Default</th><th align="left" valign="top">Example</th></tr></thead><tbody><tr><td align="left" valign="top"><p><code class="literal">ELASTIC_APM_SECRET_TOKEN</code></p></td><td align="left" valign="top"> </td><td align="left" valign="top"><p>"A random string"</p></td></tr></tbody></table></div><p>This string is used to ensure that only your agents can send data to your APM server.
Both the agents and the APM server have to be configured with the same secret token.</p><div class="warning admon"><div class="icon"></div><div class="admon_content"><p>the secret token is sent as plain-text in every request to the server, so you
should also secure your communications using HTTPS. Unless you do so, your secret token
could be observed by an attacker.</p></div></div><h3><a id="config-service-name"></a><code class="literal">ELASTIC_APM_SERVICE_NAME</code><a href="https://github.com/elastic/apm-agent-go/edit/master/docs/configuration.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3><div class="informaltable"><table cellpadding="4px" border="1"><colgroup><col class="col_1" /><col class="col_2" /><col class="col_3" /></colgroup><thead><tr><th align="left" valign="top">Environment</th><th align="left" valign="top">Default</th><th align="left" valign="top">Example</th></tr></thead><tbody><tr><td align="left" valign="top"><p><code class="literal">ELASTIC_APM_SERVICE_NAME</code></p></td><td align="left" valign="top"><p>Executable name</p></td><td align="left" valign="top"><p><code class="literal">my-app</code></p></td></tr></tbody></table></div><p>The name of your service/application.  This is used to keep all the errors and
transactions of your service together and is the primary filter in the Elastic APM
user interface.</p><p>If you do not specify <code class="literal">ELASTIC_APM_SERVICE_NAME</code>, the Go agent will use the
executable name. e.g. if your executable is called "my-app.exe", then your
service will be identified as "my-app".</p><div class="note admon"><div class="icon"></div><div class="admon_content"><p>The service name must conform to this regular expression: <code class="literal">^[a-zA-Z0-9 _-]+$</code>.
In other words: your service name must only contain characters from the ASCII
alphabet, numbers, dashes, underscores and spaces.</p></div></div><h3><a id="config-service-version"></a><code class="literal">ELASTIC_APM_SERVICE_VERSION</code><a href="https://github.com/elastic/apm-agent-go/edit/master/docs/configuration.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3><div class="informaltable"><table cellpadding="4px" border="1"><colgroup><col class="col_1" /><col class="col_2" /><col class="col_3" /></colgroup><thead><tr><th align="left" valign="top">Environment</th><th align="left" valign="top">Default</th><th align="left" valign="top">Example</th></tr></thead><tbody><tr><td align="left" valign="top"><p><code class="literal">ELASTIC_APM_SERVICE_VERSION</code></p></td><td align="left" valign="top"> </td><td align="left" valign="top"><p>A string indicating the version of the deployed service</p></td></tr></tbody></table></div><p>A version string for the currently deployed version of the service.
If you don’t version your deployments, the recommended value for this field is the commit identifier
of the deployed revision, e.g. the output of <code class="literal">git rev-parse HEAD</code>.</p><p>[[float]</p></div><div class="navfooter"><span class="prev"><a href="instrumenting-source.html">
              « 
              Instrumenting Go Source Code</a>
           
        </span><span class="next">
           
          <a href="config-service-node-name.html"><code class="literal">ELASTIC_APM_SERVICE_NODE_NAME</code>
               »
            </a></span></div></body></html>
