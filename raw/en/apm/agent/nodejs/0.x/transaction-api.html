<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title xmlns="">Transaction API
        | APM Node.js Agent Reference (Beta) [0.x]
      | Elastic
    </title><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="APM Node.js Agent Reference (Beta) [0.x]" /><link rel="up" href="api.html" title="API Reference" /><link rel="prev" href="agent-api.html" title="Agent API" /><link rel="next" href="trace-api.html" title="Trace API" /><meta xmlns="" name="description" content="Get started with the documentation for Elasticsearch, Kibana, Logstash, Beats, X-Pack, Elastic Cloud, Elasticsearch for Apache Hadoop, and our language clients." /><meta xmlns="" name="DC.type" content="Learn/Docs/APM Node.js Agent/Reference/0.x" /><meta xmlns="" name="DC.subject" content="APM" /><meta xmlns="" name="DC.identifier" content="0.x" /></head><body><div xmlns="" class="page_header">You are looking at the documentation for a beta release.
</div><div xmlns="" class="breadcrumbs"><span class="breadcrumb-link"><a href="index.html">APM Node.js Agent Reference (Beta)
      [0.x]
    </a></span> » <span class="breadcrumb-link"><a href="api.html">API Reference</a></span> » <span class="breadcrumb-node"><code xmlns="http://www.w3.org/1999/xhtml" class="literal">Transaction</code> API</span></div><div xmlns="" class="navheader"><span class="prev"><a href="agent-api.html">
              « 
              <code xmlns="http://www.w3.org/1999/xhtml" class="literal">Agent</code> API</a>
           
        </span><span class="next">
           
          <a href="trace-api.html"><code xmlns="http://www.w3.org/1999/xhtml" class="literal">Trace</code> API
               »
            </a></span></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="transaction-api"></a><code class="literal">Transaction</code> API<a xmlns="" href="https://github.com/elastic/apm-agent-nodejs/edit/0.x/docs/transaction-api.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h2></div></div></div><p>A transaction groups multiple traces in a logical group.</p><p>To get a <code class="literal">Transaction</code> object,
you need to call <a class="link" href="agent-api.html#apm-start-transaction" title="apm.startTransaction()"><code class="literal">apm.startTransaction()</code></a>.</p><p>To see an example of using custom transactions,
see the <a class="link" href="custom-transactions.html" title="Custom Transactions">Custom Transactions in Node.js</a> article.</p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="transaction-name"></a><code class="literal">transaction.name</code><a xmlns="" href="https://github.com/elastic/apm-agent-nodejs/edit/0.x/docs/transaction-api.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><span class="strong strong"><strong>Type:</strong></span> String</li><li class="listitem"><span class="strong strong"><strong>Default:</strong></span> <code class="literal">unnamed</code></li></ul></div><p>The name of the transaction.</p><p>Can be used to set or overwrite the name of the transaction (visible in the performance monitoring breakdown).
If you don’t have access to the current transaction,
you can also set the name using <a class="link" href="agent-api.html#apm-set-transaction-name" title="apm.setTransactionName()"><code class="literal">apm.setTransactionName()</code></a>.</p><p>Transactions with the same name and <a class="link" href="transaction-api.html#transaction-type" title="transaction.type">type</a> are grouped together.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="transaction-type"></a><code class="literal">transaction.type</code><a xmlns="" href="https://github.com/elastic/apm-agent-nodejs/edit/0.x/docs/transaction-api.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><span class="strong strong"><strong>Type:</strong></span> String</li><li class="listitem"><span class="strong strong"><strong>Default:</strong></span> <code class="literal">custom</code></li></ul></div><p>The type of the transaction.</p><p>There’s a special type called <code class="literal">request</code> which is used by the agent for the transactions automatically created when an incoming HTTP request is detected.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="transaction-result"></a><code class="literal">transaction.result</code><a xmlns="" href="https://github.com/elastic/apm-agent-nodejs/edit/0.x/docs/transaction-api.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><span class="strong strong"><strong>Type:</strong></span> Number</li><li class="listitem"><span class="strong strong"><strong>Default:</strong></span> <code class="literal">200</code></li></ul></div><p>The transaction result.</p><p>Think of the transaction result as equivalent to the status code of an HTTP response.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="transaction-end"></a><code class="literal">transaction.end()</code><a xmlns="" href="https://github.com/elastic/apm-agent-nodejs/edit/0.x/docs/transaction-api.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><div xmlns="" class="pre_wrapper lang-js"><pre xmlns="http://www.w3.org/1999/xhtml" class="programlisting prettyprint lang-js">transaction.end()</pre></div><p>Ends the transaction and <a class="link" href="trace-api.html#trace-truncate" title="trace.truncate()">truncates</a> all un-ended child traces.
If the transaction has already ended,
nothing happens.</p><p>Alternatively you can call <a class="link" href="agent-api.html#apm-end-transaction" title="apm.endTransaction()"><code class="literal">apm.endTransaction()</code></a> to end the active transaction.</p></div></div><div xmlns="" class="navfooter"><span class="prev"><a href="agent-api.html">
              « 
              <code xmlns="http://www.w3.org/1999/xhtml" class="literal">Agent</code> API</a>
           
        </span><span class="next">
           
          <a href="trace-api.html"><code xmlns="http://www.w3.org/1999/xhtml" class="literal">Trace</code> API
               »
            </a></span></div></body></html>