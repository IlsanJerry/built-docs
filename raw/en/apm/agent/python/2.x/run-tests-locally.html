<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title xmlns="">Run Tests Locally
        | APM Python Agent Reference [2.x]
      | Elastic
    </title><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="APM Python Agent Reference [2.x]" /><link rel="up" href="advanced-topics.html" title="Advanced Topics" /><link rel="prev" href="sanitizing-data.html" title="Sanitizing data" /><link rel="next" href="api.html" title="Public API" /><meta xmlns="" name="description" content="Get started with the documentation for Elasticsearch, Kibana, Logstash, Beats, X-Pack, Elastic Cloud, Elasticsearch for Apache Hadoop, and our language clients." /><meta xmlns="" name="DC.type" content="Learn/Docs/APM Python Agent/Reference/2.x" /><meta xmlns="" name="DC.subject" content="APM" /><meta xmlns="" name="DC.identifier" content="2.x" /></head><body><div xmlns="" class="page_header">You are looking at documentation for an older release.
Not what you want? See the
<a href="../current/index.html">current release documentation</a>.
</div><div xmlns="" class="breadcrumbs"><span class="breadcrumb-link"><a href="index.html">APM Python Agent Reference
      [2.x]
    </a></span> » <span class="breadcrumb-link"><a href="advanced-topics.html">Advanced Topics</a></span> » <span class="breadcrumb-node">Run Tests Locally</span></div><div xmlns="" class="navheader"><span class="prev"><a href="sanitizing-data.html">
              « 
              Sanitizing data</a>
           
        </span><span class="next">
           
          <a href="api.html">Public API
               »
            </a></span></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="run-tests-locally"></a>Run Tests Locally<a xmlns="" href="https://github.com/elastic/apm-agent-python/edit/2.x/docs/run-tests-locally.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h2></div></div></div><p>To run tests locally you can make use of the docker images also used when running the whole test suite with Jenkins.
Running the full test suite first does some linting and then runs the actual tests with different versions of Python and different web frameworks.
For a full overview of the test matrix and supported versions have a look at
<a class="ulink" href="https://github.com/elastic/apm-agent-python/blob/master/Jenkinsfile" target="_top">Jenkins Configuration</a>.</p><h4><a id="coder-linter"></a>Code Linter<a xmlns="" href="https://github.com/elastic/apm-agent-python/edit/2.x/docs/run-tests-locally.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4><p>We run two code linters <code class="literal">isort</code> and <code class="literal">flake8</code>. You can trigger each single one locally by running:</p><div xmlns="" class="pre_wrapper lang-bash"><pre xmlns="http://www.w3.org/1999/xhtml" class="programlisting prettyprint lang-bash">$ ./tests/scripts/docker/isort.sh &lt;pip-cache-dir&gt;</pre></div><div xmlns="" class="pre_wrapper lang-bash"><pre xmlns="http://www.w3.org/1999/xhtml" class="programlisting prettyprint lang-bash">$ ./tests/scripts/docker/flake8.sh &lt;pip-cache-dir&gt;</pre></div><h4><a id="test-documentation"></a>Test Documentation<a xmlns="" href="https://github.com/elastic/apm-agent-python/edit/2.x/docs/run-tests-locally.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4><p>We test that the documentation can be generated without errors. You can trigger this check by running:</p><div xmlns="" class="pre_wrapper lang-bash"><pre xmlns="http://www.w3.org/1999/xhtml" class="programlisting prettyprint lang-bash">$ ./tests/scripts/docker/docs.sh</pre></div><h4><a id="running-tests"></a>Running Tests<a xmlns="" href="https://github.com/elastic/apm-agent-python/edit/2.x/docs/run-tests-locally.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4><p>We run the test suite on different combinations of Python versions and web frameworks. For triggering the test suite for a specific combination locally you can run:</p><div xmlns="" class="pre_wrapper lang-bash"><pre xmlns="http://www.w3.org/1999/xhtml" class="programlisting prettyprint lang-bash">$ ./tests/scripts/docker/run_tests.sh python-version framework-version &lt;pip-cache-dir&gt;</pre></div><div xmlns="" class="note admon"><div class="icon"><img alt="Note" src="images/icons/note.png" /></div><div class="admon_content"><p xmlns="http://www.w3.org/1999/xhtml">The <code class="literal">python-version</code> must be of format <code class="literal">python:version</code>, e.g. <code class="literal">python:3.6</code> or <code class="literal">pypy:2</code>.
The <code class="literal">framework</code> must be of format <code class="literal">framework-version</code>, e.g. <code class="literal">django-1.10</code> or <code class="literal">flask-0.12</code>.</p></div></div></div><div xmlns="" class="navfooter"><span class="prev"><a href="sanitizing-data.html">
              « 
              Sanitizing data</a>
           
        </span><span class="next">
           
          <a href="api.html">Public API
               »
            </a></span></div></body></html>