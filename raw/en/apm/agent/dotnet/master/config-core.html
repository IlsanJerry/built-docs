<!DOCTYPE html>
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Core configuration options
        | APM .NET Agent Reference [master]
      | Elastic
    </title><link rel="home" href="index.html" title="APM .NET Agent Reference [master]" /><link rel="up" href="configuration.html" title="Configuration" /><link rel="prev" href="configuration-on-asp-net-core.html" title="Configuration on ASP.NET Core" /><link rel="next" href="config-reporter.html" title="Reporter configuration options" /><meta name="DC.type" content="Learn/Docs/APM .NET Agent/Reference/master" /><meta name="DC.subject" content="APM" /><meta name="DC.identifier" content="master" /></head><body><div class="page_header">You are looking at preliminary documentation for a future release.
Not what you want? See the
<a href="../current/index.html">current release documentation</a>.
</div><div class="breadcrumbs"><span class="breadcrumb-link"><a href="index.html">APM .NET Agent Reference
      [master]
    </a></span> » <span class="breadcrumb-link"><a href="configuration.html">Configuration</a></span> » <span class="breadcrumb-node">Core configuration options</span></div><div class="navheader"><span class="prev"><a href="configuration-on-asp-net-core.html">
              « 
              Configuration on ASP.NET Core</a>
           
        </span><span class="next">
           
          <a href="config-reporter.html">Reporter configuration options
               »
            </a></span></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="config-core"></a>Core configuration options<a href="https://github.com/elastic/apm-agent-dotnet/edit/master/docs/configuration.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h2></div></div></div><h4><a id="config-service-name"></a><code class="literal">ServiceName</code><a href="https://github.com/elastic/apm-agent-dotnet/edit/master/docs/configuration.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4><p>This is used to keep all the errors and transactions of your service together
and is the primary filter in the Elastic APM user interface.</p><div class="note admon"><div class="icon"><img alt="Note" src="images/icons/note.png" /></div><div class="admon_content"><p>The service name must conform to this regular expression: ^[a-zA-Z0-9 _-]+$. In less regexy terms: Your service name must only contain characters from the ASCII alphabet, numbers, dashes, underscores and spaces. Characters in service name which don’t match regular expression will be replaced by <code class="literal">__</code> symbol.</p></div></div><div class="informaltable"><table cellpadding="4px" border="1"><colgroup><col class="col_1" /><col class="col_2" /></colgroup><thead><tr><th align="left" valign="top">Environment variable name</th><th align="left" valign="top">IConfiguration key</th></tr></thead><tbody><tr><td align="left" valign="top"><p><code class="literal">ELASTIC_APM_SERVICE_NAME</code></p></td><td align="left" valign="top"><p><code class="literal">ElasticApm:ServiceName</code></p></td></tr></tbody></table></div><div class="informaltable"><table cellpadding="4px" border="1"><colgroup><col class="col_1" /><col class="col_2" /></colgroup><thead><tr><th align="left" valign="top">Default</th><th align="left" valign="top">Type</th></tr></thead><tbody><tr><td align="left" valign="top"><p>Name of the entry assembly</p></td><td align="left" valign="top"><p>String</p></td></tr></tbody></table></div><h4><a id="config-service-version"></a><code class="literal">ServiceVersion</code><a href="https://github.com/elastic/apm-agent-dotnet/edit/master/docs/configuration.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4><p>A version string for the currently deployed version of the service. If you don’t
version your deployments, the recommended value for this field is the commit identifier
of the deployed revision, e.g. the output of git rev-parse HEAD.</p><div class="informaltable"><table cellpadding="4px" border="1"><colgroup><col class="col_1" /><col class="col_2" /></colgroup><thead><tr><th align="left" valign="top">Environment variable name</th><th align="left" valign="top">IConfiguration key</th></tr></thead><tbody><tr><td align="left" valign="top"><p><code class="literal">ELASTIC_APM_SERVICE_VERSION</code></p></td><td align="left" valign="top"><p><code class="literal">ElasticApm:ServiceVersion</code></p></td></tr></tbody></table></div><div class="informaltable"><table cellpadding="4px" border="1"><colgroup><col class="col_1" /><col class="col_2" /></colgroup><thead><tr><th align="left" valign="top">Default</th><th align="left" valign="top">Type</th></tr></thead><tbody><tr><td align="left" valign="top"><p>Informational version of the entry assembly</p></td><td align="left" valign="top"><p>String</p></td></tr></tbody></table></div><h4><a id="config-environment"></a><code class="literal">Environment</code><a href="https://github.com/elastic/apm-agent-dotnet/edit/master/docs/configuration.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4><p>The name of the environment this service is deployed in, e.g. "production" or "staging".</p><p>Environments allow you to easily filter data on a global level in the APM UI.
It’s important to be consistent when naming environments across agents.
See <a class="ulink" href="https://www.elastic.co/guide/en/kibana/current/filters.html#environment-selector" target="_top">environment selector</a> in the Kibana UI for more information.</p><div class="note admon"><div class="icon"><img alt="Note" src="images/icons/note.png" /></div><div class="admon_content"><p>This feature is fully supported in the APM UI in Kibana versions &gt;= 7.2.
You must use the query bar to filter for a specific environment in versions prior to 7.2.</p></div></div><div class="informaltable"><table cellpadding="4px" border="1"><colgroup><col class="col_1" /><col class="col_2" /></colgroup><thead><tr><th align="left" valign="top">Environment variable name</th><th align="left" valign="top">IConfiguration key</th></tr></thead><tbody><tr><td align="left" valign="top"><p><code class="literal">ELASTIC_APM_ENVIRONMENT</code></p></td><td align="left" valign="top"><p><code class="literal">ElasticApm:Environment</code></p></td></tr></tbody></table></div><div class="informaltable"><table cellpadding="4px" border="1"><colgroup><col class="col_1" /><col class="col_2" /></colgroup><thead><tr><th align="left" valign="top">Default</th><th align="left" valign="top">Type</th></tr></thead><tbody><tr><td align="left" valign="top"><p>See note below</p></td><td align="left" valign="top"><p>String</p></td></tr></tbody></table></div><div class="note admon"><div class="icon"><img alt="Note" src="images/icons/note.png" /></div><div class="admon_content"><p>On ASP.NET Core application the agent uses <a class="ulink" href="https://docs.microsoft.com/en-us/dotnet/api/microsoft.aspnetcore.hosting.ihostingenvironment.environmentname?view=aspnetcore-2.2#Microsoft_AspNetCore_Hosting_IHostingEnvironment_EnvironmentName" target="_top">EnvironmentName from IHostingEnvironment</a> as default environment name.</p></div></div><h4><a id="config-transaction-sample-rate"></a><code class="literal">TransactionSampleRate</code><a href="https://github.com/elastic/apm-agent-dotnet/edit/master/docs/configuration.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4><p>By default, the agent will sample every transaction (e.g. a request to your service).
To reduce overhead and storage requirements, you can set the sample rate to a value between 0.0 and 1.0.
The agent will still record the overall time and result for unsampled transactions,
but no context information, labels, or spans will be recorded.</p><div class="note admon"><div class="icon"><img alt="Note" src="images/icons/note.png" /></div><div class="admon_content"><p>When parsing the value for this option, the agent doesn’t consider the current culture.
It also expects that a period (<code class="literal">.</code>) is used to separate the integer and the fraction of a floating-point number.</p></div></div><div class="informaltable"><table cellpadding="4px" border="1"><colgroup><col class="col_1" /><col class="col_2" /></colgroup><thead><tr><th align="left" valign="top">Environment variable name</th><th align="left" valign="top">IConfiguration key</th></tr></thead><tbody><tr><td align="left" valign="top"><p><code class="literal">ELASTIC_APM_TRANSACTION_SAMPLE_RATE</code></p></td><td align="left" valign="top"><p><code class="literal">ElasticApm:TransactionSampleRate</code></p></td></tr></tbody></table></div><div class="informaltable"><table cellpadding="4px" border="1"><colgroup><col class="col_1" /><col class="col_2" /></colgroup><thead><tr><th align="left" valign="top">Default</th><th align="left" valign="top">Type</th></tr></thead><tbody><tr><td align="left" valign="top"><p>1.0</p></td><td align="left" valign="top"><p>Double</p></td></tr></tbody></table></div></div><div class="navfooter"><span class="prev"><a href="configuration-on-asp-net-core.html">
              « 
              Configuration on ASP.NET Core</a>
           
        </span><span class="next">
           
          <a href="config-reporter.html">Reporter configuration options
               »
            </a></span></div></body></html>
