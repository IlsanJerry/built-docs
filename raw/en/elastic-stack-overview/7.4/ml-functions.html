<!DOCTYPE html>
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Function reference
        | Elastic Stack Overview [7.4]
      | Elastic
    </title><link rel="home" href="index.html" title="Elastic Stack Overview [7.4]" /><link rel="up" href="xpack-ml.html" title="Machine learning anomaly detection" /><link rel="prev" href="ml-api-quickref.html" title="API quick reference" /><link rel="next" href="ml-count-functions.html" title="Count functions" /><meta name="DC.type" content="Learn/Docs/Elastic Stack/Overview/7.4" /><meta name="DC.subject" content="Elastic Stack" /><meta name="DC.identifier" content="7.4" /><meta name="robots" content="noindex,nofollow" /></head><body><div class="page_header"><p>
  <strong>IMPORTANT</strong>: Version 7.4 of the Elastic Stack has passed its 
  <a href="https://www.elastic.co/support/eol">maintenance date</a>. 
</p>  
<p>
  This documentation is no longer being updated. 
  For the latest information, see the 
  <a href="../current/index.html">current release documentation</a>. 
</p></div><div class="breadcrumbs"><span class="breadcrumb-link"><a href="index.html">Elastic Stack Overview
      [7.4]
    </a></span> » <span class="breadcrumb-link"><a href="xpack-ml.html">Machine learning anomaly detection</a></span> » <span class="breadcrumb-node">Function reference</span></div><div class="navheader"><span class="prev"><a href="ml-api-quickref.html">
              « 
              API quick reference</a>
           
        </span><span class="next">
           
          <a href="ml-count-functions.html">Count functions
               »
            </a></span></div><div class="xpack chapter"><div class="titlepage"><div><div><h2 class="title"><a id="ml-functions"></a>Function reference<a href="https://github.com/elastic/elasticsearch/edit/7.4/docs/reference/ml/anomaly-detection/functions.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a><a class="xpack_tag" href="/subscriptions"></a></h2></div></div></div><p>The machine learning features include analysis functions that provide a wide variety of
flexible ways to analyze data for anomalies.</p><p>When you create anomaly detection jobs, you specify one or more detectors, which define
the type of analysis that needs to be done. If you are creating your job by
using machine learning APIs, you specify the functions in
<a class="ulink" href="/guide/en/elasticsearch/reference/7.4/ml-job-resource.html#ml-detectorconfig" target="_top">Detector configuration objects</a>.
If you are creating your job in Kibana, you specify the functions differently
depending on whether you are creating single metric, multi-metric, or advanced
jobs.</p><p>Most functions detect anomalies in both low and high values. In statistical
terminology, they apply a two-sided test. Some functions offer low and high
variations (for example, <code class="literal">count</code>, <code class="literal">low_count</code>, and <code class="literal">high_count</code>). These variations
apply one-sided tests, detecting anomalies only when the values are low or
high, depending one which alternative is used.</p><p>You can specify a <code class="literal">summary_count_field_name</code> with any function except <code class="literal">metric</code>.
When you use <code class="literal">summary_count_field_name</code>, the machine learning features expect the input
data to be pre-aggregated. The value of the <code class="literal">summary_count_field_name</code> field
must contain the count of raw events that were summarized. In Kibana, use the
<span class="strong strong"><strong>summary_count_field_name</strong></span> in advanced anomaly detection jobs. Analyzing aggregated
input data provides a significant boost in performance. For more information, see
<a class="xref" href="ml-configuring-aggregation.html" title="Aggregating data for faster performance">Aggregating data for faster performance</a>.</p><p>If your data is sparse, there may be gaps in the data which means you might have
empty buckets. You might want to treat these as anomalies or you might want these
gaps to be ignored. Your decision depends on your use case and what is important
to you. It also depends on which functions you use. The <code class="literal">sum</code> and <code class="literal">count</code>
functions are strongly affected by empty buckets. For this reason, there are
<code class="literal">non_null_sum</code> and <code class="literal">non_zero_count</code> functions, which are tolerant to sparse data.
These functions effectively ignore empty buckets.</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><a class="xref" href="ml-count-functions.html" title="Count functions">Count functions</a></li><li class="listitem"><a class="xref" href="ml-geo-functions.html" title="Geographic functions">Geographic functions</a></li><li class="listitem"><a class="xref" href="ml-info-functions.html" title="Information Content Functions">Information Content Functions</a></li><li class="listitem"><a class="xref" href="ml-metric-functions.html" title="Metric functions">Metric functions</a></li><li class="listitem"><a class="xref" href="ml-rare-functions.html" title="Rare functions">Rare functions</a></li><li class="listitem"><a class="xref" href="ml-sum-functions.html" title="Sum functions">Sum functions</a></li><li class="listitem"><a class="xref" href="ml-time-functions.html" title="Time functions">Time functions</a></li></ul></div></div><div class="navfooter"><span class="prev"><a href="ml-api-quickref.html">
              « 
              API quick reference</a>
           
        </span><span class="next">
           
          <a href="ml-count-functions.html">Count functions
               »
            </a></span></div></body></html>
