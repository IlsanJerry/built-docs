<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title xmlns="">How monitoring works
        | Elastic Stack Overview [7.2]
      | Elastic
    </title><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Elastic Stack Overview [7.2]" /><link rel="up" href="xpack-monitoring.html" title="Monitoring the Elastic Stack" /><link rel="prev" href="xpack-monitoring.html" title="Monitoring the Elastic Stack" /><link rel="next" href="monitoring-production.html" title="Monitoring in a production environment" /><meta xmlns="" name="description" content="Get started with the documentation for Elasticsearch, Kibana, Logstash, Beats, X-Pack, Elastic Cloud, Elasticsearch for Apache Hadoop, and our language clients." /><meta xmlns="" name="DC.type" content="Learn/Docs/Elastic Stack/Overview/7.2" /><meta xmlns="" name="DC.subject" content="Elastic Stack" /><meta xmlns="" name="DC.identifier" content="7.2" /></head><body><div xmlns="" class="page_header">You are looking at documentation for an older release.
Not what you want? See the
<a href="../current/index.html">current release documentation</a>.
</div><div xmlns="" class="breadcrumbs"><span class="breadcrumb-link"><a href="index.html">Elastic Stack Overview
      [7.2]
    </a></span> » <span class="breadcrumb-link"><a href="xpack-monitoring.html">Monitoring the Elastic Stack</a></span> » <span class="breadcrumb-node">How monitoring works</span></div><div xmlns="" class="navheader"><span class="prev"><a href="xpack-monitoring.html">
              « 
              Monitoring the Elastic Stack</a>
           
        </span><span class="next">
           
          <a href="monitoring-production.html">Monitoring in a production environment
               »
            </a></span></div><div class="xpack chapter"><div class="titlepage"><div><div><h2 class="title"><a id="how-monitoring-works"></a>How monitoring works<a xmlns="" href="https://github.com/elastic/stack-docs/edit/7.2/docs/en/stack/monitoring/how-monitoring-works.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a><a xmlns="" class="xpack_tag" href="/subscriptions"></a></h2></div></div></div><p>Monitoring collects data from Elasticsearch nodes, Logstash nodes, and Kibana instances.</p><p>In general, the Elasticsearch cluster you are monitoring controls where the monitoring
metrics for the stack are stored. By default, they are stored in local indices.</p><div xmlns="" class="tip admon"><div class="icon"><img alt="Tip" src="images/icons/tip.png" /></div><div class="admon_content"><p xmlns="http://www.w3.org/1999/xhtml">In production, we strongly recommend using a separate monitoring
Elasticsearch cluster. Using a separate monitoring cluster
prevents production cluster outages from impacting your ability to access your
monitoring data. It also prevents monitoring activities from impacting the
performance of your production cluster. For the same reason, we also
recommend to use a separate Kibana instance that is connected to the separate
monitoring cluster.</p></div></div><p>The following diagram illustrates a typical monitoring architecture with separate
production and monitoring clusters:</p><div class="informalfigure"><div class="mediaobject"><img src="monitoring/images/architecture10.png" alt="A typical monitoring environment" /></div></div><p>In 6.4 and later, you can use Metricbeat to collect and ship data about
Kibana, rather than routing it through Elasticsearch. In 6.5 and later, you can also use
Metricbeat to collect and ship data about Elasticsearch. For example:</p><div class="informalfigure"><div class="mediaobject"><img src="monitoring/images/architecture20.png" alt="A typical monitoring environment that includes Metricbeat" /></div></div><p>If you have at least a gold license, you can route data from multiple production
clusters to a single monitoring cluster. For more information about the
differences between various subscription levels, see: <a class="ulink" href="https://www.elastic.co/subscriptions" target="_top">https://www.elastic.co/subscriptions</a></p><div xmlns="" class="important admon"><div class="icon"><img alt="Important" src="images/icons/important.png" /></div><div class="admon_content"><p xmlns="http://www.w3.org/1999/xhtml">In general, the monitoring cluster and the clusters being monitored
should be running the same version of the stack. A monitoring cluster cannot
monitor production clusters running newer versions of the stack. If necessary,
the monitoring cluster can monitor production clusters running the latest
release of the previous major version.</p></div></div><p>If you use Kibana to visualize data and administer the cluster, you might want to
create a dedicated Kibana instance for monitoring, rather than using a single
Kibana instance to access both your production cluster and monitoring cluster:</p><div class="informalfigure"><div class="mediaobject"><img src="monitoring/images/architecture30.png" alt="A separate Kibana instance accesses the monitoring cluster" /></div></div></div><div xmlns="" class="navfooter"><span class="prev"><a href="xpack-monitoring.html">
              « 
              Monitoring the Elastic Stack</a>
           
        </span><span class="next">
           
          <a href="monitoring-production.html">Monitoring in a production environment
               »
            </a></span></div></body></html>