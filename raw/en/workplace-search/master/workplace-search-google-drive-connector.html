<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Google Drive connector | Workplace Search Guide [master] | Elastic</title>
<link rel="home" href="index.html" title="Workplace Search Guide [master]"/>
<link rel="up" href="workplace-search-content-sources.html" title="Content sources overview"/>
<link rel="prev" href="workplace-search-github-connector.html" title="GitHub connector"/>
<link rel="next" href="workplace-search-jira-cloud-connector.html" title="Jira Cloud connector"/>
<meta name="DC.type" content="Learn/Docs/Workplace Search/Reference/master"/>
<meta name="DC.subject" content="Workplace Search"/>
<meta name="DC.identifier" content="master"/>
</head>
<body><div class="page_header">
You are looking at preliminary documentation for a future release.
Not what you want? See the
<a href="../current/index.html">current release documentation</a>.
</div>
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="index.html">Workplace Search Guide [master]</a></span>
»
<span class="breadcrumb-link"><a href="workplace-search-content-sources.html">Content sources overview</a></span>
»
<span class="breadcrumb-node">Google Drive connector</span>
</div>
<div class="navheader">
<span class="prev">
<a href="workplace-search-github-connector.html">« GitHub connector</a>
</span>
<span class="next">
<a href="workplace-search-jira-cloud-connector.html">Jira Cloud connector »</a>
</span>
</div>
<div class="section">
<div class="titlepage"><div><div>
<h2 class="title"><a id="workplace-search-google-drive-connector"></a>Google Drive connector<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/master/workplace-search-docs/guides/content-sources/google-drive.asciidoc">edit</a></h2>
</div></div></div>

<p>Ingest all of your Google Drive files into Workplace Search.</p>
<p>This includes spreadsheets, docs, slides, and your Drive files.</p>
<p>The Google Drive Connector requires that you create an <span class="strong strong"><strong>OAuth App</strong></span> within Google.</p>
<h3><a id="google-drive-configuration"></a>Configuration<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/master/workplace-search-docs/guides/content-sources/google-drive.asciidoc">edit</a></h3>
<p>Login to Google&#8217;s developer console: <a href="https://console.developers.google.com" class="ulink" target="_top">https://console.developers.google.com</a>.</p>
<p>You will need to create a project, then add the Google Drive API to it.</p>
<p>After logging in, click <span class="strong strong"><strong>Create</strong></span> where requested:</p>
<div id="google-drive-1" class="imageblock screenshot">
<div class="content">
<img src="images/guides/google-drive/google-drive-create-project.png" alt="">
</div>
<div class="title">Figure 33. Connecting Google Drive</div>
</div>
<p>Fill in the project information in a way that best suits your organization.</p>
<p>Make sure that you create this app with a trusted and stable Google account!</p>
<p><span class="strong strong"><strong>We recommend creating a team-owned account for only this app</strong></span>. If access is lost, we cannot help.</p>
<p>Next you will be asked to search among many different APIs.</p>
<p>Use the search bar to find the Google Drive API:</p>
<div id="google-drive-2" class="imageblock screenshot">
<div class="content">
<img src="images/guides/google-drive/google-drive-search-for-api.png" alt="">
</div>
<div class="title">Figure 34. Connecting Google Drive</div>
</div>
<p>Click on it, and then click <span class="strong strong"><strong>Enable</strong></span>:</p>
<div id="google-drive-3" class="imageblock screenshot">
<div class="content">
<img src="images/guides/google-drive/google-drive-enable.png" alt="">
</div>
<div class="title">Figure 35. Connecting Google Drive</div>
</div>
<p>You will be prompted to <span class="strong strong"><strong>Create Credentials</strong></span>:</p>
<div id="google-drive-4" class="imageblock screenshot">
<div class="content">
<img src="images/guides/google-drive/google-drive-create-credentials.png" alt="">
</div>
<div class="title">Figure 36. Connecting Google Drive</div>
</div>
<p>Select <span class="strong strong"><strong>Google Drive API</strong></span> as the API you are using. You will call it from <span class="strong strong"><strong>Web browser</strong></span> to access <span class="strong strong"><strong>User data</strong></span>:</p>
<div id="google-drive-5" class="imageblock screenshot">
<div class="content">
<img src="images/guides/google-drive/google-drive-create-api.png" alt="">
</div>
<div class="title">Figure 37. Connecting Google Drive</div>
</div>
<p>After clicking on <span class="strong strong"><strong>What credentials do I need?</strong></span>, you will need to setup OAuth access to the API you have chosen.</p>
<p>Fill it out like so:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong>Application type</strong></span>: Web application.
</li>
<li class="listitem">
<span class="strong strong"><strong>Name</strong></span>: Whichever feels best for you. Workplace Search makes sense, keeps things clear.
</li>
<li class="listitem">
<span class="strong strong"><strong>Authorized JavaScript origins</strong></span>: <code class="literal">http://127.0.0.1:3002</code>
</li>
<li class="listitem">
<span class="strong strong"><strong>Authorized redirect url</strong></span>: You&#8217;ll need two: (1) <code class="literal">http://localhost:3002/ws/org/sources/google_drive/create</code> and (2) <code class="literal">http://localhost:3002/ws/sources/google_drive/create</code>.
</li>
</ul>
</div>
<div id="google-drive-6" class="imageblock screenshot">
<div class="content">
<img src="images/guides/google-drive/google-drive-setup-oauth.png" alt="">
</div>
<div class="title">Figure 38. Connecting Google Drive</div>
</div>
<p>Once you have filled everything in, click <span class="strong strong"><strong>Create</strong></span>.</p>
<p>Your new credentials will appear:</p>
<div id="google-drive-7" class="imageblock screenshot">
<div class="content">
<img src="images/guides/google-drive/google-drive-get-credentials.png" alt="">
</div>
<div class="title">Figure 39. Connecting Google Drive</div>
</div>
<p><span class="strong strong"><strong>Keep them secret!</strong></span></p>
<p>The app can stay in developer mode. You do not need to publish it.</p>
<p>You may be asked to create an OAuth consent screen at some point in the set-up process.</p>
<p>Click on <span class="strong strong"><strong>Credentials</strong></span> from the main developer menu, then <span class="strong strong"><strong>Oauth consent screen</strong></span> submenu.</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong>Application type</strong></span>: Internal.
</li>
<li class="listitem">
<span class="strong strong"><strong>Application name</strong></span>: Whatever you&#8217;d like. Workplace Search makes sense.
</li>
<li class="listitem">
<span class="strong strong"><strong>Application logo</strong></span>: Whatever floats your boat!
</li>
</ul>
</div>
<p>Before clicking save, you will also need to add scopes:</p>
<div id="google-drive-8" class="imageblock screenshot">
<div class="content">
<img src="images/guides/google-drive/google-drive-add-scopes.png" alt="">
</div>
<div class="title">Figure 40. Connecting Google Drive</div>
</div>
<p>Now, click <span class="strong strong"><strong>Save</strong></span>.</p>
<p>For the final steps, you must <span class="strong strong"><strong>return back to Workplace Search</strong></span>.</p>
<p>Fill in the <span class="strong strong"><strong>Client ID</strong></span> and <span class="strong strong"><strong>Client Secret</strong></span> then click <span class="strong strong"><strong>Save Changes</strong></span>:</p>
<p>Congratulations! It&#8217;s time to search.</p>
<p><span class="strong strong"><strong>You can now make the source available to various groups and scale its relevance priority.</strong></span></p>
</div>
<div class="navfooter">
<span class="prev">
<a href="workplace-search-github-connector.html">« GitHub connector</a>
</span>
<span class="next">
<a href="workplace-search-jira-cloud-connector.html">Jira Cloud connector »</a>
</span>
</div>
</div>
</body>
</html>
