<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="description" content="A reference of the reporting settings administrators configure in kibana.yml.">
<meta name="keywords" content="administrator, reference, setup, reporting">
<title>Upgrade Kibana | Kibana Guide [8.0] | Elastic</title>
<link rel="home" href="index.html" title="Kibana Guide [8.0]"/>
<link rel="up" href="setup.html" title="Set up"/>
<link rel="prev" href="connect-to-elasticsearch.html" title="Add data"/>
<link rel="next" href="_upgrading_multiple_kibana_instances.html" title="Upgrading multiple Kibana instances"/>
<meta name="DC.type" content="Learn/Docs/Kibana/Reference/8.0"/>
<meta name="DC.subject" content="Kibana"/>
<meta name="DC.identifier" content="8.0"/>
</head>
<body><div class="page_header">
You are looking at preliminary documentation for a future release.
Not what you want? See the
<a href="../current/index.html">current release documentation</a>.
</div>
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="index.html">Kibana Guide [8.0]</a></span>
»
<span class="breadcrumb-link"><a href="setup.html">Set up</a></span>
»
<span class="breadcrumb-node">Upgrade Kibana</span>
</div>
<div class="navheader">
<span class="prev">
<a href="connect-to-elasticsearch.html">« Add data</a>
</span>
<span class="next">
<a href="_upgrading_multiple_kibana_instances.html">Upgrading multiple Kibana instances »</a>
</span>
</div>
<div class="chapter">
<div class="titlepage"><div><div>
<h2 class="title"><a id="upgrade"></a>Upgrade Kibana<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/8.0/docs/setup/upgrade.asciidoc">edit</a></h2>
</div></div></div>
<p>To upgrade from 7.16 or earlier to 8.0.0-rc2,
<span class="strong strong"><strong>you must first upgrade to 7.17</strong></span>.
This enables you to use the Upgrade Assistant to
<a href="/guide/en/elastic-stack/8.0/upgrading-elastic-stack.html#prepare-to-upgrade" class="ulink" target="_top">prepare to upgrade</a>.
You must resolve all critical issues identified by the Upgrade Assistant
before proceeding with the upgrade.</p>
<p>Kibana does not support rolling upgrades.
You must shut down all Kibana instances, install the new software, and restart Kibana.
Upgrading while older Kibana instances are running can cause data loss or upgrade failures.</p>
<div class="warning admon">
<div class="icon"></div>
<div class="admon_content">
<p>Kibana automatically runs <a class="xref" href="upgrade.html#saved-object-migrations" title="Saved object migrations">saved object migrations</a>
when required.
In case of an upgrade failure, you can roll back to an
earlier version of Kibana. To roll back, you <span class="strong strong"><strong>must</strong></span> have a
<a href="/guide/en/elasticsearch/reference/8.0/snapshot-restore.html" class="ulink" target="_top">backup snapshot</a> that includes the <code class="literal">kibana</code> feature
state. Snapshots include this feature state by default.</p>
</div>
</div>
<p>For more information about upgrading,
refer to <a href="/guide/en/elastic-stack/8.0/upgrading-elastic-stack.html" class="ulink" target="_top">Upgrading to Elastic 8.0.0-rc2.</a></p>
<div class="important admon">
<div class="icon"></div>
<div class="admon_content">
<p>You can upgrade to pre-release versions for testing,
but upgrading from a pre-release to the General Available version is not supported.
Pre-releases should only be used for testing in a temporary environment.</p>
</div>
</div>
<h2><a id="saved-object-migrations"></a>Saved object migrations<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/8.0/docs/setup/upgrade/upgrade-migrations.asciidoc">edit</a></h2>
<p>Every time Kibana is upgraded it will perform an upgrade migration to ensure that all <a class="xref" href="managing-saved-objects.html" title="Saved Objects">saved objects</a> are compatible with the new version.</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>6.7 includes an <a href="/guide/en/kibana/6.7/upgrade-assistant.html" class="ulink" target="_top">Upgrade Assistant</a>
to help you prepare for your upgrade to 7.0. To access the assistant, go to <span class="strong strong"><strong>Management &gt; 7.0 Upgrade Assistant</strong></span>.</p>
</div>
</div>
<div class="warning admon">
<div class="icon"></div>
<div class="admon_content">
<p>Kibana 7.12.0 and later uses a new migration process and index naming scheme. Be sure to read the documentation for your version of Kibana before proceeding.</p>
</div>
</div>
<div class="warning admon">
<div class="icon"></div>
<div class="admon_content">
<p>The following instructions assumes Kibana is using the default index names. If the <code class="literal">kibana.index</code> or <code class="literal">xpack.tasks.index</code> configuration settings were changed these instructions will have to be adapted accordingly.</p>
</div>
</div>
<h3><a id="upgrade-migrations-process"></a>Background<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/8.0/docs/setup/upgrade/upgrade-migrations.asciidoc">edit</a></h3>
<p>Saved objects are stored in two indices:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<code class="literal">.kibana_{kibana_version}_001</code>, e.g. for Kibana v7.12.0 <code class="literal">.kibana_7.12.0_001</code>.
</li>
<li class="listitem">
<code class="literal">.kibana_task_manager_{kibana_version}_001</code>, e.g. for Kibana v7.12.0 <code class="literal">.kibana_task_manager_7.12.0_001</code>.
</li>
</ul>
</div>
<p>The index aliases <code class="literal">.kibana</code> and <code class="literal">.kibana_task_manager</code> will always point to
the most up-to-date saved object indices.</p>
<p>The first time a newer Kibana starts, it will first perform an upgrade migration before starting plugins or serving HTTP traffic. To prevent losing acknowledged writes old nodes should be shutdown before starting the upgrade. To reduce the likelihood of old nodes losing acknowledged writes, Kibana 7.12.0 and later will add a write block to the outdated index. Table 1 lists the saved objects indices used by previous versions of Kibana.</p>
<div class="table">
<p class="title"><strong>Table 1. Saved object indices and aliases per Kibana version</strong></p>
<div class="table-contents">
<table border="1" cellpadding="4px" summary="Saved object indices and aliases per Kibana version">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Upgrading from version</th>
<th align="left" valign="top">Outdated index (alias)</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p>6.0.0 through 6.4.x</p></td>
<td align="left" valign="top"><p><code class="literal">.kibana</code></p>
<p><code class="literal">.kibana_task_manager_7.12.0_001</code> (<code class="literal">.kibana_task_manager</code> alias)</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>6.5.0 through 7.3.x</p></td>
<td align="left" valign="top"><p><code class="literal">.kibana_N</code> (<code class="literal">.kibana</code> alias)</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>7.4.0 through 7.11.x</p></td>
<td align="left" valign="top"><p><code class="literal">.kibana_N</code> (<code class="literal">.kibana</code> alias)</p>
<p><code class="literal">.kibana_task_manager_N</code> (<code class="literal">.kibana_task_manager</code> alias)</p></td>
</tr>
</tbody>
</table>
</div>
</div>

</div>
<div class="navfooter">
<span class="prev">
<a href="connect-to-elasticsearch.html">« Add data</a>
</span>
<span class="next">
<a href="_upgrading_multiple_kibana_instances.html">Upgrading multiple Kibana instances »</a>
</span>
</div>
</div>
</body>
</html>
