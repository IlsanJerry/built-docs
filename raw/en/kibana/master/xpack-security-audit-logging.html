<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Audit logs | Kibana Guide [master] | Elastic</title>
<link rel="home" href="index.html" title="Kibana Guide [master]"/>
<link rel="up" href="using-kibana-with-security.html" title="Configure security in Kibana"/>
<link rel="prev" href="elasticsearch-mutual-tls.html" title="Mutual TLS authentication between Kibana and Elasticsearch"/>
<link rel="next" href="xpack-security-access-agreement.html" title="Access agreement"/>
<meta name="DC.type" content="Learn/Docs/Kibana/Reference/master"/>
<meta name="DC.subject" content="Kibana"/>
<meta name="DC.identifier" content="master"/>
</head>
<body><div class="page_header">
You are looking at preliminary documentation for a future release.
Not what you want? See the
<a href="../current/index.html">current release documentation</a>.
</div>
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="index.html">Kibana Guide [master]</a></span>
»
<span class="breadcrumb-link"><a href="setup.html">Set up</a></span>
»
<span class="breadcrumb-link"><a href="using-kibana-with-security.html">Configure security in Kibana</a></span>
»
<span class="breadcrumb-node">Audit logs</span>
</div>
<div class="navheader">
<span class="prev">
<a href="elasticsearch-mutual-tls.html">« Mutual TLS authentication between Kibana and Elasticsearch</a>
</span>
<span class="next">
<a href="xpack-security-access-agreement.html">Access agreement »</a>
</span>
</div>
<div class="section xpack">
<div class="titlepage"><div><div>
<h2 class="title"><a id="xpack-security-audit-logging"></a>Audit logs<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/master/docs/user/security/audit-logging.asciidoc">edit</a><a class="xpack_tag" href="/subscriptions"></a></h2>
</div></div></div>
<p>You can enable auditing to keep track of security-related events such as
authorization success and failures. Logging these events enables you to monitor
Kibana for suspicious activity and provides evidence in the event of an attack.</p>
<p>Use the Kibana audit logs in conjunction with <a href="/guide/en/elasticsearch/reference/master/enable-audit-logging.html" class="ulink" target="_top">Elasticsearch audit logging</a> to get a
holistic view of all security related events. Kibana defers to the Elasticsearch security
model for authentication, data index authorization, and features that are driven
by cluster-wide privileges. For more information on enabling audit logging in
Elasticsearch, refer to <a href="/guide/en/elasticsearch/reference/master/auditing.html" class="ulink" target="_top">Auditing security events</a>.</p>
<div class="important admon">
<div class="icon"></div>
<div class="admon_content">
<p>Audit logs are <span class="strong strong"><strong>disabled</strong></span> by default. To enable this functionality, you must
set <code class="literal">xpack.security.audit.enabled</code> to <code class="literal">true</code> in <code class="literal">kibana.yml</code>.</p>
</div>
</div>
<p>The current version of the audit logger uses the standard Kibana logging output,
which can be configured in <code class="literal">kibana.yml</code>. For more information, refer to <a class="xref" href="settings.html" title="Configure Kibana"><em>Configure Kibana</em></a>.
The audit logger uses a separate logger and can be configured using
the options in <a class="xref" href="security-settings-kb.html#audit-logging-settings" title="Audit logging settings">Audit logging settings</a>.</p>
<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="_audit_event_types"></a>Audit event types<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/master/docs/user/security/audit-logging.asciidoc">edit</a></h3>
</div></div></div>
<p>When you are auditing security events, each request can generate multiple audit
events. The following is a list of the events that can be generated:</p>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
</colgroup>
<tbody>
<tr>
<td align="left" valign="top"><p><code class="literal">saved_objects_authorization_success</code></p></td>
<td align="left" valign="top"><p>Logged when a user is authorized to access a saved
                                             objects when using a role with <a class="xref" href="kibana-privileges.html" title="Kibana privileges">Kibana privileges</a></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">saved_objects_authorization_failure</code></p></td>
<td align="left" valign="top"><p>Logged when a user isn&#8217;t authorized to access a saved
                                             objects when using a role with <a class="xref" href="kibana-privileges.html" title="Kibana privileges">Kibana privileges</a></p></td>
</tr>
</tbody>
</table>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="xpack-security-ecs-audit-logging"></a>ECS audit events<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/master/docs/user/security/audit-logging.asciidoc">edit</a></h3>
</div></div></div>
<div class="important admon">
<div class="icon"></div>
<div class="admon_content">
<p>The following events are only logged if the ECS audit logger is enabled.
For information on how to configure <code class="literal">xpack.security.audit.appender</code>, refer to
<a class="xref" href="security-settings-kb.html#ecs-audit-logging-settings" title="ECS audit logging settings">ECS audit logging settings</a>.</p>
</div>
</div>
<p>Refer to the table of events that can be logged for auditing purposes.</p>
<p>Each event is broken down into <code class="literal">category</code>, <code class="literal">type</code>, <code class="literal">action</code> and <code class="literal">outcome</code> fields
to make it easy to filter, query and aggregate the resulting logs.</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>To ensure that a record of every operation is persisted even in case of an
unexpected error, asynchronous write operations are logged immediately after all
authorization checks have passed, but before the response from Elasticsearch is received.
Refer to the corresponding Elasticsearch logs for potential write errors.</p>
</div>
</div>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
</colgroup>
<tbody>
<tr>
<td align="left" colspan="3" valign="top">
<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="_category_authentication"></a>Category: authentication<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/master/docs/user/security/audit-logging.asciidoc">edit</a></h4>
</div></div></div>

</div>

</td>
</tr>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>Action</strong></span></p></td>
<td align="left" valign="top"><p><span class="strong strong"><strong>Outcome</strong></span></p></td>
<td align="left" valign="top"><p><span class="strong strong"><strong>Description</strong></span></p></td>
</tr>
<tr>
<td align="left" rowspan="2" valign="top"><p><code class="literal">user_login</code></p></td>
<td align="left" valign="top"><p><code class="literal">success</code></p></td>
<td align="left" valign="top"><p>User has logged in successfully.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">failure</code></p></td>
<td align="left" valign="top"><p>Failed login attempt (e.g. due to invalid credentials).</p></td>
</tr>
<tr>
<td align="left" colspan="3" valign="top">
<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="_category_database"></a>Category: database<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/master/docs/user/security/audit-logging.asciidoc">edit</a></h4>
</div></div></div>
<div class="section">
<div class="titlepage"><div><div>
<h5 class="title"><a id="_type_creation"></a>Type: creation<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/master/docs/user/security/audit-logging.asciidoc">edit</a></h5>
</div></div></div>

</div>

</div>

</td>
</tr>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>Action</strong></span></p></td>
<td align="left" valign="top"><p><span class="strong strong"><strong>Outcome</strong></span></p></td>
<td align="left" valign="top"><p><span class="strong strong"><strong>Description</strong></span></p></td>
</tr>
<tr>
<td align="left" rowspan="2" valign="top"><p><code class="literal">saved_object_create</code></p></td>
<td align="left" valign="top"><p><code class="literal">unknown</code></p></td>
<td align="left" valign="top"><p>User is creating a saved object.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">failure</code></p></td>
<td align="left" valign="top"><p>User is not authorized to create a saved object.</p></td>
</tr>
<tr>
<td align="left" rowspan="2" valign="top"><p><code class="literal">connector_create</code></p></td>
<td align="left" valign="top"><p><code class="literal">unknown</code></p></td>
<td align="left" valign="top"><p>User is creating a connector.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">failure</code></p></td>
<td align="left" valign="top"><p>User is not authorized to create a connector.</p></td>
</tr>
<tr>
<td align="left" rowspan="2" valign="top"><p><code class="literal">alert_create</code></p></td>
<td align="left" valign="top"><p><code class="literal">unknown</code></p></td>
<td align="left" valign="top"><p>User is creating an alert rule.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">failure</code></p></td>
<td align="left" valign="top"><p>User is not authorized to create an alert rule.</p></td>
</tr>
<tr>
<td align="left" colspan="3" valign="top">
<div class="section">
<div class="titlepage"><div><div>
<h5 class="title"><a id="_type_change"></a>Type: change<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/master/docs/user/security/audit-logging.asciidoc">edit</a></h5>
</div></div></div>

</div>

</td>
</tr>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>Action</strong></span></p></td>
<td align="left" valign="top"><p><span class="strong strong"><strong>Outcome</strong></span></p></td>
<td align="left" valign="top"><p><span class="strong strong"><strong>Description</strong></span></p></td>
</tr>
<tr>
<td align="left" rowspan="2" valign="top"><p><code class="literal">saved_object_update</code></p></td>
<td align="left" valign="top"><p><code class="literal">unknown</code></p></td>
<td align="left" valign="top"><p>User is updating a saved object.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">failure</code></p></td>
<td align="left" valign="top"><p>User is not authorized to update a saved object.</p></td>
</tr>
<tr>
<td align="left" rowspan="2" valign="top"><p><code class="literal">saved_object_add_to_spaces</code></p></td>
<td align="left" valign="top"><p><code class="literal">unknown</code></p></td>
<td align="left" valign="top"><p>User is adding a saved object to other spaces.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">failure</code></p></td>
<td align="left" valign="top"><p>User is not authorized to add a saved object to other spaces.</p></td>
</tr>
<tr>
<td align="left" rowspan="2" valign="top"><p><code class="literal">saved_object_delete_from_spaces</code></p></td>
<td align="left" valign="top"><p><code class="literal">unknown</code></p></td>
<td align="left" valign="top"><p>User is removing a saved object from other spaces.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">failure</code></p></td>
<td align="left" valign="top"><p>User is not authorized to remove a saved object from other spaces.</p></td>
</tr>
<tr>
<td align="left" rowspan="2" valign="top"><p><code class="literal">saved_object_remove_references</code></p></td>
<td align="left" valign="top"><p><code class="literal">unknown</code></p></td>
<td align="left" valign="top"><p>User is removing references to a saved object.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">failure</code></p></td>
<td align="left" valign="top"><p>User is not authorized to remove references to a saved object.</p></td>
</tr>
<tr>
<td align="left" rowspan="2" valign="top"><p><code class="literal">connector_update</code></p></td>
<td align="left" valign="top"><p><code class="literal">unknown</code></p></td>
<td align="left" valign="top"><p>User is updating a connector.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">failure</code></p></td>
<td align="left" valign="top"><p>User is not authorized to update a connector.</p></td>
</tr>
<tr>
<td align="left" rowspan="2" valign="top"><p><code class="literal">alert_update</code></p></td>
<td align="left" valign="top"><p><code class="literal">unknown</code></p></td>
<td align="left" valign="top"><p>User is updating an alert rule.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">failure</code></p></td>
<td align="left" valign="top"><p>User is not authorized to update an alert rule.</p></td>
</tr>
<tr>
<td align="left" rowspan="2" valign="top"><p><code class="literal">alert_update_api_key</code></p></td>
<td align="left" valign="top"><p><code class="literal">unknown</code></p></td>
<td align="left" valign="top"><p>User is updating the API key of an alert rule.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">failure</code></p></td>
<td align="left" valign="top"><p>User is not authorized to update the API key of an alert rule.</p></td>
</tr>
<tr>
<td align="left" rowspan="2" valign="top"><p><code class="literal">alert_enable</code></p></td>
<td align="left" valign="top"><p><code class="literal">unknown</code></p></td>
<td align="left" valign="top"><p>User is enabling an alert rule.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">failure</code></p></td>
<td align="left" valign="top"><p>User is not authorized to enable an alert rule.</p></td>
</tr>
<tr>
<td align="left" rowspan="2" valign="top"><p><code class="literal">alert_disable</code></p></td>
<td align="left" valign="top"><p><code class="literal">unknown</code></p></td>
<td align="left" valign="top"><p>User is disabling an alert rule.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">failure</code></p></td>
<td align="left" valign="top"><p>User is not authorized to disable an alert rule.</p></td>
</tr>
<tr>
<td align="left" rowspan="2" valign="top"><p><code class="literal">alert_mute</code></p></td>
<td align="left" valign="top"><p><code class="literal">unknown</code></p></td>
<td align="left" valign="top"><p>User is muting an alert rule.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">failure</code></p></td>
<td align="left" valign="top"><p>User is not authorized to mute an alert rule.</p></td>
</tr>
<tr>
<td align="left" rowspan="2" valign="top"><p><code class="literal">alert_unmute</code></p></td>
<td align="left" valign="top"><p><code class="literal">unknown</code></p></td>
<td align="left" valign="top"><p>User is unmuting an alert rule.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">failure</code></p></td>
<td align="left" valign="top"><p>User is not authorized to unmute an alert rule.</p></td>
</tr>
<tr>
<td align="left" rowspan="2" valign="top"><p><code class="literal">alert_instance_mute</code></p></td>
<td align="left" valign="top"><p><code class="literal">unknown</code></p></td>
<td align="left" valign="top"><p>User is muting an alert instance.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">failure</code></p></td>
<td align="left" valign="top"><p>User is not authorized to mute an alert instance.</p></td>
</tr>
<tr>
<td align="left" rowspan="2" valign="top"><p><code class="literal">alert_instance_unmute</code></p></td>
<td align="left" valign="top"><p><code class="literal">unknown</code></p></td>
<td align="left" valign="top"><p>User is unmuting an alert instance.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">failure</code></p></td>
<td align="left" valign="top"><p>User is not authorized to unmute an alert instance.</p></td>
</tr>
<tr>
<td align="left" colspan="3" valign="top">
<div class="section">
<div class="titlepage"><div><div>
<h5 class="title"><a id="_type_deletion"></a>Type: deletion<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/master/docs/user/security/audit-logging.asciidoc">edit</a></h5>
</div></div></div>

</div>

</td>
</tr>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>Action</strong></span></p></td>
<td align="left" valign="top"><p><span class="strong strong"><strong>Outcome</strong></span></p></td>
<td align="left" valign="top"><p><span class="strong strong"><strong>Description</strong></span></p></td>
</tr>
<tr>
<td align="left" rowspan="2" valign="top"><p><code class="literal">saved_object_delete</code></p></td>
<td align="left" valign="top"><p><code class="literal">unknown</code></p></td>
<td align="left" valign="top"><p>User is deleting a saved object.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">failure</code></p></td>
<td align="left" valign="top"><p>User is not authorized to delete a saved object.</p></td>
</tr>
<tr>
<td align="left" rowspan="2" valign="top"><p><code class="literal">connector_delete</code></p></td>
<td align="left" valign="top"><p><code class="literal">unknown</code></p></td>
<td align="left" valign="top"><p>User is deleting a connector.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">failure</code></p></td>
<td align="left" valign="top"><p>User is not authorized to delete a connector.</p></td>
</tr>
<tr>
<td align="left" rowspan="2" valign="top"><p><code class="literal">alert_delete</code></p></td>
<td align="left" valign="top"><p><code class="literal">unknown</code></p></td>
<td align="left" valign="top"><p>User is deleting an alert rule.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">failure</code></p></td>
<td align="left" valign="top"><p>User is not authorized to delete an alert rule.</p></td>
</tr>
<tr>
<td align="left" colspan="3" valign="top">
<div class="section">
<div class="titlepage"><div><div>
<h5 class="title"><a id="_type_access"></a>Type: access<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/master/docs/user/security/audit-logging.asciidoc">edit</a></h5>
</div></div></div>

</div>

</td>
</tr>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>Action</strong></span></p></td>
<td align="left" valign="top"><p><span class="strong strong"><strong>Outcome</strong></span></p></td>
<td align="left" valign="top"><p><span class="strong strong"><strong>Description</strong></span></p></td>
</tr>
<tr>
<td align="left" rowspan="2" valign="top"><p><code class="literal">saved_object_get</code></p></td>
<td align="left" valign="top"><p><code class="literal">success</code></p></td>
<td align="left" valign="top"><p>User has accessed a saved object.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">failure</code></p></td>
<td align="left" valign="top"><p>User is not authorized to access a saved object.</p></td>
</tr>
<tr>
<td align="left" rowspan="2" valign="top"><p><code class="literal">saved_object_find</code></p></td>
<td align="left" valign="top"><p><code class="literal">success</code></p></td>
<td align="left" valign="top"><p>User has accessed a saved object as part of a search operation.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">failure</code></p></td>
<td align="left" valign="top"><p>User is not authorized to search for saved objects.</p></td>
</tr>
<tr>
<td align="left" rowspan="2" valign="top"><p><code class="literal">connector_get</code></p></td>
<td align="left" valign="top"><p><code class="literal">success</code></p></td>
<td align="left" valign="top"><p>User has accessed a connector.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">failure</code></p></td>
<td align="left" valign="top"><p>User is not authorized to access a connector.</p></td>
</tr>
<tr>
<td align="left" rowspan="2" valign="top"><p><code class="literal">connector_find</code></p></td>
<td align="left" valign="top"><p><code class="literal">success</code></p></td>
<td align="left" valign="top"><p>User has accessed a connector as part of a search operation.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">failure</code></p></td>
<td align="left" valign="top"><p>User is not authorized to search for connectors.</p></td>
</tr>
<tr>
<td align="left" rowspan="2" valign="top"><p><code class="literal">alert_get</code></p></td>
<td align="left" valign="top"><p><code class="literal">success</code></p></td>
<td align="left" valign="top"><p>User has accessed an alert rule.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">failure</code></p></td>
<td align="left" valign="top"><p>User is not authorized to access an alert rule.</p></td>
</tr>
<tr>
<td align="left" rowspan="2" valign="top"><p><code class="literal">alert_find</code></p></td>
<td align="left" valign="top"><p><code class="literal">success</code></p></td>
<td align="left" valign="top"><p>User has accessed an alert rule as part of a search operation.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">failure</code></p></td>
<td align="left" valign="top"><p>User is not authorized to search for alert rules.</p></td>
</tr>
<tr>
<td align="left" colspan="3" valign="top">
<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="_category_web"></a>Category: web<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/master/docs/user/security/audit-logging.asciidoc">edit</a></h4>
</div></div></div>

</div>

</td>
</tr>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>Action</strong></span></p></td>
<td align="left" valign="top"><p><span class="strong strong"><strong>Outcome</strong></span></p></td>
<td align="left" valign="top"><p><span class="strong strong"><strong>Description</strong></span></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">http_request</code></p></td>
<td align="left" valign="top"><p><code class="literal">unknown</code></p></td>
<td align="left" valign="top"><p>User is making an HTTP request.</p></td>
</tr>
</tbody>
</table>
</div>
</div>

</div>
<div class="navfooter">
<span class="prev">
<a href="elasticsearch-mutual-tls.html">« Mutual TLS authentication between Kibana and Elasticsearch</a>
</span>
<span class="next">
<a href="xpack-security-access-agreement.html">Access agreement »</a>
</span>
</div>
</div>
</body>
</html>
