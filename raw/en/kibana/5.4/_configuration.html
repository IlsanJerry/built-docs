<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title xmlns="">Configuration
        | Kibana User Guide [5.4]
      | Elastic
    </title><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Kibana User Guide [5.4]" /><link rel="up" href="tilemap.html" title="Tile Maps" /><link rel="prev" href="tilemap.html" title="Tile Maps" /><link rel="next" href="time-series-visual-builder.html" title="Time Series Visual Builder" /><meta xmlns="" name="description" content="Get started with the documentation for Elasticsearch, Kibana, Logstash, Beats, X-Pack, Elastic Cloud, Elasticsearch for Apache Hadoop, and our language clients." /><meta xmlns="" name="DC.type" content="Learn/Docs/Kibana/Reference/5.4" /><meta xmlns="" name="DC.subject" content="Kibana" /><meta xmlns="" name="DC.identifier" content="5.4" /></head><body><div xmlns="" class="page_header">You are looking at documentation for an older release.
Not what you want? See the
<a href="../current/index.html">current release documentation</a>.
</div><div xmlns="" class="breadcrumbs"><span class="breadcrumb-link"><a href="index.html">Kibana User Guide
      [5.4]
    </a></span> » <span class="breadcrumb-link"><a href="visualize.html">Visualize</a></span> » <span class="breadcrumb-link"><a href="tilemap.html">Tile Maps</a></span> » <span class="breadcrumb-node">Configuration</span></div><div xmlns="" class="navheader"><span class="prev"><a href="tilemap.html">
              « 
              Tile Maps</a>
           
        </span><span class="next">
           
          <a href="time-series-visual-builder.html">Time Series Visual Builder
               »
            </a></span></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="_configuration"></a>Configuration<a xmlns="" href="https://github.com/elastic/kibana/edit/5.4/docs/visualize/tilemap.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h2></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_data"></a>Data<a xmlns="" href="https://github.com/elastic/kibana/edit/5.4/docs/visualize/tilemap.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_metrics_2"></a>Metrics<a xmlns="" href="https://github.com/elastic/kibana/edit/5.4/docs/visualize/tilemap.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4></div></div></div><p>The default <span class="emphasis"><em>metrics</em></span> aggregation for a tile map is the <span class="strong strong"><strong>Count</strong></span> aggregation. You can select any of the following
aggregations as the metrics aggregation:</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<span class="strong strong"><strong>Count</strong></span>
</span></dt><dd>
The <a class="ulink" href="https://www.elastic.co/guide/en/elasticsearch/reference/5.4/search-aggregations-metrics-valuecount-aggregation.html" target="_top"><span class="emphasis"><em>count</em></span></a> aggregation returns a raw count of
the elements in the selected index pattern.
</dd><dt><span class="term">
<span class="strong strong"><strong>Average</strong></span>
</span></dt><dd>
This aggregation returns the <a class="ulink" href="https://www.elastic.co/guide/en/elasticsearch/reference/5.4/search-aggregations-metrics-avg-aggregation.html" target="_top"><span class="emphasis"><em>average</em></span></a> of a numeric
field. Select a field from the drop-down.
</dd><dt><span class="term">
<span class="strong strong"><strong>Sum</strong></span>
</span></dt><dd>
The <a class="ulink" href="https://www.elastic.co/guide/en/elasticsearch/reference/5.4/search-aggregations-metrics-sum-aggregation.html" target="_top"><span class="emphasis"><em>sum</em></span></a> aggregation returns the total sum of a numeric
field. Select a field from the drop-down.
</dd><dt><span class="term">
<span class="strong strong"><strong>Min</strong></span>
</span></dt><dd>
The <a class="ulink" href="https://www.elastic.co/guide/en/elasticsearch/reference/5.4/search-aggregations-metrics-min-aggregation.html" target="_top"><span class="emphasis"><em>min</em></span></a> aggregation returns the minimum value of a
numeric field. Select a field from the drop-down.
</dd><dt><span class="term">
<span class="strong strong"><strong>Max</strong></span>
</span></dt><dd>
The <a class="ulink" href="https://www.elastic.co/guide/en/elasticsearch/reference/5.4/search-aggregations-metrics-max-aggregation.html" target="_top"><span class="emphasis"><em>max</em></span></a> aggregation returns the maximum value of a
numeric field. Select a field from the drop-down.
</dd><dt><span class="term">
<span class="strong strong"><strong>Unique Count</strong></span>
</span></dt><dd>
The <a class="ulink" href="https://www.elastic.co/guide/en/elasticsearch/reference/5.4/search-aggregations-metrics-cardinality-aggregation.html" target="_top"><span class="emphasis"><em>cardinality</em></span></a> aggregation returns
the number of unique values in a field. Select a field from the drop-down.
</dd></dl></div><p>Enter a string in the <span class="strong strong"><strong>Custom Label</strong></span> field to change the display label.</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_buckets"></a>Buckets<a xmlns="" href="https://github.com/elastic/kibana/edit/5.4/docs/visualize/tilemap.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4></div></div></div><p>Tile maps uses the <a class="ulink" href="https://www.elastic.co/guide/en/elasticsearch/reference/5.4/search-aggregations-bucket-geohashgrid-aggregation.html" target="_top"><span class="emphasis"><em>geohash</em></span></a> aggregation. Select a field, typically coordinates, from the
drop-down.</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
The_Change precision on map zoom_ box is checked by default. Uncheck the box to disable this behavior.
The <span class="emphasis"><em>Precision</em></span> slider determines the granularity of the results displayed on the map. See the documentation
for the <a class="ulink" href="https://www.elastic.co/guide/en/elasticsearch/reference/5.4/search-aggregations-bucket-geohashgrid-aggregation.html#_cell_dimensions_at_the_equator" target="_top">geohash grid</a>
aggregation for details on the area specified by each precision level.
</li></ul></div><div xmlns="" class="note admon"><div class="icon"><img alt="Note" src="images/icons/note.png" /></div><div class="admon_content"><p xmlns="http://www.w3.org/1999/xhtml">Higher precisions increase memory usage for the browser displaying Kibana as well as for the underlying
Elasticsearch cluster.</p></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
The <span class="emphasis"><em>place markers off grid (use <a class="ulink" href="https://www.elastic.co/guide/en/elasticsearch/reference/5.4/search-aggregations-metrics-geocentroid-aggregation.html" target="_top">geocentroid</a>)</em></span> box is checked by default. When this box is checked, the markers are
placed in the center of all the documents in that bucket. When unchecked, the markers are placed in the center
of the geohash grid cell. Leaving this checked generally results in a more accurate visualization.
</li></ul></div><p>Enter a string in the <span class="strong strong"><strong>Custom Label</strong></span> field to change the display label.</p><p>You can click the <span class="strong strong"><strong>Advanced</strong></span> link to display more customization options for your metrics or bucket aggregation:</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<span class="strong strong"><strong>Exclude Pattern</strong></span>
</span></dt><dd>
Specify a pattern in this field to exclude from the results.
</dd><dt><span class="term">
<span class="strong strong"><strong>Include Pattern</strong></span>
</span></dt><dd>
Specify a pattern in this field to include in the results.
</dd><dt><span class="term">
<span class="strong strong"><strong>JSON Input</strong></span>
</span></dt><dd>
A text field where you can add specific JSON-formatted properties to merge with the aggregation
definition, as in the following example:
</dd></dl></div><div xmlns="" class="pre_wrapper lang-shell"><pre xmlns="http://www.w3.org/1999/xhtml" class="programlisting prettyprint lang-shell">{ "script" : "doc['grade'].value * 1.2" }</pre></div><div xmlns="" class="note admon"><div class="icon"><img alt="Note" src="images/icons/note.png" /></div><div class="admon_content"><p xmlns="http://www.w3.org/1999/xhtml">In Elasticsearch releases 1.4.3 and later, this functionality requires you to enable
<a class="ulink" href="https://www.elastic.co/guide/en/elasticsearch/reference/5.4/modules-scripting.html" target="_top">dynamic Groovy scripting</a>.</p></div></div><p>The availability of these options varies depending on the aggregation you choose.</p></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_options"></a>Options<a xmlns="" href="https://github.com/elastic/kibana/edit/5.4/docs/visualize/tilemap.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<span class="strong strong"><strong>Map type</strong></span>
</span></dt><dd>
Select one of the following options from the drop-down.
</dd><dt><span class="term">
<span class="strong strong"><strong><span class="emphasis"><em>Scaled Circle Markers</em></span></strong></span>
</span></dt><dd>
Scale the size of the markers based on the metric aggregation’s value.
</dd><dt><span class="term">
<span class="strong strong"><strong><span class="emphasis"><em>Shaded Circle Markers</em></span></strong></span>
</span></dt><dd>
Displays the markers with different shades based on the metric aggregation’s value.
</dd><dt><span class="term">
<span class="strong strong"><strong><span class="emphasis"><em>Shaded Geohash Grid</em></span></strong></span>
</span></dt><dd>
Displays the rectangular cells of the geohash grid instead of circular markers, with different
shades based on the metric aggregation’s value.
</dd><dt><span class="term">
<span class="strong strong"><strong><span class="emphasis"><em>Heatmap</em></span></strong></span>
</span></dt><dd><p class="simpara">
A heat map applies blurring to the circle markers and applies shading based on the amount of overlap.
Heatmaps have the following options:
</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
<span class="strong strong"><strong>Radius</strong></span>: Sets the size of the individual heatmap dots.
</li><li class="listitem">
<span class="strong strong"><strong>Blur</strong></span>: Sets the amount of blurring for the heatmap dots.
</li><li class="listitem">
<span class="strong strong"><strong>Maximum zoom</strong></span>: Tilemaps in Kibana support 18 zoom levels. This slider defines the maximum zoom level at which the
heatmap dots appear at full intensity.
</li><li class="listitem">
<span class="strong strong"><strong>Minimum opacity</strong></span>: Sets the opacity cutoff for the dots.
</li><li class="listitem">
<span class="strong strong"><strong>Show Tooltip</strong></span>: Check this box to have a tooltip with the values for a given dot when the cursor is on that dot.
</li></ul></div></dd><dt><span class="term">
<span class="strong strong"><strong>Desaturate map tiles</strong></span>
</span></dt><dd>
Desaturate the map’s color in order to make the markers stand out more clearly.
</dd><dt><span class="term">
<span class="strong strong"><strong>WMS compliant map server</strong></span>
</span></dt><dd><p class="simpara">
Check this box to enable the use of a third-party mapping service that complies with the Web
Map Service (WMS) standard. Specify the following elements:
</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
<span class="strong strong"><strong>WMS url</strong></span>: The URL for the WMS map service.
</li><li class="listitem">
<span class="strong strong"><strong>WMS layers</strong></span>: A comma-separated list of the layers to use in this visualization. Each map server provides its own list of
layers.
</li><li class="listitem">
<span class="strong strong"><strong>WMS version</strong></span>: The WMS version used by this map service.
</li><li class="listitem">
<span class="strong strong"><strong>WMS format</strong></span>: The image format used by this map service. The two most common formats are <code class="literal">image/png</code> and <code class="literal">image/jpeg</code>.
</li><li class="listitem">
<span class="strong strong"><strong>WMS attribution</strong></span>: An optional, user-defined string that identifies the map source. Maps display the attribution string
in the lower right corner.
</li><li class="listitem">
<span class="strong strong"><strong>WMS styles</strong></span>: A comma-separated list of the styles to use in this visualization. Each map server provides its own styling
options.
</li></ul></div></dd></dl></div><p>After changing options, click the  <span class="strong strong"><strong>Apply changes</strong></span> button to update your visualization, or the grey <span class="strong strong"><strong>Discard
changes</strong></span> button to keep your visualization in its current state.</p><h3><a id="navigating-map"></a>Navigating the Map<a xmlns="" href="https://github.com/elastic/kibana/edit/5.4/docs/visualize/tilemap.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3><p>Once your tilemap visualization is ready, you can explore the map in several ways:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
Click and hold anywhere on the map and move the cursor to move the map center. Hold Shift and drag a bounding box
across the map to zoom in on the selection.
</li><li class="listitem">
Click the <span class="strong strong"><strong>Zoom In/Out</strong></span> <span class="inlinemediaobject"><img src="images/viz-zoom.png" alt="images/viz-zoom.png" /></span> buttons to change the zoom level manually.
</li><li class="listitem">
Click the <span class="strong strong"><strong>Fit Data Bounds</strong></span> <span class="inlinemediaobject"><img src="images/viz-fit-bounds.png" alt="images/viz-fit-bounds.png" /></span> button to automatically crop the map boundaries to the
geohash buckets that have at least one result.
</li><li class="listitem">
Click the <span class="strong strong"><strong>Latitude/Longitude Filter</strong></span> <span class="inlinemediaobject"><img src="images/viz-lat-long-filter.png" alt="images/viz-lat-long-filter.png" /></span> button, then drag a bounding box across the
map, to create a filter for the box coordinates.
</li></ul></div><h3><a id="tilemap-viewing-detailed-information"></a>Viewing Detailed Information<a xmlns="" href="https://github.com/elastic/kibana/edit/5.4/docs/visualize/tilemap.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3><p>To display the raw data behind the visualization, click the bar at the bottom of the container. Tabs with detailed
information about the raw data replace the visualization:</p><p><strong>Table. </strong>A representation of the underlying data, presented as a paginated data grid. You can sort the items
in the table by clicking on the table headers at the top of each column.</p><p><strong>Request. </strong>The raw request used to query the server, presented in JSON format.</p><p><strong>Response. </strong>The raw response from the server, presented in JSON format.</p><p><strong>Statistics. </strong>A summary of the statistics related to the request and the response, presented as a data grid. The data
grid includes the query duration, the request duration, the total number of records found on the server, and the
index pattern used to make the query.</p><p>To export the raw data behind the visualization as a comma-separated-values (CSV) file, click on either the
<span class="strong strong"><strong>Raw</strong></span> or <span class="strong strong"><strong>Formatted</strong></span> links at the bottom of any of the detailed information tabs. A raw export contains the data as it
is stored in Elasticsearch. A formatted export contains the results of any applicable Kibana
<a class="link" href="managing-fields.html" title="Managing Fields">field formatters</a>.</p></div></div><div xmlns="" class="navfooter"><span class="prev"><a href="tilemap.html">
              « 
              Tile Maps</a>
           
        </span><span class="next">
           
          <a href="time-series-visual-builder.html">Time Series Visual Builder
               »
            </a></span></div></body></html>