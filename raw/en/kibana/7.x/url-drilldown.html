<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>URL drilldown | Kibana Guide [7.x] | Elastic</title>
<link rel="home" href="index.html" title="Kibana Guide [7.x]"/>
<link rel="up" href="drilldowns.html" title="Use drilldowns for dashboard actions"/>
<link rel="prev" href="dashboard-drilldown.html" title="Dashboard drilldown"/>
<link rel="next" href="share-dashboards.html" title="Share dashboards"/>
<meta name="DC.type" content="Learn/Docs/Kibana/Reference/7.x"/>
<meta name="DC.subject" content="Kibana"/>
<meta name="DC.identifier" content="7.x"/>
</head>
<body><div class="page_header">
You are looking at preliminary documentation for a future release.
Not what you want? See the
<a href="../current/index.html">current release documentation</a>.
</div>
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="index.html">Kibana Guide [7.x]</a></span>
»
<span class="breadcrumb-link"><a href="dashboard.html">Dashboard</a></span>
»
<span class="breadcrumb-link"><a href="drilldowns.html">Use drilldowns for dashboard actions</a></span>
»
<span class="breadcrumb-node">URL drilldown</span>
</div>
<div class="navheader">
<span class="prev">
<a href="dashboard-drilldown.html">« Dashboard drilldown</a>
</span>
<span class="next">
<a href="share-dashboards.html">Share dashboards »</a>
</span>
</div>
<div class="section">
<div class="titlepage"><div><div>
<h2 class="title"><a id="url-drilldown"></a>URL drilldown<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/7.x/docs/user/dashboard/url-drilldown.asciidoc">edit</a></h2>
</div></div></div>
<div class="warning admon">
<div class="icon"></div>
<div class="admon_content">
<p>This functionality is in beta and is subject to change. The design and code is less mature than official GA features and is being provided as-is with no warranties. Beta features are not subject to the support SLA of official GA features.</p>
</div>
</div>
<p>The URL drilldown allows you to navigate from a dashboard to an internal or external URL.
The destination URL can be dynamic, depending on the dashboard context or user’s interaction with a visualization.</p>
<p>For example, you might have a dashboard that shows data from a Github repository.
You can create a drilldown that navigates from this dashboard to Github.</p>
<p class="screenshot"><span class="image"><img src="images/url_drilldown_go_to_github.gif" alt="Drilldown on pie chart that navigates to Github"></span></p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>URL drilldown is available with the <a href="/subscriptions" class="ulink" target="_top">Gold subscription</a> and higher.</p>
</div>
</div>
<h4><a id="try-it"></a>Try it: Create a URL drilldown<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/7.x/docs/user/dashboard/url-drilldown.asciidoc">edit</a></h4>
<p>This example shows how to create the "Show on Github" drilldown shown above.</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
Add the <a class="xref" href="get-started.html#gs-get-data-into-kibana" title="Get data into Kibana">sample web logs</a> data set.
</li>
<li class="listitem">
Open the <span class="strong strong"><strong>[Logs] Web traffic</strong></span> dashboard. This isn’t data from Github, but it should work for demonstration purposes.
</li>
<li class="listitem">
In the dashboard menu bar, click <span class="strong strong"><strong>Edit</strong></span>.
</li>
<li class="listitem">
In <span class="strong strong"><strong>[Logs] Visitors by OS</strong></span>, open the panel menu, and then select <span class="strong strong"><strong>Create drilldown</strong></span>.
</li>
<li class="listitem">
Give the drilldown a name: <span class="strong strong"><strong>Show on Github</strong></span>.
</li>
<li class="listitem">
<p>Select a drilldown action: <span class="strong strong"><strong>Go to URL</strong></span>.</p>
<p class="screenshot"><span class="image"><img src="images/url_drilldown_pick_an_action.png" alt="Action picker"></span></p>
</li>
<li class="listitem">
<p>Enter a URL template:</p>
<div class="pre_wrapper lang-bash">
<pre class="programlisting prettyprint lang-bash">https://github.com/elastic/kibana/issues?q=is:issue+is:open+{{event.value}}</pre>
</div>
<p>This example URL navigates to Kibana issues on Github. <code class="literal">{{event.value}}</code> will be substituted with a value associated with a clicked pie slice. In <em>preview</em> <code class="literal">{{event.value}}</code> is substituted with a <a class="xref" href="url-drilldown.html#values-in-preview">dummy</a> value.</p>
<p class="screenshot"><span class="image"><img src="images/url_drilldown_url_template.png" alt="URL template input"></span></p>
</li>
<li class="listitem">
Click <span class="strong strong"><strong>Create drilldown</strong></span>.
</li>
<li class="listitem">
<p>Save the dashboard.</p>
<p>If you don’t save the drilldown, and then navigate away, the drilldown is lost.</p>
</li>
<li class="listitem">
<p>In <span class="strong strong"><strong>[Logs] Visitors by OS</strong></span>, click any slice of the pie, and then select the drilldown <span class="strong strong"><strong>Show on Github</strong></span>.</p>
<p class="screenshot"><span class="image"><img src="images/url_drilldown_popup.png" alt="URL drilldown popup"></span></p>
<p>You are navigated to the issue list in the Kibana repository. Verify that value from a pie slice you’ve clicked on is carried over to Github.</p>
<p class="screenshot"><span class="image"><img src="images/url_drilldown_github.png" alt="Github"></span></p>
</li>
</ol>
</div>
<h4><a id="trigger-picker"></a>Picking a trigger for a URL drilldown<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/7.x/docs/user/dashboard/url-drilldown.asciidoc">edit</a></h4>
<p>Some panels support multiple user interactions (called triggers) for which you can configure a URL drilldown. The list of supported variables in the URL template depends on the trigger you selected.
In the preceding example, you configured a URL drilldown on a pie chart. The only trigger that pie chart supports is clicking on a pie slice, so you didn’t have to pick a trigger.</p>
<p>However, the sample <span class="strong strong"><strong>[Logs] Unique Visitors vs. Average Bytes</strong></span> chart supports both clicking on a data point and selecting a range. When you create a URL drilldown for this  chart, you have the following choices:</p>
<p class="screenshot"><span class="image"><img src="images/url_drilldown_trigger_picker.png" alt="Trigger picker: Single click and Range selection"></span></p>
<p>Variables in the URL template differ per trigger.
For example, <span class="strong strong"><strong>Single click</strong></span> has <code class="literal">{{event.value}}</code> and <span class="strong strong"><strong>Range selection</strong></span> has <code class="literal">{{event.from}}</code> and <code class="literal">{{event.to}}</code>.
You can create multiple URL drilldowns per panel and attach them to different triggers.</p>
<h4><a id="templating"></a>URL templating language<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/7.x/docs/user/dashboard/url-drilldown.asciidoc">edit</a></h4>
<p>The URL template input uses Handlebars — a simple templating language. Handlebars templates look like regular text with embedded Handlebars expressions.</p>
<div class="pre_wrapper lang-bash">
<pre class="programlisting prettyprint lang-bash">https://github.com/elastic/kibana/issues?q={{event.value}}</pre>
</div>
<p>A Handlebars expression is a <code class="literal">{{</code>, some contents, followed by a <code class="literal">}}</code>. When the drilldown is executed, these expressions are replaced by values from the dashboard and interaction context.</p>
<p>Refer to Handlebars <a href="https://handlebarsjs.com/guide/expressions.html#expressions" class="ulink" target="_top">documentation</a> to learn about advanced use cases.</p>
<p><a id="helpers"></a>In addition to <a href="https://handlebarsjs.com/guide/builtin-helpers.html" class="ulink" target="_top">built-in</a> Handlebars helpers, you can use the following custom helpers:</p>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Helper</th>
<th align="left" valign="top">Use case</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p>json</p></td>
<td align="left" valign="top">
<p>Serialize variables in JSON format.</p>
<p>Example:</p>
<p><code class="literal">{{json event}}</code><br>
<code class="literal">{{json event.key event.value}}</code><br>
<code class="literal">{{json filters=context.panel.filters}}</code></p>
</td>
</tr>
<tr>
<td align="left" valign="top"><p>rison</p></td>
<td align="left" valign="top">
<p>Serialize variables in <a href="https://github.com/w33ble/rison-node" class="ulink" target="_top">rison</a> format. Rison is a common format for Kibana apps for storing state in the URL.</p>
<p>Example:</p>
<p><code class="literal">{{rison event}}</code><br>
<code class="literal">{{rison event.key event.value}}</code><br>
<code class="literal">{{rison filters=context.panel.filters}}</code></p>
</td>
</tr>
<tr>
<td align="left" valign="top"><p>date</p></td>
<td align="left" valign="top">
<p>Format dates. Supports relative dates expressions (for example,  "now-15d"). Refer to the <a href="https://momentjs.com/docs/#/displaying/format/" class="ulink" target="_top">moment</a> docs for different formatting options.</p>
<p>Example:</p>
<p><code class="literal">{{ date event.from “YYYY MM DD”}}</code><br>
<code class="literal">{{date “now-15”}}</code></p>
</td>
</tr>
</tbody>
</table>
</div>
<h4><a id="variables"></a>URL template variables<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/7.x/docs/user/dashboard/url-drilldown.asciidoc">edit</a></h4>
<p>The URL drilldown template has three sources for variables:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong>Global</strong></span> static variables that don’t change depending on the  place where the URL drilldown is used or which user interaction executed the drilldown. For example: <code class="literal">{{kibanaUrl}}</code>.
</li>
<li class="listitem">
<span class="strong strong"><strong>Context</strong></span> variables that change depending on where the drilldown is created and used. These variables are extracted from a context of a panel on a dashboard. For example, <code class="literal">{{context.panel.filters}}</code> gives access to filters that applied to the current panel.
</li>
<li class="listitem">
<span class="strong strong"><strong>Event</strong></span> variables that depend on the trigger context. These variables are dynamically extracted from the interaction context when the drilldown is executed.
</li>
</ul>
</div>
<p><a id="values-in-preview"></a>A subtle but important difference between <span class="strong strong"><strong>context</strong></span> and <span class="strong strong"><strong>event</strong></span> variables is that <span class="strong strong"><strong>context</strong></span> variables use real values in previews when creating a URL drilldown.
For example, <code class="literal">{{context.panel.filters}}</code> are previewed with the current filters that applied to a panel.
<span class="strong strong"><strong>Event</strong></span> variables are extracted during drilldown execution from a user interaction with a panel (for example, from a pie slice that the user clicked on).</p>
<p>Because there is no user interaction with a panel in preview, there is no interaction context to use in a preview.
To work around this, Kibana provides a sample interaction that relies on a picked <a class="xref" href="url-drilldown.html#trigger-picker" title="Picking a trigger for a URL drilldown">trigger</a>.
So in a preview, you might notice that <code class="literal">{{event.value}}</code> is replaced with <code class="literal">{{event.value}}</code> instead of with a sample from your data.
Such previews can help you make sure that the structure of your URL template is valid.
However, to ensure that the configured URL drilldown works as expected with your data, you have to save the dashboard and test in the panel.</p>
<p>You can access the full list of variables available for the current panel and selected trigger by clicking <span class="strong strong"><strong>Add variable</strong></span> in the top-right corner of a URL template input.</p>
<h4><a id="variables-reference"></a>Variables reference<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/7.x/docs/user/dashboard/url-drilldown.asciidoc">edit</a></h4>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Source</th>
<th align="left" valign="top">Variable</th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>Global</strong></span></p></td>
<td align="left" valign="top"><p>kibanaUrl</p></td>
<td align="left" valign="top"><p>Kibana base URL. Useful for creating URL drilldowns that navigate within Kibana.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>Context</strong></span></p></td>
<td align="left" valign="top"><p>context.panel</p></td>
<td align="left" valign="top"><p>Context provided by current dashboard panel.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p></p></td>
<td align="left" valign="top"><p>context.panel.id</p></td>
<td align="left" valign="top"><p>ID of a panel.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p></p></td>
<td align="left" valign="top"><p>context.panel.title</p></td>
<td align="left" valign="top"><p>Title of a panel.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p></p></td>
<td align="left" valign="top"><p>context.panel.filters</p></td>
<td align="left" valign="top"><p>List of Kibana filters applied to a panel.<br>
Tip: Use in combination with <a class="xref" href="url-drilldown.html#helpers">rison</a> helper for
internal Kibana navigations with carrying over current filters.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p></p></td>
<td align="left" valign="top"><p>context.panel.query.query</p></td>
<td align="left" valign="top"><p>Current query string.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p></p></td>
<td align="left" valign="top"><p>context.panel.query.lang</p></td>
<td align="left" valign="top"><p>Current query language.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p></p></td>
<td align="left" valign="top"><p>context.panel.timeRange.from<br>
context.panel.timeRange.to</p></td>
<td align="left" valign="top"><p>Current time picker values.<br>
Tip: Use in combination with <a class="xref" href="url-drilldown.html#helpers">date</a> helper to format date.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p></p></td>
<td align="left" valign="top"><p>context.panel.timeRange.indexPatternId<br>
context.panel.timeRange.indexPatternIds</p></td>
<td align="left" valign="top"><p>Index pattern ids used by a panel.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p></p></td>
<td align="left" valign="top"><p>context.panel.savedObjectId</p></td>
<td align="left" valign="top"><p>ID of saved object behind a panel.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>Single click</strong></span></p></td>
<td align="left" valign="top"><p>event.value</p></td>
<td align="left" valign="top"><p>Value behind clicked data point.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p></p></td>
<td align="left" valign="top"><p>event.key</p></td>
<td align="left" valign="top"><p>Field name behind clicked data point</p></td>
</tr>
<tr>
<td align="left" valign="top"><p></p></td>
<td align="left" valign="top"><p>event.negate</p></td>
<td align="left" valign="top"><p>Boolean, indicating whether clicked data point resulted in negative filter.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p></p></td>
<td align="left" valign="top"><p>event.points</p></td>
<td align="left" valign="top"><p>Some visualizations have clickable points that emit more than one data point. Use list of data points in case a single value is insufficient.<br></p>
<p>Example:</p>
<p><code class="literal">{{json event.points}}</code><br>
<code class="literal">{{event.points.[0].key}}</code><br>
<code class="literal">{{event.points.[0].value}}</code>
<code class="literal">{{#each event.points}}key=value&amp;{{/each}}</code></p>
<p>Note:</p>
<p><code class="literal">{{event.value}}</code> is a shorthand for <code class="literal">{{event.points.[0].value}}</code><br>
<code class="literal">{{event.key}}</code> is a shorthand for <code class="literal">{{event.points.[0].key}}</code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>Range selection</strong></span></p></td>
<td align="left" valign="top"><p>event.from<br>
event.to</p></td>
<td align="left" valign="top"><p><code class="literal">from</code> and <code class="literal">to</code> values of selected range. Depending on your data, could be either a date or number.<br>
Tip: Consider using <a class="xref" href="url-drilldown.html#helpers">date</a> helper for date formatting.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p></p></td>
<td align="left" valign="top"><p>event.key</p></td>
<td align="left" valign="top"><p>Aggregation field behind the selected range, if available.</p></td>
</tr>
</tbody>
</table>
</div>
<h4><a id="disable"></a>Disable URL drilldown<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/7.x/docs/user/dashboard/url-drilldown.asciidoc">edit</a></h4>
<p>You can disable URL drilldown feature on your Kibana instance by disabling the plugin:</p>
<div class="pre_wrapper lang-yml">
<pre class="programlisting prettyprint lang-yml">url_drilldown.enabled: false</pre>
</div>
</div>
<div class="navfooter">
<span class="prev">
<a href="dashboard-drilldown.html">« Dashboard drilldown</a>
</span>
<span class="next">
<a href="share-dashboards.html">Share dashboards »</a>
</span>
</div>
</div>
</body>
</html>
