<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title xmlns="">Loading sample data
        | Kibana User Guide [6.7]
      | Elastic
    </title><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Kibana User Guide [6.7]" /><link rel="up" href="tutorial-build-dashboard.html" title="Building your own dashboard" /><link rel="prev" href="tutorial-build-dashboard.html" title="Building your own dashboard" /><link rel="next" href="tutorial-define-index.html" title="Defining your index patterns" /><meta xmlns="" name="description" content="Get started with the documentation for Elasticsearch, Kibana, Logstash, Beats, X-Pack, Elastic Cloud, Elasticsearch for Apache Hadoop, and our language clients." /><meta xmlns="" name="DC.type" content="Learn/Docs/Kibana/Reference/6.7" /><meta xmlns="" name="DC.subject" content="Kibana" /><meta xmlns="" name="DC.identifier" content="6.7" /></head><body><div xmlns="" class="page_header">You are looking at documentation for an older release.
Not what you want? See the
<a href="../current/index.html">current release documentation</a>.
</div><div xmlns="" class="breadcrumbs"><span class="breadcrumb-link"><a href="index.html">Kibana User Guide
      [6.7]
    </a></span> » <span class="breadcrumb-link"><a href="getting-started.html">Getting Started</a></span> » <span class="breadcrumb-link"><a href="tutorial-build-dashboard.html">Building your own dashboard</a></span> » <span class="breadcrumb-node">Loading sample data</span></div><div xmlns="" class="navheader"><span class="prev"><a href="tutorial-build-dashboard.html">
              « 
              Building your own dashboard</a>
           
        </span><span class="next">
           
          <a href="tutorial-define-index.html">Defining your index patterns
               »
            </a></span></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="tutorial-load-dataset"></a>Loading sample data<a xmlns="" href="https://github.com/elastic/kibana/edit/6.7/docs/getting-started/tutorial-load-dataset.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h2></div></div></div><p>This tutorial requires three data sets:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
The complete works of William Shakespeare, suitably parsed into fields. Download
  <a class="ulink" href="https://download.elastic.co/demos/kibana/gettingstarted/shakespeare_6.0.json" target="_top"><code class="literal">shakespeare.json</code></a>.
</li><li class="listitem">
A set of fictitious accounts with randomly generated data. Download
  <a class="ulink" href="https://download.elastic.co/demos/kibana/gettingstarted/accounts.zip" target="_top"><code class="literal">accounts.zip</code></a>.
</li><li class="listitem">
A set of randomly generated log files. Download
  <a class="ulink" href="https://download.elastic.co/demos/kibana/gettingstarted/logs.jsonl.gz" target="_top"><code class="literal">logs.jsonl.gz</code></a>.
</li></ul></div><p>Two of the data sets are compressed. To extract the files, use these commands:</p><div xmlns="" class="pre_wrapper lang-shell"><pre xmlns="http://www.w3.org/1999/xhtml" class="programlisting prettyprint lang-shell">unzip accounts.zip
gunzip logs.jsonl.gz</pre></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_structure_of_the_data_sets"></a>Structure of the data sets<a xmlns="" href="https://github.com/elastic/kibana/edit/6.7/docs/getting-started/tutorial-load-dataset.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p>The Shakespeare data set has this structure:</p><div xmlns="" class="pre_wrapper lang-json"><pre xmlns="http://www.w3.org/1999/xhtml" class="programlisting prettyprint lang-json">{
    "line_id": INT,
    "play_name": "String",
    "speech_number": INT,
    "line_number": "String",
    "speaker": "String",
    "text_entry": "String",
}</pre></div><p>The accounts data set is structured as follows:</p><div xmlns="" class="pre_wrapper lang-json"><pre xmlns="http://www.w3.org/1999/xhtml" class="programlisting prettyprint lang-json">{
    "account_number": INT,
    "balance": INT,
    "firstname": "String",
    "lastname": "String",
    "age": INT,
    "gender": "M or F",
    "address": "String",
    "employer": "String",
    "email": "String",
    "city": "String",
    "state": "String"
}</pre></div><p>The logs data set has dozens of different fields. Here are the notable fields for this tutorial:</p><div xmlns="" class="pre_wrapper lang-json"><pre xmlns="http://www.w3.org/1999/xhtml" class="programlisting prettyprint lang-json">{
    "memory": INT,
    "geo.coordinates": "geo_point"
    "@timestamp": "date"
}</pre></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_set_up_mappings"></a>Set up mappings<a xmlns="" href="https://github.com/elastic/kibana/edit/6.7/docs/getting-started/tutorial-load-dataset.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p>Before you load the Shakespeare and logs data sets, you must set up <a class="ulink" href="https://www.elastic.co/guide/en/elasticsearch/reference/6.7/mapping.html" target="_top"><span class="emphasis"><em>mappings</em></span></a> for the fields.
Mappings divide the documents in the index into logical groups and specify the characteristics
of the fields. These characteristics include the searchability of the field
and whether it’s <span class="emphasis"><em>tokenized</em></span>, or broken up into separate words.</p><div xmlns="" class="note admon"><div class="icon"><img alt="Note" src="images/icons/note.png" /></div><div class="admon_content"><p xmlns="http://www.w3.org/1999/xhtml">If security is enabled, you must have the <code class="literal">all</code> Kibana privilege to run this tutorial.
You must also have the <code class="literal">create</code>, <code class="literal">manage</code> <code class="literal">read</code>, <code class="literal">write,</code> and <code class="literal">delete</code>
index privileges. See <a class="ulink" href="https://www.elastic.co/guide/en/elastic-stack-overview/6.7/security-privileges.html" target="_top">Security Privileges</a>
for more information.</p></div></div><p>In Kibana <span class="strong strong"><strong>Dev Tools &gt; Console</strong></span>, set up a mapping for the Shakespeare data set:</p><div xmlns="" class="pre_wrapper lang-js"><pre xmlns="http://www.w3.org/1999/xhtml" class="programlisting prettyprint lang-js">PUT /shakespeare
{
 "mappings": {
  "doc": {
   "properties": {
    "speaker": {"type": "keyword"},
    "play_name": {"type": "keyword"},
    "line_id": {"type": "integer"},
    "speech_number": {"type": "integer"}
   }
  }
 }
}</pre></div><div xmlns="" class="console_widget" data-snippet=":CONSOLE:"></div><p>This mapping specifies field characteristics for the data set:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
The <code class="literal">speaker</code> and <code class="literal">play_name</code> fields are keyword fields. These fields are not analyzed.
The strings are treated as a single unit even if they contain multiple words.
</li><li class="listitem">
The <code class="literal">line_id</code> and <code class="literal">speech_number</code> fields are integers.
</li></ul></div><p>The logs data set requires a mapping to label the latitude and longitude pairs
as geographic locations by applying the <code class="literal">geo_point</code> type.</p><div xmlns="" class="pre_wrapper lang-js"><pre xmlns="http://www.w3.org/1999/xhtml" class="programlisting prettyprint lang-js">PUT /logstash-2015.05.18
{
  "mappings": {
    "log": {
      "properties": {
        "geo": {
          "properties": {
            "coordinates": {
              "type": "geo_point"
            }
          }
        }
      }
    }
  }
}</pre></div><div xmlns="" class="console_widget" data-snippet=":CONSOLE:"></div><div xmlns="" class="pre_wrapper lang-js"><pre xmlns="http://www.w3.org/1999/xhtml" class="programlisting prettyprint lang-js">PUT /logstash-2015.05.19
{
  "mappings": {
    "log": {
      "properties": {
        "geo": {
          "properties": {
            "coordinates": {
              "type": "geo_point"
            }
          }
        }
      }
    }
  }
}</pre></div><div xmlns="" class="console_widget" data-snippet=":CONSOLE:"></div><div xmlns="" class="pre_wrapper lang-js"><pre xmlns="http://www.w3.org/1999/xhtml" class="programlisting prettyprint lang-js">PUT /logstash-2015.05.20
{
  "mappings": {
    "log": {
      "properties": {
        "geo": {
          "properties": {
            "coordinates": {
              "type": "geo_point"
            }
          }
        }
      }
    }
  }
}</pre></div><div xmlns="" class="console_widget" data-snippet=":CONSOLE:"></div><p>The accounts data set doesn’t require any mappings.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_load_the_data_sets"></a>Load the data sets<a xmlns="" href="https://github.com/elastic/kibana/edit/6.7/docs/getting-started/tutorial-load-dataset.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p>At this point, you’re ready to use the Elasticsearch <a class="ulink" href="https://www.elastic.co/guide/en/elasticsearch/reference/6.7/docs-bulk.html" target="_top">bulk</a>
API to load the data sets:</p><div xmlns="" class="pre_wrapper lang-shell"><pre xmlns="http://www.w3.org/1999/xhtml" class="programlisting prettyprint lang-shell">curl -H 'Content-Type: application/x-ndjson' -XPOST 'localhost:9200/bank/account/_bulk?pretty' --data-binary @accounts.json
curl -H 'Content-Type: application/x-ndjson' -XPOST 'localhost:9200/shakespeare/doc/_bulk?pretty' --data-binary @shakespeare_6.0.json
curl -H 'Content-Type: application/x-ndjson' -XPOST 'localhost:9200/_bulk?pretty' --data-binary @logs.jsonl</pre></div><p>Or for Windows users, in Powershell:</p><div xmlns="" class="pre_wrapper lang-shell"><pre xmlns="http://www.w3.org/1999/xhtml" class="programlisting prettyprint lang-shell">Invoke-RestMethod "http://localhost:9200/bank/account/_bulk?pretty" -Method Post -ContentType 'application/x-ndjson' -InFile "accounts.json"
Invoke-RestMethod "http://localhost:9200/shakespeare/doc/_bulk?pretty" -Method Post -ContentType 'application/x-ndjson' -InFile "shakespeare_6.0.json"
Invoke-RestMethod "http://localhost:9200/_bulk?pretty" -Method Post -ContentType 'application/x-ndjson' -InFile "logs.jsonl"</pre></div><p>These commands might take some time to execute, depending on the available computing resources.</p><p>Verify successful loading:</p><div xmlns="" class="pre_wrapper lang-js"><pre xmlns="http://www.w3.org/1999/xhtml" class="programlisting prettyprint lang-js">GET /_cat/indices?v</pre></div><div xmlns="" class="console_widget" data-snippet=":CONSOLE:"></div><p>Your output should look similar to this:</p><div xmlns="" class="pre_wrapper lang-shell"><pre xmlns="http://www.w3.org/1999/xhtml" class="programlisting prettyprint lang-shell">health status index               pri rep docs.count docs.deleted store.size pri.store.size
yellow open   bank                  5   1       1000            0    418.2kb        418.2kb
yellow open   shakespeare           5   1     111396            0     17.6mb         17.6mb
yellow open   logstash-2015.05.18   5   1       4631            0     15.6mb         15.6mb
yellow open   logstash-2015.05.19   5   1       4624            0     15.7mb         15.7mb
yellow open   logstash-2015.05.20   5   1       4750            0     16.4mb         16.4mb</pre></div></div></div><div xmlns="" class="navfooter"><span class="prev"><a href="tutorial-build-dashboard.html">
              « 
              Building your own dashboard</a>
           
        </span><span class="next">
           
          <a href="tutorial-define-index.html">Defining your index patterns
               »
            </a></span></div></body></html>