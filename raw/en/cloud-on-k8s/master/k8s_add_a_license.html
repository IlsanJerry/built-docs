<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Add a license | Elastic Cloud on Kubernetes [master] | Elastic</title>
<link rel="home" href="index.html" title="Elastic Cloud on Kubernetes [master]"/>
<link rel="up" href="k8s-licensing.html" title="Manage licenses in ECK"/>
<link rel="prev" href="k8s_start_a_trial.html" title="Start a trial"/>
<link rel="next" href="k8s_update_your_license.html" title="Update your license"/>
<meta name="DC.type" content="Learn/Docs/Kubernetes/Reference/master"/>
<meta name="DC.subject" content="ECK"/>
<meta name="DC.identifier" content="master"/>
</head>
<body><div class="page_header">
You are looking at preliminary documentation for a future release.
Not what you want? See the
<a href="../current/index.html">current release documentation</a>.
</div>
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="index.html">Elastic Cloud on Kubernetes [master]</a></span>
»
<span class="breadcrumb-link"><a href="k8s-operating-eck.html">Operating ECK</a></span>
»
<span class="breadcrumb-link"><a href="k8s-licensing.html">Manage licenses in ECK</a></span>
»
<span class="breadcrumb-node">Add a license</span>
</div>
<div class="navheader">
<span class="prev">
<a href="k8s_start_a_trial.html">« Start a trial</a>
</span>
<span class="next">
<a href="k8s_update_your_license.html">Update your license »</a>
</span>
</div>
<div class="section">
<div class="titlepage"><div><div>
<h2 class="title"><a id="k8s_add_a_license"></a>Add a license<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/cloud-on-k8s/edit/master/docs/operating-eck/licensing.asciidoc">edit</a></h2>
</div></div></div>
<p>If you have a valid Enterprise subscription you will receive a license as a JSON file.</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>Please note that ECK will only accept Enterprise licenses. You can not apply a single Platinum or Gold cluster license to ECK.</p>
</div>
</div>
<p>To add the license to your ECK installation, create a Kubernetes secret of the following form:</p>
<div class="pre_wrapper lang-yaml">
<pre class="programlisting prettyprint lang-yaml">apiVersion: v1
kind: Secret
metadata:
  labels:
    license.k8s.elastic.co/scope: operator <a id="CO2-1"></a><i class="conum" data-value="1"></i>
  name: eck-license
type: Opaque
data:
  license: "JSON license in base64 format"  <a id="CO2-2"></a><i class="conum" data-value="2"></i></pre>
</div>
<div class="calloutlist">
<table border="0" summary="Callout list">
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#CO2-1"><i class="conum" data-value="1"></i></a></p>
</td>
<td align="left" valign="top">
<p>This label is required for ECK to identify your license secret</p>
</td>
</tr>
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#CO2-2"><i class="conum" data-value="2"></i></a></p>
</td>
<td align="left" valign="top">
<p>The license file can have any name</p>
</td>
</tr>
</table>
</div>
<p>You can easily create this secret using <code class="literal">kubectl</code> 's built-in support for secrets.  Note that it must be in the same namespace as the operator:</p>
<div class="pre_wrapper lang-shell script">
<pre class="programlisting prettyprint lang-shell script">kubectl create secret generic eck-license --from-file=my-license-file.json -n elastic-system
kubectl label secret eck-license "license.k8s.elastic.co/scope"=operator -n elastic-system</pre>
</div>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>After you install a license into ECK, all the Elastic stack applications you manage with ECK will have all Platinum and Enterprise features enabled. Applications created before you installed the license are upgraded to Platinum or Enterprise features without interruption of service after a short delay.</p>
</div>
</div>
</div>
<div class="navfooter">
<span class="prev">
<a href="k8s_start_a_trial.html">« Start a trial</a>
</span>
<span class="next">
<a href="k8s_update_your_license.html">Update your license »</a>
</span>
</div>
</div>
</body>
</html>
