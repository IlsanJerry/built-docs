<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title xmlns="">Init containers for plugin downloads
        | Elastic Cloud on Kubernetes [0.9]
      | Elastic
    </title><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Elastic Cloud on Kubernetes [0.9]" /><link rel="up" href="k8s-elasticsearch-specification.html" title="Running Elasticsearch on ECK" /><link rel="prev" href="k8s-bundles-plugins.html" title="Custom configuration files and plugins" /><link rel="next" href="k8s-update-strategy.html" title="Update strategy" /><meta xmlns="" name="description" content="Get started with the documentation for Elasticsearch, Kibana, Logstash, Beats, X-Pack, Elastic Cloud, Elasticsearch for Apache Hadoop, and our language clients." /><meta xmlns="" name="DC.type" content="Learn/Docs/Kubernetes/Reference/0.9" /><meta xmlns="" name="DC.subject" content="ECK" /><meta xmlns="" name="DC.identifier" content="0.9" /></head><body><div xmlns="" class="page_header">You are looking at documentation for an alpha release. Not what you want? See <a href="https://www.elastic.co/elasticsearch-kubernetes">Deploy Elasticsearch & Kibana on Kubernetes</a> documentation.
</div><div xmlns="" class="breadcrumbs"><span class="breadcrumb-link"><a href="index.html">Elastic Cloud on Kubernetes
      [0.9]
    </a></span> » <span class="breadcrumb-link"><a href="k8s-elasticsearch-specification.html">Running Elasticsearch on ECK</a></span> » <span class="breadcrumb-node">Init containers for plugin downloads</span></div><div xmlns="" class="navheader"><span class="prev"><a href="k8s-bundles-plugins.html">
              « 
              Custom configuration files and plugins</a>
           
        </span><span class="next">
           
          <a href="k8s-update-strategy.html">Update strategy
               »
            </a></span></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="k8s-init-containers-plugin-downloads"></a>Init containers for plugin downloads<a xmlns="" href="https://github.com/elastic/cloud-on-k8s/edit/0.9/docs/elasticsearch-spec.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h2></div></div></div><p>You can install custom plugins before the Elasticsearch container starts with an <code class="literal">initContainer</code>. For example:</p><div xmlns="" class="pre_wrapper lang-yaml"><pre xmlns="http://www.w3.org/1999/xhtml" class="programlisting prettyprint lang-yaml">  - podTemplate:
      spec:
        initContainers:
        - name: install-plugins
          command:
          - sh
          - -c
          - |
            bin/elasticsearch-plugin install --batch repository-gcs</pre></div><p>You can also override the Elasticsearch container image to use your own image with the plugins already installed. The <a class="ulink" href="k8s-snapshot.html" target="_top">snapshots</a> doc has more information on both these options. The Kubernetes doc on <a class="ulink" href="https://kubernetes.io/docs/concepts/workloads/pods/init-containers/" target="_top">init containers</a> has more information on their usage as well.</p><p>The init container inherits the image of the main container image if one is not explicitly set. It also inherits the volume mounts as long as the name and mount path do not conflict. It also inherits the Pod name and IP address environment variables.</p></div><div xmlns="" class="navfooter"><span class="prev"><a href="k8s-bundles-plugins.html">
              « 
              Custom configuration files and plugins</a>
           
        </span><span class="next">
           
          <a href="k8s-update-strategy.html">Update strategy
               »
            </a></span></div></body></html>