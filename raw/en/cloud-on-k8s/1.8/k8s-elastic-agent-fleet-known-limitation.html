<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Known limitation | Elastic Cloud on Kubernetes [1.8] | Elastic</title>
<link rel="home" href="index.html" title="Elastic Cloud on Kubernetes [1.8]"/>
<link rel="up" href="k8s-elastic-agent-fleet.html" title="Run Fleet-managed Elastic Agent on ECK"/>
<link rel="prev" href="k8s-elastic-agent-fleet-configuration-examples.html" title="Configuration Examples"/>
<link rel="next" href="k8s-maps.html" title="Run Elastic Maps Server on ECK"/>
<meta name="DC.type" content="Learn/Docs/Kubernetes/Reference/1.8"/>
<meta name="DC.subject" content="ECK"/>
<meta name="DC.identifier" content="1.8"/>
</head>
<body><div class="page_header">
You are looking at preliminary documentation for a future release.
Not what you want? See the
<a href="../current/index.html">current release documentation</a>.
</div>
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="index.html">Elastic Cloud on Kubernetes [1.8]</a></span>
»
<span class="breadcrumb-link"><a href="k8s-orchestrating-elastic-stack-applications.html">Orchestrating Elastic Stack applications</a></span>
»
<span class="breadcrumb-link"><a href="k8s-elastic-agent-fleet.html">Run Fleet-managed Elastic Agent on ECK</a></span>
»
<span class="breadcrumb-node">Known limitation</span>
</div>
<div class="navheader">
<span class="prev">
<a href="k8s-elastic-agent-fleet-configuration-examples.html">« Configuration Examples</a>
</span>
<span class="next">
<a href="k8s-maps.html">Run Elastic Maps Server on ECK »</a>
</span>
</div>
<div class="section">
<div class="titlepage"><div><div>
<h2 class="title"><a id="k8s-elastic-agent-fleet-known-limitation"></a>Known limitation<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/cloud-on-k8s/edit/1.8/docs/orchestrating-elastic-stack-applications/agent-fleet.asciidoc">edit</a></h2>
</div></div></div>
<p>Elastic Agent in Fleet mode has to run with elevated privileges and in the same namespace as the Elasticsearch cluster it connects to.</p>
<p>Due to current configuration limitations on Fleet/Elastic Agent side, ECK needs to establish trust between Elastic Agents and Elasticsearch. ECK can fetch the required Elasticsearch CA correctly if both resources are in the same namespace.
To establish trust, the Pod needs to update the CA store via a call to <code class="literal">update-ca-trust</code> before Elastic Agent runs. To call it successfully, the Pod needs to run with elevated privileges.</p>
</div>
<div class="navfooter">
<span class="prev">
<a href="k8s-elastic-agent-fleet-configuration-examples.html">« Configuration Examples</a>
</span>
<span class="next">
<a href="k8s-maps.html">Run Elastic Maps Server on ECK »</a>
</span>
</div>
</div>
</body>
</html>
