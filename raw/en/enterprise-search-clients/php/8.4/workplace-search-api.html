<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Workplace Search API | enterprise-search-php [8.4] | Elastic</title>
<link rel="home" href="index.html" title="enterprise-search-php [8.4]"/>
<link rel="up" href="index.html" title="enterprise-search-php [8.4]"/>
<link rel="prev" href="app-search-api.html" title="App Search API"/>
<link rel="next" href="_search_documents.html" title="Search documents"/>
<meta name="DC.type" content="Learn/Docs/Enterprise Search Clients/PHP/8.4"/>
<meta name="DC.subject" content="Enterprise Search Clients"/>
<meta name="DC.identifier" content="8.4"/>
</head>
<body>
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span><span class="chevron-right">›</span>
<span class="breadcrumb-link"><a href="index.html">enterprise-search-php [8.4]</a></span>
</div>
<div class="navheader">
<span class="prev">
<a href="app-search-api.html">« App Search API</a>
</span>
<span class="next">
<a href="_search_documents.html">Search documents »</a>
</span>
</div>
<div class="chapter">
<div class="titlepage"><div><div>
<h1 class="title"><a id="workplace-search-api"></a>Workplace Search API<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/enterprise-search-php/edit/8.4/docs/guide/workplace-search-api.asciidoc">edit</a></h1>
</div></div></div>
<p>Here is reported a brief overview of the Workplace Search API. For more information please visit the Workplace Search <a href="/guide/en/workplace-search/8.4/workplace-search-api-overview.html" class="ulink" target="_top">API documentation</a>.</p>
<div class="section">
<div class="titlepage"><div><div>
<h2 class="title"><a id="_content_sources"></a>Content Sources<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/enterprise-search-php/edit/8.4/docs/guide/workplace-search-api.asciidoc">edit</a></h2>
</div></div></div>
<p>To store some document in Workplace Search you need to create a content source.
A content source is usually a third-party service like GitHub, Google Drive, or Dropbox.
You can also build your own connectors using Custom API sources, which allows you to create unique content repositories on the platform and send any data to Workplace Search via uniquely identifiable endpoints.</p>
<p>In the following example we create a custom <code class="literal">test</code> content source.</p>
<div class="pre_wrapper lang-php">
<pre class="programlisting prettyprint lang-php">use Elastic\EnterpriseSearch\Client;
use Elastic\EnterpriseSearch\WorkplaceSearch\Request;
use Elastic\EnterpriseSearch\WorkplaceSearch\Schema;

$client = new Client([
    'host' =&gt; 'http://localhost:3002',
    'workplace-search' =&gt; [
        'token' =&gt; '&lt;insert here the token&gt;'
        // or 'apiKey' =&gt; '&lt;insert here the API key&gt;'
    ]
]);
$workplace = $client-&gt;workplaceSearch();

// Create a custom content source
$content = new ContentSourceCreateDefinition('test');
$result = $workplace-&gt;createContentSource(
    new Request\CreateContentSource($content)
);
$sourceId = $result['id'] ?? null;</pre>
</div>
<p>We need to store the <code class="literal">sourceId</code> since it&#8217;s required to perform other operations, like index a document.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h2 class="title"><a id="_index_documents"></a>Index documents<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/enterprise-search-php/edit/8.4/docs/guide/workplace-search-api.asciidoc">edit</a></h2>
</div></div></div>
<p>To store a document in Workplace Search you need to perform an index operation.
You can add one or more document at time.</p>
<p>In the following example we store only one document. You can specify multiple documents using the array.</p>
<div class="pre_wrapper lang-php">
<pre class="programlisting prettyprint lang-php">// Index a document in content source $sourceId
$doc = new Schema\Document();
$doc-&gt;id = '1234';
$doc-&gt;title = "The Meaning of Time";
$doc-&gt;body = "Not much. It is a made up thing.";

$result = $workplace-&gt;indexDocuments(
    new Request\IndexDocuments($sourceId, [$doc])
);</pre>
</div>
</div>

</div>
<div class="navfooter">
<span class="prev">
<a href="app-search-api.html">« App Search API</a>
</span>
<span class="next">
<a href="_search_documents.html">Search documents »</a>
</span>
</div>
</div>
</body>
</html>
