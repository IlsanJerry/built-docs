<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Cases API | Elastic Endpoint Security [master] | Elastic</title>
<link rel="home" href="index.html" title="Elastic Endpoint Security [master]"/>
<link rel="up" href="siem-apis.html" title="SIEM APIs"/>
<link rel="prev" href="rule-api-overview.html" title="Detections API"/>
<link rel="next" href="actions-api-overview.html" title="Actions API (for pushing cases to external systems)"/>
<meta name="DC.type" content="Learn/Docs/Security/Guide/master"/>
<meta name="DC.subject" content="Security"/>
<meta name="DC.identifier" content="master"/>
</head>
<body><div class="page_header">
You are looking at preliminary documentation for a future release.
Not what you want? See the
<a href="../current/index.html">current release documentation</a>.
</div>
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="index.html">Elastic Endpoint Security [master]</a></span>
»
<span class="breadcrumb-link"><a href="siem-apis.html">SIEM APIs</a></span>
»
<span class="breadcrumb-node">Cases API</span>
</div>
<div class="navheader">
<span class="prev">
<a href="rule-api-overview.html">« Detections API</a>
</span>
<span class="next">
<a href="actions-api-overview.html">Actions API (for pushing cases to external systems) »</a>
</span>
</div>
<div class="section xpack">
<div class="titlepage"><div><div>
<h2 class="title"><a id="cases-api-overview"></a>Cases API<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/security-docs/edit/master/docs/siem/cases/api/cases-api/cases-api.asciidoc">edit</a><a class="xpack_tag" href="/subscriptions"></a></h2>
</div></div></div>
<div class="warning admon">
<div class="icon"></div>
<div class="admon_content">
<p>This functionality is in beta and is subject to change. The design and code is less mature than official GA features and is being provided as-is with no warranties. Beta features are not subject to the support SLA of official GA features.</p>
</div>
</div>
<p>You can create, manage, configure, and send cases to external systems with
these APIs:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Cases API: Used to open and manage security action items.
</li>
<li class="listitem">
Actions API: Used to send cases to external systems. <a class="xref" href="actions-api-overview.html#register-connector" title="Create connector">Create connector</a>
stores the data required to interface with third-party systems, and
<a class="xref" href="actions-api-overview.html#cases-actions-api-execute" title="Create or update an external incident">Create or update an external incident</a> sends SIEM cases to external systems.
</li>
</ul>
</div>
<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="cases-api-create"></a>Create case<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/security-docs/edit/master/docs/siem/cases/api/cases-api/cases-api-create.asciidoc">edit</a></h3>
</div></div></div>
<p>Creates a new case.</p>
<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="_request_url_20"></a>Request URL<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/security-docs/edit/master/docs/siem/cases/api/cases-api/cases-api-create.asciidoc">edit</a></h4>
</div></div></div>
<p><code class="literal">POST &lt;kibana host&gt;:&lt;port&gt;/api/cases</code></p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="_request_body_9"></a>Request body<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/security-docs/edit/master/docs/siem/cases/api/cases-api/cases-api-create.asciidoc">edit</a></h4>
</div></div></div>
<p>A JSON object with these fields:</p>
<div class="informaltable">
<table border="1" cellpadding="4px" width="100%">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
<col class="col_4"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Name</th>
<th align="left" valign="top">Type</th>
<th align="left" valign="top">Description</th>
<th align="left" valign="top">Required</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p><code class="literal">title</code></p></td>
<td align="left" valign="top"><p>String</p></td>
<td align="left" valign="top"><p>The case&#8217;s title.</p></td>
<td align="left" valign="top"><p>Yes</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">description</code></p></td>
<td align="left" valign="top"><p>String</p></td>
<td align="left" valign="top"><p>The case&#8217;s description.</p></td>
<td align="left" valign="top"><p>Yes</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">tags</code></p></td>
<td align="left" valign="top"><p>String[]</p></td>
<td align="left" valign="top"><p>String array containing words and phrases that help
categorize cases.</p></td>
<td align="left" valign="top"><p>Yes, can be an empty array.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section">
<div class="titlepage"><div><div>
<h5 class="title"><a id="_example_request_17"></a>Example request<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/security-docs/edit/master/docs/siem/cases/api/cases-api/cases-api-create.asciidoc">edit</a></h5>
</div></div></div>
<div class="pre_wrapper lang-kibana">
<pre class="programlisting prettyprint lang-kibana">POST api/cases
{
  "description": "James Bond clicked on a highly suspicious email
  banner advertising cheap holidays for underpaid civil servants.",
  "title": "This case will self-destruct in 5 seconds",
  "tags": [
    "phishing",
    "social engineering"
  ]
}</pre>
</div>
<div class="kibana_widget" data-snippet="snippets/25.kibana"></div>
</div>

</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="_response_code_20"></a>Response code<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/security-docs/edit/master/docs/siem/cases/api/cases-api/cases-api-create.asciidoc">edit</a></h4>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">200</code>
</span>
</dt>
<dd>
Indicates a successful call.
</dd>
</dl>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="_response_payload_12"></a>Response payload<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/security-docs/edit/master/docs/siem/cases/api/cases-api/cases-api-create.asciidoc">edit</a></h4>
</div></div></div>
<p>A JSON object that includes the user who created the case and the case&#8217;s ID,
version, and creation time.</p>
<div class="section">
<div class="titlepage"><div><div>
<h5 class="title"><a id="_example_response_3"></a>Example response<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/security-docs/edit/master/docs/siem/cases/api/cases-api/cases-api-create.asciidoc">edit</a></h5>
</div></div></div>
<div class="pre_wrapper lang-json">
<pre class="programlisting prettyprint lang-json">{
  "id": "66b9aa00-94fa-11ea-9f74-e7e108796192",
  "version": "WzUzMiwxXQ==",
  "comments": [],
  "totalComment": 0,
  "connector_id": "05da469f-1fde-4058-99a3-91e4807e2de8", <a id="CO6-1"></a><i class="conum" data-value="1"></i>
  "title": "This case will self-destruct in 5 seconds",
  "description": "James Bond clicked on a highly suspicious email banner advertising cheap holidays for underpaid civil servants. Operation bubblegum is active. Repeat - operation bubblegum is now active",
  "tags": [
    "phishing",
    "social engineering",
    "bubblegum"
  ],
  "closed_at": null,
  "closed_by": null,
  "created_at": "2020-05-13T09:16:17.416Z",
  "created_by": {
    "email": "ahunley@imf.usa.gov",
    "full_name": "Alan Hunley",
    "username": "ahunley"
  },
  "external_service": null, <a id="CO6-2"></a><i class="conum" data-value="2"></i>
  "status": "open",
  "updated_at": null,
  "updated_by": null
}</pre>
</div>
<div class="calloutlist">
<table border="0" summary="Callout list">
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#CO6-1"><i class="conum" data-value="1"></i></a></p>
</td>
<td align="left" valign="top">
<p>The default connector ID used to push cases to external services (see
<a class="xref" href="cases-api-overview.html#assign-connector" title="Set default SIEM UI connector">Set default SIEM UI connector</a>).</p>
</td>
</tr>
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#CO6-2"><i class="conum" data-value="2"></i></a></p>
</td>
<td align="left" valign="top">
<p>The <code class="literal">external_service</code> object stores information when the case is pushed to
external systems. For more information, see <a class="xref" href="actions-api-overview.html" title="Actions API (for pushing cases to external systems)">Actions API (for pushing cases to external systems)</a>.</p>
</td>
</tr>
</table>
</div>
</div>

</div>

</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="cases-api-add-comment"></a>Add comment<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/security-docs/edit/master/docs/siem/cases/api/cases-api/cases-api-add-comment.asciidoc">edit</a></h3>
</div></div></div>
<p>Adds a comment to an existing case.</p>
<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="_request_url_21"></a>Request URL<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/security-docs/edit/master/docs/siem/cases/api/cases-api/cases-api-add-comment.asciidoc">edit</a></h4>
</div></div></div>
<p><code class="literal">POST &lt;kibana host&gt;:&lt;port&gt;/api/cases/&lt;case ID&gt;/comments</code></p>
<div class="section">
<div class="titlepage"><div><div>
<h5 class="title"><a id="_url_parts"></a>URL parts<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/security-docs/edit/master/docs/siem/cases/api/cases-api/cases-api-add-comment.asciidoc">edit</a></h5>
</div></div></div>
<p>The URL must include the <code class="literal">case ID</code> of the case to which you are adding a
comment. Call <a class="xref" href="cases-api-overview.html#cases-api-find-cases" title="Find cases">Find cases</a> to retrieve case IDs.</p>
</div>

</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="_request_body_10"></a>Request body<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/security-docs/edit/master/docs/siem/cases/api/cases-api/cases-api-add-comment.asciidoc">edit</a></h4>
</div></div></div>
<p>A JSON object with a <code class="literal">comment</code> field:</p>
<div class="informaltable">
<table border="1" cellpadding="4px" width="100%">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
<col class="col_4"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Name</th>
<th align="left" valign="top">Type</th>
<th align="left" valign="top">Description</th>
<th align="left" valign="top">Required</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p><code class="literal">comment</code></p></td>
<td align="left" valign="top"><p>String</p></td>
<td align="left" valign="top"><p>The case&#8217;s new comment.</p></td>
<td align="left" valign="top"><p>Yes</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section">
<div class="titlepage"><div><div>
<h5 class="title"><a id="_example_request_18"></a>Example request<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/security-docs/edit/master/docs/siem/cases/api/cases-api/cases-api-add-comment.asciidoc">edit</a></h5>
</div></div></div>
<p>Adds a comment to case ID <code class="literal">293f1bc0-74f6-11ea-b83a-553aecdb28b6</code>:</p>
<div class="pre_wrapper lang-kibana">
<pre class="programlisting prettyprint lang-kibana">POST api/cases/293f1bc0-74f6-11ea-b83a-553aecdb28b6/comments
{
  "comment": "That is nothing - Ethan Hunt answered a targeted social
  media campaign promoting phishy pension schemes to IMF operatives."
}</pre>
</div>
<div class="kibana_widget" data-snippet="snippets/26.kibana"></div>
</div>

</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="_response_code_21"></a>Response code<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/security-docs/edit/master/docs/siem/cases/api/cases-api/cases-api-add-comment.asciidoc">edit</a></h4>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">200</code>
</span>
</dt>
<dd>
Indicates a successful call.
</dd>
</dl>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="_response_payload_13"></a>Response payload<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/security-docs/edit/master/docs/siem/cases/api/cases-api/cases-api-add-comment.asciidoc">edit</a></h4>
</div></div></div>
<p>The updated JSON case object with the new comment, the user who created the
comment, and the comment&#8217;s ID, version, and creation time.</p>
<div class="section">
<div class="titlepage"><div><div>
<h5 class="title"><a id="_example_response_4"></a>Example response<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/security-docs/edit/master/docs/siem/cases/api/cases-api/cases-api-add-comment.asciidoc">edit</a></h5>
</div></div></div>
<div class="pre_wrapper lang-json">
<pre class="programlisting prettyprint lang-json">  "id": "293f1bc0-74f6-11ea-b83a-553aecdb28b6",
  "version": "WzIwNDMyLDFd",
  "comments": [
    {
      "id": "8af6ac20-74f6-11ea-b83a-553aecdb28b6",
      "version": "WzIwNDMxLDFd",
      "comment": "That is nothing - Ethan Hunt answered a targeted social media campaign promoting phishy pension schemes to IMF operatives.",
      "created_at": "2020-04-02T15:28:03.034Z",
      "created_by": {
        "email": "moneypenny@hms.gov.uk",
        "full_name": "Ms Moneypenny",
        "username": "moneypenny"
      },
      "pushed_at": null,
      "pushed_by": null,
      "updated_at": null,
      "updated_by": null
    }
  ],
  "totalComment": 0,
  "title": "This case will self-destruct in 5 seconds",
  "tags": [
    "phishing",
    "social engineering"
  ],
  "description": "James Bond clicked on a highly suspicious email banner advertising cheap holidays for underpaid civil servants.",
  "closed_at": null,
  "closed_by": null,
  "created_at": "2020-04-02T15:25:19.088Z",
  "created_by": {
    "email": "ahunley@imf.usa.gov",
    "full_name": "Alan Hunley",
    "username": "ahunley"
  },
  "external_service": null,
  "status": "open",
  "updated_at": "2020-04-02T15:28:03.034Z",
  "updated_by": {
    "email": "moneypenny@hms.gov.uk",
    "full_name": "Ms Moneypenny",
    "username": "moneypenny"
  }
}</pre>
</div>
</div>

</div>

</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="cases-api-update"></a>Update case<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/security-docs/edit/master/docs/siem/cases/api/cases-api/cases-api-update.asciidoc">edit</a></h3>
</div></div></div>
<p>Updates existing cases.</p>
<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="_request_url_22"></a>Request URL<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/security-docs/edit/master/docs/siem/cases/api/cases-api/cases-api-update.asciidoc">edit</a></h4>
</div></div></div>
<p><code class="literal">PATCH &lt;kibana host&gt;:&lt;port&gt;/api/cases</code></p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="_request_body_11"></a>Request body<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/security-docs/edit/master/docs/siem/cases/api/cases-api/cases-api-update.asciidoc">edit</a></h4>
</div></div></div>
<p>A JSON array containing one or more case objects with updated field values:</p>
<div class="informaltable">
<table border="1" cellpadding="4px" width="100%">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
<col class="col_4"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Name</th>
<th align="left" valign="top">Type</th>
<th align="left" valign="top">Description</th>
<th align="left" valign="top">Required</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p><code class="literal">cases</code></p></td>
<td align="left" valign="top"><p><a class="xref" href="cases-api-overview.html#update-cases-schema" title="cases schema">cases[]</a></p></td>
<td align="left" valign="top"><p>Array containing one or more case objects.</p></td>
<td align="left" valign="top"><p>Yes</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section">
<div class="titlepage"><div><div>
<h5 class="title"><a id="update-cases-schema"></a><code class="literal">cases</code> schema<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/security-docs/edit/master/docs/siem/cases/api/cases-api/cases-api-update.asciidoc">edit</a></h5>
</div></div></div>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
<col class="col_4"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Name</th>
<th align="left" valign="top">Type</th>
<th align="left" valign="top">Description</th>
<th align="left" valign="top">Required</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p><code class="literal">id</code></p></td>
<td align="left" valign="top"><p>String</p></td>
<td align="left" valign="top"><p>The ID of the case being updated.</p></td>
<td align="left" valign="top"><p>Yes</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">title</code></p></td>
<td align="left" valign="top"><p>String</p></td>
<td align="left" valign="top"><p>The updated case title.</p></td>
<td align="left" valign="top"><p>No</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">connector_id</code></p></td>
<td align="left" valign="top"><p>String</p></td>
<td align="left" valign="top"><p>ID of the <a class="xref" href="actions-api-overview.html" title="Actions API (for pushing cases to external systems)">connector</a>
used for pushing case updates to external systems (returned when calling
<a class="xref" href="cases-api-overview.html#cases-api-find-connectors" title="Find connectors">Find connectors</a>).</p></td>
<td align="left" valign="top"><p>No</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">description</code></p></td>
<td align="left" valign="top"><p>String</p></td>
<td align="left" valign="top"><p>The updated case description.</p></td>
<td align="left" valign="top"><p>No</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">status</code></p></td>
<td align="left" valign="top"><p>String</p></td>
<td align="left" valign="top">
<p>The updated case status, which can be:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<code class="literal">open</code>
</li>
<li class="listitem">
<code class="literal">closed</code>
</li>
</ul>
</div>
</td>
<td align="left" valign="top"><p>No</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">tags</code></p></td>
<td align="left" valign="top"><p>String[]</p></td>
<td align="left" valign="top"><p>The updated case tags.</p></td>
<td align="left" valign="top"><p>No</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">version</code></p></td>
<td align="left" valign="top"><p>String</p></td>
<td align="left" valign="top"><p>The current case version (returned when calling
<a class="xref" href="cases-api-overview.html#cases-api-get-case" title="Get case">Get case</a> or <a class="xref" href="cases-api-overview.html#cases-api-find-cases" title="Find cases">Find cases</a>).</p></td>
<td align="left" valign="top"><p>Yes</p></td>
</tr>
</tbody>
</table>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h5 class="title"><a id="_example_request_19"></a>Example request<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/security-docs/edit/master/docs/siem/cases/api/cases-api/cases-api-update.asciidoc">edit</a></h5>
</div></div></div>
<p>Updates the description, tags, and connector of case ID
<code class="literal">a18b38a0-71b0-11ea-a0b2-c51ea50a58e2</code>:</p>
<div class="pre_wrapper lang-kibana">
<pre class="programlisting prettyprint lang-kibana">PATCH api/cases
{
  "cases": [
    {
      "connector_id": "5b347c7b-6925-4452-a4dd-215550294ba2",
      "id": "a18b38a0-71b0-11ea-a0b2-c51ea50a58e2",
      "description": "James Bond clicked on a highly suspicious email
      banner advertising cheap holidays for underpaid civil servants.
      Operation bubblegum is active. Repeat - operation bubblegum is
      now active!",
      "tags": [
        "phishing",
        "social engineering",
        "bubblegum"
      ],
      "version": "WzIzLDFd"
    }
  ]
}</pre>
</div>
<div class="kibana_widget" data-snippet="snippets/27.kibana"></div>
</div>

</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="_response_code_22"></a>Response code<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/security-docs/edit/master/docs/siem/cases/api/cases-api/cases-api-update.asciidoc">edit</a></h4>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">200</code>
</span>
</dt>
<dd>
Indicates a successful call.
</dd>
</dl>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="_response_payload_14"></a>Response payload<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/security-docs/edit/master/docs/siem/cases/api/cases-api/cases-api-update.asciidoc">edit</a></h4>
</div></div></div>
<p>The updated case with a new <code class="literal">version</code> value.</p>
<div class="section">
<div class="titlepage"><div><div>
<h5 class="title"><a id="_example_response_5"></a>Example response<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/security-docs/edit/master/docs/siem/cases/api/cases-api/cases-api-update.asciidoc">edit</a></h5>
</div></div></div>
<div class="pre_wrapper lang-json">
<pre class="programlisting prettyprint lang-json">[
  {
    "id": "66b9aa00-94fa-11ea-9f74-e7e108796192",
    "version": "WzU0OCwxXQ==",
    "comments": [],
    "totalComment": 0,
    "connector_id": "5b347c7b-6925-4452-a4dd-215550294ba2",
    "title": "This case will self-destruct in 5 seconds",
    "description": "James Bond clicked on a highly suspicious email banner advertising cheap holidays for underpaid civil servants. Operation bubblegum is active. Repeat - operation bubblegum is now active!",
    "tags": [
      "phishing",
      "social engineering",
      "bubblegum"
    ],
    "closed_at": null,
    "closed_by": null,
    "created_at": "2020-05-13T09:16:17.416Z",
    "created_by": {
      "email": "ahunley@imf.usa.gov",
      "full_name": "Alan Hunley",
      "username": "ahunley"
    },
    "external_service": {
      "external_title": "IS-4",
      "pushed_by": {
        "full_name": "Classified",
        "email": "classified@hms.oo.gov.uk",
        "username": "M"
      },
      "external_url": "https://hms.atlassian.net/browse/IS-4",
      "pushed_at": "2020-05-13T09:20:40.672Z",
      "connector_id": "05da469f-1fde-4058-99a3-91e4807e2de8",
      "external_id": "10003",
      "connector_name": "Jira"
    },
    "status": "open",
    "updated_at": "2020-05-13T09:48:33.043Z",
    "updated_by": {
      "email": "classified@hms.oo.gov.uk",
      "full_name": "Classified",
      "username": "M"
    }
  }
]</pre>
</div>
</div>

</div>

</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="cases-api-update-comment"></a>Update comment<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/security-docs/edit/master/docs/siem/cases/api/cases-api/cases-api-update-comment.asciidoc">edit</a></h3>
</div></div></div>
<p>Updates an existing comment.</p>
<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="_request_url_23"></a>Request URL<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/security-docs/edit/master/docs/siem/cases/api/cases-api/cases-api-update-comment.asciidoc">edit</a></h4>
</div></div></div>
<p><code class="literal">PATCH &lt;kibana host&gt;:&lt;port&gt;/api/cases/&lt;case ID&gt;/comments</code></p>
<div class="section">
<div class="titlepage"><div><div>
<h5 class="title"><a id="_url_parts_2"></a>URL parts<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/security-docs/edit/master/docs/siem/cases/api/cases-api/cases-api-update-comment.asciidoc">edit</a></h5>
</div></div></div>
<p>The URL must include the <code class="literal">case ID</code> of the comment&#8217;s associated case. Call
<a class="xref" href="cases-api-overview.html#cases-api-find-cases" title="Find cases">Find cases</a> to retrieve case IDs.</p>
</div>

</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="_request_body_12"></a>Request body<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/security-docs/edit/master/docs/siem/cases/api/cases-api/cases-api-update-comment.asciidoc">edit</a></h4>
</div></div></div>
<p>A JSON object with the updated comment:</p>
<div class="informaltable">
<table border="1" cellpadding="4px" width="100%">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
<col class="col_4"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Name</th>
<th align="left" valign="top">Type</th>
<th align="left" valign="top">Description</th>
<th align="left" valign="top">Required</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p><code class="literal">comment</code></p></td>
<td align="left" valign="top"><p>String</p></td>
<td align="left" valign="top"><p>The updated comment.</p></td>
<td align="left" valign="top"><p>Yes</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">id</code></p></td>
<td align="left" valign="top"><p>String</p></td>
<td align="left" valign="top"><p>The comment&#8217;s ID.</p></td>
<td align="left" valign="top"><p>Yes</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">version</code></p></td>
<td align="left" valign="top"><p>String</p></td>
<td align="left" valign="top"><p>The current comment version.</p></td>
<td align="left" valign="top"><p>Yes</p></td>
</tr>
</tbody>
</table>
</div>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>Call <a class="xref" href="cases-api-overview.html#cases-api-get-all-case-comments" title="Get all case comments">Get all case comments</a> to retrieve comment IDs and
version values.</p>
</div>
</div>
<div class="section">
<div class="titlepage"><div><div>
<h5 class="title"><a id="_example_request_20"></a>Example request<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/security-docs/edit/master/docs/siem/cases/api/cases-api/cases-api-update-comment.asciidoc">edit</a></h5>
</div></div></div>
<p>Updates comment ID <code class="literal">8af6ac20-74f6-11ea-b83a-553aecdb28b6</code> (associated with case
ID <code class="literal">293f1bc0-74f6-11ea-b83a-553aecdb28b6</code>):</p>
<div class="pre_wrapper lang-kibana">
<pre class="programlisting prettyprint lang-kibana">PATCH api/cases/293f1bc0-74f6-11ea-b83a-553aecdb28b6/comments
{
  "id": "8af6ac20-74f6-11ea-b83a-553aecdb28b6",
  "comment": "That is nothing - Ethan Hunt answered a targeted social
  media campaign promoting phishy pension schemes to IMF operatives.
  Even worse, he likes baked beans.",
  "version": "Wzk1LDFd"
}</pre>
</div>
<div class="kibana_widget" data-snippet="snippets/28.kibana"></div>
</div>

</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="_response_code_23"></a>Response code<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/security-docs/edit/master/docs/siem/cases/api/cases-api/cases-api-update-comment.asciidoc">edit</a></h4>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">200</code>
</span>
</dt>
<dd>
Indicates a successful call.
</dd>
</dl>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="_response_payload_15"></a>Response payload<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/security-docs/edit/master/docs/siem/cases/api/cases-api/cases-api-update-comment.asciidoc">edit</a></h4>
</div></div></div>
<p>The updated JSON case object with the updated comment, the user who updated the
comment, and the comment&#8217;s ID, version, and update time.</p>
<div class="section">
<div class="titlepage"><div><div>
<h5 class="title"><a id="_example_response_6"></a>Example response<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/security-docs/edit/master/docs/siem/cases/api/cases-api/cases-api-update-comment.asciidoc">edit</a></h5>
</div></div></div>
<div class="pre_wrapper lang-json">
<pre class="programlisting prettyprint lang-json">{
  "id": "293f1bc0-74f6-11ea-b83a-553aecdb28b6",
  "version": "WzIwNjM2LDFd",
  "comments": [
    {
      "id": "8af6ac20-74f6-11ea-b83a-553aecdb28b6",
      "version": "WzIwNjM3LDFd",
      "comment": "That is nothing - Ethan Hunt answered a targeted social media campaign promoting phishy pension schemes to IMF operatives.",
      "created_at": "2020-04-02T15:28:03.034Z",
      "created_by": {
        "email": "moneypenny@hms.gov.uk",
        "full_name": "Ms Moneypenny",
        "username": "moneypenny"
      },
      "pushed_at": null,
      "pushed_by": null,
      "updated_at": "2020-04-02T15:34:01.118Z",
      "updated_by": {
        "email": "jbond@hms.gov.uk",
        "full_name": "James Bond",
        "username": "_007"
      }
    }
  ],
  "totalComment": 0,
  "title": "This case will self-destruct in 5 seconds",
  "tags": [
    "phishing",
    "social engineering"
  ],
  "description": "James Bond clicked on a highly suspicious email banner advertising cheap holidays for underpaid civil servants.",
  "closed_at": null,
  "closed_by": null,
  "created_at": "2020-04-02T15:25:19.088Z",
  "created_by": {
    "email": "ahunley@imf.usa.gov",
    "full_name": "Alan Hunley",
    "username": "ahunley"
  },
  "external_service": null,
  "status": "open",
  "updated_at": "2020-04-02T15:34:01.118Z",
  "updated_by": {
    "email": "jbond@hms.gov.uk",
    "full_name": "James Bond",
    "username": "_007"
  }
}</pre>
</div>
</div>

</div>

</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="cases-api-find-cases"></a>Find cases<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/security-docs/edit/master/docs/siem/cases/api/cases-api/cases-api-find-cases.asciidoc">edit</a></h3>
</div></div></div>
<p>Retrieves a paginated subset of cases. By default, the first page is returned
with 20 results per page.</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>Cases are saved objects. See
<a href="/guide/en/kibana/master/saved-objects-api-find.html" class="ulink" target="_top">Find objects API</a> for more query
parameters.</p>
</div>
</div>
<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="_request_url_24"></a>Request URL<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/security-docs/edit/master/docs/siem/cases/api/cases-api/cases-api-find-cases.asciidoc">edit</a></h4>
</div></div></div>
<p><code class="literal">GET &lt;kibana host&gt;:&lt;port&gt;/api/cases/_find</code></p>
<div class="section">
<div class="titlepage"><div><div>
<h5 class="title"><a id="_url_query_parameters_6"></a>URL query parameters<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/security-docs/edit/master/docs/siem/cases/api/cases-api/cases-api-find-cases.asciidoc">edit</a></h5>
</div></div></div>
<p>All parameters are optional:</p>
<div class="informaltable">
<table border="1" cellpadding="4px" width="100%">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Name</th>
<th align="left" valign="top">Type</th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p><code class="literal">page</code></p></td>
<td align="left" valign="top"><p>Integer</p></td>
<td align="left" valign="top"><p>The page number to return.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">perPage</code></p></td>
<td align="left" valign="top"><p>Integer</p></td>
<td align="left" valign="top"><p>The number of rules to return per page.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">sortField</code></p></td>
<td align="left" valign="top"><p>String</p></td>
<td align="left" valign="top"><p>Determines which field is used to sort the results,
<code class="literal">createdAt</code> or <code class="literal">updatedAt</code>.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">sortOrder</code></p></td>
<td align="left" valign="top"><p>String</p></td>
<td align="left" valign="top"><p>Determines the sort order, which can be <code class="literal">desc</code> or <code class="literal">asc</code>.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">status</code></p></td>
<td align="left" valign="top"><p>String</p></td>
<td align="left" valign="top"><p>Filters the returned cases by state, which can be <code class="literal">open</code> or
<code class="literal">closed</code>.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">tags</code></p></td>
<td align="left" valign="top"><p>String</p></td>
<td align="left" valign="top"><p>Filters the returned cases by tags.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">reporters</code></p></td>
<td align="left" valign="top"><p>String</p></td>
<td align="left" valign="top"><p>Filters the returned cases by the reporter&#8217;s <code class="literal">username</code>.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>Even though the JSON case object uses <code class="literal">created_at</code> and <code class="literal">updated_at</code>
fields, you must use <code class="literal">createdAt</code> and <code class="literal">updatedAt</code> fields in the URL
query.</p>
</div>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h5 class="title"><a id="_example_request_21"></a>Example request<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/security-docs/edit/master/docs/siem/cases/api/cases-api/cases-api-find-cases.asciidoc">edit</a></h5>
</div></div></div>
<p>Retrieves the first five cases with the <code class="literal">phishing</code> tag, in ascending order by
last update time.</p>
<div class="pre_wrapper lang-kibana">
<pre class="programlisting prettyprint lang-kibana">GET api/cases/_find?page=1&amp;perPage=5&amp;sortField=updatedAt&amp;sortOrder=asc&amp;tags=phishing</pre>
</div>
<div class="kibana_widget" data-snippet="snippets/29.kibana"></div>
</div>

</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="_response_code_24"></a>Response code<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/security-docs/edit/master/docs/siem/cases/api/cases-api/cases-api-find-cases.asciidoc">edit</a></h4>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">200</code>
</span>
</dt>
<dd>
Indicates a successful call.
</dd>
</dl>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="_response_payload_16"></a>Response payload<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/security-docs/edit/master/docs/siem/cases/api/cases-api/cases-api-find-cases.asciidoc">edit</a></h4>
</div></div></div>
<p>A JSON object listing the retrieved cases.</p>
<div class="section">
<div class="titlepage"><div><div>
<h5 class="title"><a id="_response_example"></a>Response example<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/security-docs/edit/master/docs/siem/cases/api/cases-api/cases-api-find-cases.asciidoc">edit</a></h5>
</div></div></div>
<div class="pre_wrapper lang-json">
<pre class="programlisting prettyprint lang-json">{
  "page": 1,
  "per_page": 5,
  "total": 2,
  "cases": [
    {
      "id": "abed3a70-71bd-11ea-a0b2-c51ea50a58e2",
      "version": "WzExMCwxXQ==",
      "comments": [],
      "totalComment": 0,
      "closed_at": null,
      "closed_by": null,
      "created_at": "2020-03-29T13:03:23.533Z",
      "created_by": {
        "email": "rhustler@aol.com",
        "full_name": "Rat Hustler",
        "username": "rhustler"
      },
      "external_service": null,
      "updated_at": null,
      "updated_by": null,
      "title": "The Long Game",
      "tags": [
        "windows",
        "phishing"
      ],
      "description": "Windows 95",
      "status": "open"
    },
    {
      "id": "a18b38a0-71b0-11ea-a0b2-c51ea50a58e2",
      "version": "Wzk4LDFd",
      "comments": [],
      "totalComment": 1,
      "closed_at": null,
      "closed_by": null,
      "created_at": "2020-03-29T11:30:02.658Z",
      "created_by": {
        "email": "ahunley@imf.usa.gov",
        "full_name": "Alan Hunley",
        "username": "ahunley"
      },
      "external_service": null,
      "updated_at": "2020-03-29T12:01:50.244Z",
      "updated_by": {
        "full_name": "Classified",
        "email": "classified@hms.oo.gov.uk",
        "username": "M"
      },
      "description": "James Bond clicked on a highly suspicious email banner advertising cheap holidays for underpaid civil servants. Operation bubblegum is active. Repeat - operation bubblegum is now active!",
      "title": "This case will self-destruct in 5 seconds",
      "status": "open",
      "tags": [
        "phishing",
        "social engineering",
        "bubblegum"
      ]
    }
  ],
  "count_open_cases": 2,
  "count_closed_cases": 0
}</pre>
</div>
</div>

</div>

</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="cases-api-get-case"></a>Get case<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/security-docs/edit/master/docs/siem/cases/api/cases-api/cases-api-get-case.asciidoc">edit</a></h3>
</div></div></div>
<p>Returns the specified case.</p>
<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="_request_url_25"></a>Request URL<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/security-docs/edit/master/docs/siem/cases/api/cases-api/cases-api-get-case.asciidoc">edit</a></h4>
</div></div></div>
<p><code class="literal">GET &lt;kibana host&gt;:&lt;port&gt;/api/cases/&lt;case ID&gt;</code></p>
<div class="section">
<div class="titlepage"><div><div>
<h5 class="title"><a id="_url_parts_3"></a>URL parts<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/security-docs/edit/master/docs/siem/cases/api/cases-api/cases-api-get-case.asciidoc">edit</a></h5>
</div></div></div>
<p>The URL must include the <code class="literal">case ID</code> of the case you are retrieving. Call
<a class="xref" href="cases-api-overview.html#cases-api-find-cases" title="Find cases">Find cases</a> to retrieve case IDs.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h5 class="title"><a id="_url_query_parameters_7"></a>URL query parameters<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/security-docs/edit/master/docs/siem/cases/api/cases-api/cases-api-get-case.asciidoc">edit</a></h5>
</div></div></div>
<div class="informaltable">
<table border="1" cellpadding="4px" width="100%">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
<col class="col_4"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Name</th>
<th align="left" valign="top">Type</th>
<th align="left" valign="top">Description</th>
<th align="left" valign="top">Required</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p><code class="literal">includeComments</code></p></td>
<td align="left" valign="top"><p>Boolean</p></td>
<td align="left" valign="top"><p>Determines whether case comments are
returned.</p></td>
<td align="left" valign="top"><p>No, defaults to <code class="literal">true</code>.</p></td>
</tr>
</tbody>
</table>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h5 class="title"><a id="_example_request_22"></a>Example request<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/security-docs/edit/master/docs/siem/cases/api/cases-api/cases-api-get-case.asciidoc">edit</a></h5>
</div></div></div>
<p>Returns case ID <code class="literal">a18b38a0-71b0-11ea-a0b2-c51ea50a58e2</code> without comments:</p>
<div class="pre_wrapper lang-kibana">
<pre class="programlisting prettyprint lang-kibana">GET api/cases/a18b38a0-71b0-11ea-a0b2-c51ea50a58e2?includeComments=false</pre>
</div>
<div class="kibana_widget" data-snippet="snippets/30.kibana"></div>
</div>

</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="_response_code_25"></a>Response code<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/security-docs/edit/master/docs/siem/cases/api/cases-api/cases-api-get-case.asciidoc">edit</a></h4>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">200</code>
</span>
</dt>
<dd>
Indicates a successful call.
</dd>
</dl>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="_response_payload_17"></a>Response payload<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/security-docs/edit/master/docs/siem/cases/api/cases-api/cases-api-get-case.asciidoc">edit</a></h4>
</div></div></div>
<p>The requested case JSON object.</p>
<div class="section">
<div class="titlepage"><div><div>
<h5 class="title"><a id="_response_example_2"></a>Response example<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/security-docs/edit/master/docs/siem/cases/api/cases-api/cases-api-get-case.asciidoc">edit</a></h5>
</div></div></div>
<div class="pre_wrapper lang-json">
<pre class="programlisting prettyprint lang-json">{
  "id": "a18b38a0-71b0-11ea-a0b2-c51ea50a58e2",
  "version": "Wzk4LDFd",
  "comments": [],
  "totalComment": 0,
  "closed_at": null,
  "closed_by": null,
  "created_at": "2020-03-29T11:30:02.658Z",
  "created_by": {
    "email": "ahunley@imf.usa.gov",
    "full_name": "Alan Hunley",
    "username": "ahunley"
  },
  "external_service": null,
  "updated_at": "2020-03-29T12:01:50.244Z",
  "updated_by": {
    "full_name": "Classified",
    "email": "classified@hms.oo.gov.uk",
    "username": "M"
  },
  "description": "James Bond clicked on a highly suspicious email banner advertising cheap holidays for underpaid civil servants. Operation bubblegum is active. Repeat - operation bubblegum is now active!",
  "title": "This case will self-destruct in 5 seconds",
  "status": "open",
  "tags": [
    "phishing",
    "social engineering",
    "bubblegum"
  ]
}</pre>
</div>
</div>

</div>

</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="cases-api-get-all-case-comments"></a>Get all case comments<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/security-docs/edit/master/docs/siem/cases/api/cases-api/cases-api-get-case-comments.asciidoc">edit</a></h3>
</div></div></div>
<p>Returns all comments for the specified case.</p>
<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="_request_url_26"></a>Request URL<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/security-docs/edit/master/docs/siem/cases/api/cases-api/cases-api-get-case-comments.asciidoc">edit</a></h4>
</div></div></div>
<p><code class="literal">GET &lt;kibana host&gt;:&lt;port&gt;/api/cases/&lt;case ID&gt;/comments</code></p>
<div class="section">
<div class="titlepage"><div><div>
<h5 class="title"><a id="_url_parts_4"></a>URL parts<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/security-docs/edit/master/docs/siem/cases/api/cases-api/cases-api-get-case-comments.asciidoc">edit</a></h5>
</div></div></div>
<p>The URL must include the <code class="literal">case ID</code> of the case for which you are retrieving
comments. Call <a class="xref" href="cases-api-overview.html#cases-api-find-cases" title="Find cases">Find cases</a> to retrieve case IDs.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h5 class="title"><a id="_example_request_23"></a>Example request<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/security-docs/edit/master/docs/siem/cases/api/cases-api/cases-api-get-case-comments.asciidoc">edit</a></h5>
</div></div></div>
<p>Gets all comments for case ID <code class="literal">a18b38a0-71b0-11ea-a0b2-c51ea50a58e2</code>:</p>
<div class="pre_wrapper lang-kibana">
<pre class="programlisting prettyprint lang-kibana">GET api/cases/a18b38a0-71b0-11ea-a0b2-c51ea50a58e2/comments</pre>
</div>
<div class="kibana_widget" data-snippet="snippets/31.kibana"></div>
</div>

</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="_response_code_26"></a>Response code<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/security-docs/edit/master/docs/siem/cases/api/cases-api/cases-api-get-case-comments.asciidoc">edit</a></h4>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">200</code>
</span>
</dt>
<dd>
Indicates a successful call.
</dd>
</dl>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="_response_payload_18"></a>Response payload<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/security-docs/edit/master/docs/siem/cases/api/cases-api/cases-api-get-case-comments.asciidoc">edit</a></h4>
</div></div></div>
<p>A JSON array containing all comments for the specified case.</p>
<div class="section">
<div class="titlepage"><div><div>
<h5 class="title"><a id="_response_example_3"></a>Response example<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/security-docs/edit/master/docs/siem/cases/api/cases-api/cases-api-get-case-comments.asciidoc">edit</a></h5>
</div></div></div>
<div class="pre_wrapper lang-json">
<pre class="programlisting prettyprint lang-json">[
  {
    "id": "c6f0dca0-71b3-11ea-a0b2-c51ea50a58e2",
    "version": "WzEwNSwxXQ==",
    "comment": "That is nothing - Ethan Hunt answered a targeted social media campaign promoting phishy pension schemes to IMF operatives. Even worse, he likes baked beans.",
    "created_at": "2020-03-29T11:52:33.889Z",
    "created_by": {
      "email": "moneypenny@hms.gov.uk",
      "full_name": "Ms Moneypenny",
      "username": "moneypenny"
    },
    "pushed_at": null,
    "pushed_by": null,
    "updated_at": "2020-03-29T12:14:32.997Z",
    "updated_by": {
      "email": "jbond@hms.gov.uk",
      "full_name": "James Bond",
      "username": "_007"
    }
  },
  {
    "id": "71ec1870-725b-11ea-a0b2-c51ea50a58e2",
    "version": "WzEyOCwxXQ==",
    "comment": "Start operation bubblegum immediately! And chew fast!",
    "created_at": "2020-03-30T07:52:46.702Z",
    "created_by": {
      "email": "classified@hms.oo.gov.uk",
      "full_name": "Classified",
      "username": "M"
    },
    "pushed_at": null,
    "pushed_by": null,
    "updated_at": null,
    "updated_by": null
  }
]</pre>
</div>
</div>

</div>

</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="cases-api-get-comment"></a>Get comment<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/security-docs/edit/master/docs/siem/cases/api/cases-api/cases-api-get-comment.asciidoc">edit</a></h3>
</div></div></div>
<p>Gets the specified comment.</p>
<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="_request_url_27"></a>Request URL<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/security-docs/edit/master/docs/siem/cases/api/cases-api/cases-api-get-comment.asciidoc">edit</a></h4>
</div></div></div>
<p><code class="literal">GET &lt;kibana host&gt;:&lt;port&gt;/api/cases/&lt;case ID&gt;/comments/&lt;comment ID&gt;</code></p>
<div class="section">
<div class="titlepage"><div><div>
<h5 class="title"><a id="_url_parts_5"></a>URL parts<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/security-docs/edit/master/docs/siem/cases/api/cases-api/cases-api-get-comment.asciidoc">edit</a></h5>
</div></div></div>
<p>The URL must include:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
the <code class="literal">case ID</code> of the comment’s associated case (call <a class="xref" href="cases-api-overview.html#cases-api-find-cases" title="Find cases">Find cases</a>
to retrieve case IDs).
</li>
<li class="listitem">
the <code class="literal">comment ID</code> of the comment you are retrieving (call
<a class="xref" href="cases-api-overview.html#cases-api-get-all-case-comments" title="Get all case comments">Get all case comments</a> to retrieve comment IDs).
</li>
</ul>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h5 class="title"><a id="_example_request_24"></a>Example request<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/security-docs/edit/master/docs/siem/cases/api/cases-api/cases-api-get-comment.asciidoc">edit</a></h5>
</div></div></div>
<p>Retrieves comment ID <code class="literal">71ec1870-725b-11ea-a0b2-c51ea50a58e2</code> from case ID
<code class="literal">a18b38a0-71b0-11ea-a0b2-c51ea50a58e2</code>:</p>
<div class="pre_wrapper lang-kibana">
<pre class="programlisting prettyprint lang-kibana">GET api/cases/a18b38a0-71b0-11ea-a0b2-c51ea50a58e2/comments/71ec1870-725b-11ea-a0b2-c51ea50a58e2</pre>
</div>
<div class="kibana_widget" data-snippet="snippets/32.kibana"></div>
</div>

</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="_response_code_27"></a>Response code<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/security-docs/edit/master/docs/siem/cases/api/cases-api/cases-api-get-comment.asciidoc">edit</a></h4>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">200</code>
</span>
</dt>
<dd>
Indicates a successful call.
</dd>
</dl>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="_response_payload_19"></a>Response payload<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/security-docs/edit/master/docs/siem/cases/api/cases-api/cases-api-get-comment.asciidoc">edit</a></h4>
</div></div></div>
<p>The requested comment JSON object.</p>
<div class="section">
<div class="titlepage"><div><div>
<h5 class="title"><a id="_example_response_7"></a>Example response<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/security-docs/edit/master/docs/siem/cases/api/cases-api/cases-api-get-comment.asciidoc">edit</a></h5>
</div></div></div>
<div class="pre_wrapper lang-json">
<pre class="programlisting prettyprint lang-json">{
  "id": "71ec1870-725b-11ea-a0b2-c51ea50a58e2",
  "version": "WzEyOCwxXQ==",
  "comment": "Start operation bubblegum immediately! And chew fast!",
  "created_at": "2020-03-30T07:52:46.702Z",
  "created_by": {
    "email": "classified@hms.oo.gov.uk",
    "full_name": "Classified",
    "username": "M"
  },
  "pushed_at": null,
  "pushed_by": null,
  "updated_at": null,
  "updated_by": null
}</pre>
</div>
</div>

</div>

</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="cases-api-get-case-activity"></a>Get all case activity<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/security-docs/edit/master/docs/siem/cases/api/cases-api/cases-api-get-case-activity.asciidoc">edit</a></h3>
</div></div></div>
<p>Returns all user activity for the specified case.</p>
<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="_request_url_28"></a>Request URL<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/security-docs/edit/master/docs/siem/cases/api/cases-api/cases-api-get-case-activity.asciidoc">edit</a></h4>
</div></div></div>
<p><code class="literal">GET &lt;kibana host&gt;:&lt;port&gt;/api/cases/&lt;case ID&gt;/user_actions</code></p>
<div class="section">
<div class="titlepage"><div><div>
<h5 class="title"><a id="_url_parts_6"></a>URL parts<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/security-docs/edit/master/docs/siem/cases/api/cases-api/cases-api-get-case-activity.asciidoc">edit</a></h5>
</div></div></div>
<p>The URL must include the <code class="literal">case ID</code> of the case for which you are retrieving
activity. Call <a class="xref" href="cases-api-overview.html#cases-api-find-cases" title="Find cases">Find cases</a> to retrieve case IDs.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h5 class="title"><a id="_example_request_25"></a>Example request<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/security-docs/edit/master/docs/siem/cases/api/cases-api/cases-api-get-case-activity.asciidoc">edit</a></h5>
</div></div></div>
<p>Gets all comments for case ID <code class="literal">a18b38a0-71b0-11ea-a0b2-c51ea50a58e2</code>:</p>
<div class="pre_wrapper lang-kibana">
<pre class="programlisting prettyprint lang-kibana">GET api/cases/a18b38a0-71b0-11ea-a0b2-c51ea50a58e2/user_actions</pre>
</div>
<div class="kibana_widget" data-snippet="snippets/33.kibana"></div>
</div>

</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="_response_code_28"></a>Response code<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/security-docs/edit/master/docs/siem/cases/api/cases-api/cases-api-get-case-activity.asciidoc">edit</a></h4>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">200</code>
</span>
</dt>
<dd>
Indicates a successful call.
</dd>
</dl>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="_response_payload_20"></a>Response payload<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/security-docs/edit/master/docs/siem/cases/api/cases-api/cases-api-get-case-activity.asciidoc">edit</a></h4>
</div></div></div>
<p>A JSON array containing all user activity for the specified case.</p>
<div class="section">
<div class="titlepage"><div><div>
<h5 class="title"><a id="_response_example_4"></a>Response example<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/security-docs/edit/master/docs/siem/cases/api/cases-api/cases-api-get-case-activity.asciidoc">edit</a></h5>
</div></div></div>
<div class="pre_wrapper lang-json">
<pre class="programlisting prettyprint lang-json">[
  {
    "action_field": [
      "description",
      "status",
      "tags",
      "title"
    ],
    "action": "create",
    "action_at": "2020-04-02T15:25:19.088Z",
    "action_by": {
      "email": "ahunley@imf.usa.gov",
      "full_name": "Alan Hunley",
      "username": "ahunley"
    },
    "new_value": "{\"title\":\"This case will self-destruct in 5 seconds\",\"tags\":[\"phishing\",\"social engineering\"],\"description\":\"James Bond clicked on a highly suspicious email banner advertising cheap holidays for underpaid civil servants.\"}",
    "old_value": null,
    "action_id": "29ce6370-74f6-11ea-b83a-553aecdb28b6",
    "case_id": "293f1bc0-74f6-11ea-b83a-553aecdb28b6",
    "comment_id": null
  },
  {
    "action_field": [
      "comment"
    ],
    "action": "create",
    "action_at": "2020-04-02T15:28:03.034Z",
    "action_by": {
      "email": "moneypenny@hms.gov.uk",
      "full_name": "Ms Moneypenny",
      "username": "moneypenny"
    },
    "new_value": "That is nothing - Ethan Hunt answered a targeted social media campaign promoting phishy pension schemes to IMF operatives.",
    "old_value": null,
    "action_id": "8b0d6870-74f6-11ea-b83a-553aecdb28b6",
    "case_id": "293f1bc0-74f6-11ea-b83a-553aecdb28b6",
    "comment_id": "8af6ac20-74f6-11ea-b83a-553aecdb28b6"
  },
  {
    "action_field": [
      "comment"
    ],
    "action": "update",
    "action_at": "2020-04-02T15:34:01.118Z",
    "action_by": {
      "email": "jbond@hms.gov.uk",
      "full_name": "James Bond",
      "username": "_007"
    },
    "new_value": "That is nothing - Ethan Hunt answered a targeted social media campaign promoting phishy pension schemes to IMF operatives. Even worse, he likes baked beans.",
    "old_value": "That is nothing - Ethan Hunt answered a targeted social media campaign promoting phishy pension schemes to IMF operatives.",
    "action_id": "60dafd50-74f7-11ea-b83a-553aecdb28b6",
    "case_id": "293f1bc0-74f6-11ea-b83a-553aecdb28b6",
    "comment_id": "8af6ac20-74f6-11ea-b83a-553aecdb28b6"
  },
  {
    "action_field": [
      "comment"
    ],
    "action": "create",
    "action_at": "2020-04-02T17:48:16.293Z",
    "action_by": {
      "email": "classified@hms.oo.gov.uk",
      "full_name": "Classified",
      "username": "M"
    },
    "new_value": "I'm on it.",
    "old_value": null,
    "action_id": "223f7bd0-750a-11ea-b83a-553aecdb28b6",
    "case_id": "293f1bc0-74f6-11ea-b83a-553aecdb28b6",
    "comment_id": "21a844e0-750a-11ea-b83a-553aecdb28b6"
  }
]</pre>
</div>
</div>

</div>

</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="cases-api-get-tag"></a>Get tags<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/security-docs/edit/master/docs/siem/cases/api/cases-api/cases-api-get-tags.asciidoc">edit</a></h3>
</div></div></div>
<p>Aggregates and returns all unique tags from all cases.</p>
<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="_request_url_29"></a>Request URL<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/security-docs/edit/master/docs/siem/cases/api/cases-api/cases-api-get-tags.asciidoc">edit</a></h4>
</div></div></div>
<p><code class="literal">GET &lt;kibana host&gt;:&lt;port&gt;/api/cases/tags</code></p>
<div class="section">
<div class="titlepage"><div><div>
<h5 class="title"><a id="_example_request_26"></a>Example request<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/security-docs/edit/master/docs/siem/cases/api/cases-api/cases-api-get-tags.asciidoc">edit</a></h5>
</div></div></div>
<p>Gets all tags for all cases:</p>
<div class="pre_wrapper lang-kibana">
<pre class="programlisting prettyprint lang-kibana">GET api/cases/tags</pre>
</div>
<div class="kibana_widget" data-snippet="snippets/34.kibana"></div>
</div>

</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="_response_code_29"></a>Response code<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/security-docs/edit/master/docs/siem/cases/api/cases-api/cases-api-get-tags.asciidoc">edit</a></h4>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">200</code>
</span>
</dt>
<dd>
Indicates a successful call.
</dd>
</dl>
</div>
<div class="section">
<div class="titlepage"><div><div>
<h5 class="title"><a id="_example_response_8"></a>Example response<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/security-docs/edit/master/docs/siem/cases/api/cases-api/cases-api-get-tags.asciidoc">edit</a></h5>
</div></div></div>
<div class="pre_wrapper lang-json">
<pre class="programlisting prettyprint lang-json">[
  "windows",
  "phishing",
  "social engineering",
  "bubblegum"
]</pre>
</div>
</div>

</div>

</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="cases-api-get-reporters"></a>Get reporters<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/security-docs/edit/master/docs/siem/cases/api/cases-api/cases-api-get-reporters.asciidoc">edit</a></h3>
</div></div></div>
<p>Returns all case reporters (users who opened cases).</p>
<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="_request_url_30"></a>Request URL<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/security-docs/edit/master/docs/siem/cases/api/cases-api/cases-api-get-reporters.asciidoc">edit</a></h4>
</div></div></div>
<p><code class="literal">GET &lt;kibana host&gt;:&lt;port&gt;/api/cases/reporters</code></p>
<div class="section">
<div class="titlepage"><div><div>
<h5 class="title"><a id="_example_request_27"></a>Example request<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/security-docs/edit/master/docs/siem/cases/api/cases-api/cases-api-get-reporters.asciidoc">edit</a></h5>
</div></div></div>
<div class="pre_wrapper lang-kibana">
<pre class="programlisting prettyprint lang-kibana">GET api/cases/reporters</pre>
</div>
<div class="kibana_widget" data-snippet="snippets/35.kibana"></div>
</div>

</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="_response_code_30"></a>Response code<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/security-docs/edit/master/docs/siem/cases/api/cases-api/cases-api-get-reporters.asciidoc">edit</a></h4>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">200</code>
</span>
</dt>
<dd>
Indicates a successful call.
</dd>
</dl>
</div>
<div class="section">
<div class="titlepage"><div><div>
<h5 class="title"><a id="_example_response_9"></a>Example response<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/security-docs/edit/master/docs/siem/cases/api/cases-api/cases-api-get-reporters.asciidoc">edit</a></h5>
</div></div></div>
<div class="pre_wrapper lang-json">
<pre class="programlisting prettyprint lang-json">[
  {
    "full_name": "Alan Hunley",
    "email": "ahunley@imf.usa.gov",
    "username": "ahunley"
  },
  {
    "full_name": "Rat Hustler",
    "email": "jrhustler@aol.com",
    "username": "rhustler"
  }
]</pre>
</div>
</div>

</div>

</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="cases-api-get-status"></a>Get status<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/security-docs/edit/master/docs/siem/cases/api/cases-api/cases-api-get-status.asciidoc">edit</a></h3>
</div></div></div>
<p>Returns the number of open and closed cases.</p>
<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="_request_url_31"></a>Request URL<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/security-docs/edit/master/docs/siem/cases/api/cases-api/cases-api-get-status.asciidoc">edit</a></h4>
</div></div></div>
<p><code class="literal">GET &lt;kibana host&gt;:&lt;port&gt;/api/cases/status</code></p>
<div class="section">
<div class="titlepage"><div><div>
<h5 class="title"><a id="_example_request_28"></a>Example request<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/security-docs/edit/master/docs/siem/cases/api/cases-api/cases-api-get-status.asciidoc">edit</a></h5>
</div></div></div>
<div class="pre_wrapper lang-kibana">
<pre class="programlisting prettyprint lang-kibana">GET api/cases/status</pre>
</div>
<div class="kibana_widget" data-snippet="snippets/36.kibana"></div>
</div>

</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="_response_code_31"></a>Response code<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/security-docs/edit/master/docs/siem/cases/api/cases-api/cases-api-get-status.asciidoc">edit</a></h4>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">200</code>
</span>
</dt>
<dd>
Indicates a successful call.
</dd>
</dl>
</div>
<div class="section">
<div class="titlepage"><div><div>
<h5 class="title"><a id="_example_response_10"></a>Example response<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/security-docs/edit/master/docs/siem/cases/api/cases-api/cases-api-get-status.asciidoc">edit</a></h5>
</div></div></div>
<div class="pre_wrapper lang-json">
<pre class="programlisting prettyprint lang-json">{
  "count_open_cases": 27,
  "count_closed_cases": 1198
}</pre>
</div>
</div>

</div>

</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="cases-api-delete-comment"></a>Delete comment<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/security-docs/edit/master/docs/siem/cases/api/cases-api/cases-api-delete-comment.asciidoc">edit</a></h3>
</div></div></div>
<p>Deletes the specified comment.</p>
<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="_request_url_32"></a>Request URL<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/security-docs/edit/master/docs/siem/cases/api/cases-api/cases-api-delete-comment.asciidoc">edit</a></h4>
</div></div></div>
<p><code class="literal">DELETE &lt;kibana host&gt;:&lt;port&gt;/api/cases/&lt;case ID&gt;/comments/&lt;comment ID&gt;</code></p>
<div class="section">
<div class="titlepage"><div><div>
<h5 class="title"><a id="_url_parts_7"></a>URL parts<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/security-docs/edit/master/docs/siem/cases/api/cases-api/cases-api-delete-comment.asciidoc">edit</a></h5>
</div></div></div>
<p>The URL must include:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
the <code class="literal">case ID</code> of the comment’s associated case (call <a class="xref" href="cases-api-overview.html#cases-api-find-cases" title="Find cases">Find cases</a>
to retrieve case IDs).
</li>
<li class="listitem">
the <code class="literal">comment ID</code> of the comment you are retrieving (call
<a class="xref" href="cases-api-overview.html#cases-api-get-all-case-comments" title="Get all case comments">Get all case comments</a> to retrieve comment IDs).
</li>
</ul>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h5 class="title"><a id="_example_request_29"></a>Example request<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/security-docs/edit/master/docs/siem/cases/api/cases-api/cases-api-delete-comment.asciidoc">edit</a></h5>
</div></div></div>
<p>Deletes comment ID <code class="literal">71ec1870-725b-11ea-a0b2-c51ea50a58e2</code> from case ID
<code class="literal">a18b38a0-71b0-11ea-a0b2-c51ea50a58e2</code>:</p>
<div class="pre_wrapper lang-kibana">
<pre class="programlisting prettyprint lang-kibana">DELETE api/cases/a18b38a0-71b0-11ea-a0b2-c51ea50a58e2/comments/71ec1870-725b-11ea-a0b2-c51ea50a58e2</pre>
</div>
<div class="kibana_widget" data-snippet="snippets/37.kibana"></div>
</div>

</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="_response_code_32"></a>Response code<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/security-docs/edit/master/docs/siem/cases/api/cases-api/cases-api-delete-comment.asciidoc">edit</a></h4>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">204</code>
</span>
</dt>
<dd>
Indicates a successful call.
</dd>
</dl>
</div>
</div>

</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="cases-api-delete-all-comments"></a>Delete all comments<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/security-docs/edit/master/docs/siem/cases/api/cases-api/cases-api-delete-all-comments.asciidoc">edit</a></h3>
</div></div></div>
<p>Deletes all comments from the specified case.</p>
<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="_request_url_33"></a>Request URL<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/security-docs/edit/master/docs/siem/cases/api/cases-api/cases-api-delete-all-comments.asciidoc">edit</a></h4>
</div></div></div>
<p><code class="literal">DELETE &lt;kibana host&gt;:&lt;port&gt;/api/cases/&lt;case ID&gt;/comments</code></p>
<div class="section">
<div class="titlepage"><div><div>
<h5 class="title"><a id="_url_parts_8"></a>URL parts<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/security-docs/edit/master/docs/siem/cases/api/cases-api/cases-api-delete-all-comments.asciidoc">edit</a></h5>
</div></div></div>
<p>The URL must include the <code class="literal">case ID</code> of the comment’s associated case (call
<a class="xref" href="cases-api-overview.html#cases-api-find-cases" title="Find cases">Find cases</a> to retrieve case IDs).</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h5 class="title"><a id="_example_request_30"></a>Example request<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/security-docs/edit/master/docs/siem/cases/api/cases-api/cases-api-delete-all-comments.asciidoc">edit</a></h5>
</div></div></div>
<p>Deletes all comments from case ID <code class="literal">9c235210-6834-11ea-a78c-6ffb38a34414</code>:</p>
<div class="pre_wrapper lang-kibana">
<pre class="programlisting prettyprint lang-kibana">DELETE api/cases/a18b38a0-71b0-11ea-a0b2-c51ea50a58e2/comments</pre>
</div>
<div class="kibana_widget" data-snippet="snippets/38.kibana"></div>
</div>

</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="_response_code_33"></a>Response code<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/security-docs/edit/master/docs/siem/cases/api/cases-api/cases-api-delete-all-comments.asciidoc">edit</a></h4>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">204</code>
</span>
</dt>
<dd>
Indicates a successful call.
</dd>
</dl>
</div>
</div>

</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="cases-api-delete-case"></a>Delete case<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/security-docs/edit/master/docs/siem/cases/api/cases-api/cases-api-delete-case.asciidoc">edit</a></h3>
</div></div></div>
<p>Deletes the specified cases and all associated comments.</p>
<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="_request_url_34"></a>Request URL<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/security-docs/edit/master/docs/siem/cases/api/cases-api/cases-api-delete-case.asciidoc">edit</a></h4>
</div></div></div>
<p><code class="literal">DELETE &lt;kibana host&gt;:&lt;port&gt;/api/cases?ids=["&lt;case ID1&gt;","&lt;case ID2&gt;"]</code></p>
<div class="section">
<div class="titlepage"><div><div>
<h5 class="title"><a id="_url_parts_9"></a>URL parts<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/security-docs/edit/master/docs/siem/cases/api/cases-api/cases-api-delete-case.asciidoc">edit</a></h5>
</div></div></div>
<p>The URL must include the case IDs of the cases you are deleting. Call
<a class="xref" href="cases-api-overview.html#cases-api-find-cases" title="Find cases">Find cases</a> to retrieve case IDs.</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>All non-ascii characters must be encoded.</p>
</div>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h5 class="title"><a id="_example_request_31"></a>Example request<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/security-docs/edit/master/docs/siem/cases/api/cases-api/cases-api-delete-case.asciidoc">edit</a></h5>
</div></div></div>
<p>Deletes cases with these IDs:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<code class="literal">2e3a54f0-6754-11ea-a1c2-e3a8bc9f7aca</code>
</li>
<li class="listitem">
<code class="literal">40b9a450-66a0-11ea-be1b-2bd3fef48984</code>
</li>
</ul>
</div>
<div class="pre_wrapper lang-kibana">
<pre class="programlisting prettyprint lang-kibana">DELETE api/cases?ids=%5B%222e3a54f0-6754-11ea-a1c2-e3a8bc9f7aca%22%2C%2240b9a450-66a0-11ea-be1b-2bd3fef48984%22%5D</pre>
</div>
<div class="kibana_widget" data-snippet="snippets/39.kibana"></div>
</div>

</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="_response_code_34"></a>Response code<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/security-docs/edit/master/docs/siem/cases/api/cases-api/cases-api-delete-case.asciidoc">edit</a></h4>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">204</code>
</span>
</dt>
<dd>
Indicates a successful call.
</dd>
</dl>
</div>
</div>

</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="assign-connector"></a>Set default SIEM UI connector<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/security-docs/edit/master/docs/siem/cases/api/cases-api/cases-api-assign-connector.asciidoc">edit</a></h3>
</div></div></div>
<p>Sets the default connector in the SIEM UI.</p>
<p>Connectors are used to interface with external systems. You can only call this
method after you have created a connector (see <a class="xref" href="actions-api-overview.html#register-connector" title="Create connector">Create connector</a>). After a
connector has been created and assigned, call <a class="xref" href="actions-api-overview.html#cases-actions-api-execute" title="Create or update an external incident">Create or update an external incident</a> to
send cases to the external system.</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>You can also set the default connector in the SIEM UI for each case
individually (see <a class="xref" href="cases-api-overview.html#cases-api-update" title="Update case">Update case</a>).</p>
</div>
</div>
<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="_request_url_35"></a>Request URL<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/security-docs/edit/master/docs/siem/cases/api/cases-api/cases-api-assign-connector.asciidoc">edit</a></h4>
</div></div></div>
<p><code class="literal">POST &lt;kibana host&gt;:&lt;port&gt;/api/cases/configure</code></p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="_request_body_13"></a>Request body<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/security-docs/edit/master/docs/siem/cases/api/cases-api/cases-api-assign-connector.asciidoc">edit</a></h4>
</div></div></div>
<p>A JSON object with these fields:</p>
<div class="informaltable">
<table border="1" cellpadding="4px" width="100%">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
<col class="col_4"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Name</th>
<th align="left" valign="top">Type</th>
<th align="left" valign="top">Description</th>
<th align="left" valign="top">Required</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p><code class="literal">connector_id</code></p></td>
<td align="left" valign="top"><p>String</p></td>
<td align="left" valign="top"><p>The connector ID.</p></td>
<td align="left" valign="top"><p>Yes</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">connector_name</code></p></td>
<td align="left" valign="top"><p>String</p></td>
<td align="left" valign="top"><p>The connector name.</p></td>
<td align="left" valign="top"><p>Yes</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">closure_type</code></p></td>
<td align="left" valign="top"><p>String</p></td>
<td align="left" valign="top">
<p>Determines whether a case is automatically closed in
the SIEM app when it is pushed to ServiceNow. Valid values are:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<code class="literal">close-by-pushing</code>: SIEM app cases are automatically closed when they
are pushed to ServiceNow.
</li>
<li class="listitem">
<code class="literal">close-by-user</code>: SIEM app cases are not automatically closed.
</li>
</ul>
</div>
</td>
<td align="left" valign="top"><p>Yes</p></td>
</tr>
</tbody>
</table>
</div>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>Call <a class="xref" href="cases-api-overview.html#cases-api-find-connectors" title="Find connectors">Find connectors</a> to retrieve connector IDs and names.</p>
</div>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="_example_request_32"></a>Example request<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/security-docs/edit/master/docs/siem/cases/api/cases-api/cases-api-assign-connector.asciidoc">edit</a></h4>
</div></div></div>
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">POST api/cases/configure
{
  "connector_id": "61787f53-4eee-4741-8df6-8fe84fa616f7",
  "closure_type": "close-by-user",
  "connector_name": "ServiceNow"
}</pre>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="_response_code_35"></a>Response code<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/security-docs/edit/master/docs/siem/cases/api/cases-api/cases-api-assign-connector.asciidoc">edit</a></h4>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">200</code>
</span>
</dt>
<dd>
Indicates a successful call.
</dd>
</dl>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="_example_response_11"></a>Example response<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/security-docs/edit/master/docs/siem/cases/api/cases-api/cases-api-assign-connector.asciidoc">edit</a></h4>
</div></div></div>
<div class="pre_wrapper lang-json">
<pre class="programlisting prettyprint lang-json">{
  "connector_id": "61787f53-4eee-4741-8df6-8fe84fa616f7",
  "closure_type": "close-by-user",
  "connector_name": "ServiceNow",
  "created_at": "2020-03-30T13:31:38.083Z",
  "created_by": {
    "email": "moneypenny@hms.gov.uk",
    "full_name": "Ms Moneypenny",
    "username": "moneypenny"
  },
  "updated_at": null,
  "updated_by": null,
  "version": "WzE3NywxXQ=="
}</pre>
</div>
</div>

</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="case-api-update-connector"></a>Update case configurations<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/security-docs/edit/master/docs/siem/cases/api/cases-api/case-api-update-connector.asciidoc">edit</a></h3>
</div></div></div>
<p>Updates the connector&#8217;s case closure settings.</p>
<p>Connectors are used to interface with external systems. You can only call this
method after you have created a connector (see <a class="xref" href="actions-api-overview.html#register-connector" title="Create connector">Create connector</a>). After a
connector has been created and assigned, call <a class="xref" href="actions-api-overview.html#cases-actions-api-execute" title="Create or update an external incident">Create or update an external incident</a> to
send cases to the external system.</p>
<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="_request_url_36"></a>Request URL<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/security-docs/edit/master/docs/siem/cases/api/cases-api/case-api-update-connector.asciidoc">edit</a></h4>
</div></div></div>
<p><code class="literal">PATCH &lt;kibana host&gt;:&lt;port&gt;/api/cases/configure</code></p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="_request_body_14"></a>Request body<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/security-docs/edit/master/docs/siem/cases/api/cases-api/case-api-update-connector.asciidoc">edit</a></h4>
</div></div></div>
<p>A JSON object with these fields:</p>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
<col class="col_4"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Name</th>
<th align="left" valign="top">Type</th>
<th align="left" valign="top">Description</th>
<th align="left" valign="top">Required</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p><code class="literal">connector_id</code></p></td>
<td align="left" valign="top"><p>String</p></td>
<td align="left" valign="top"><p>The ID of the connector you want to use for sending
cases to external systems.</p></td>
<td align="left" valign="top"><p>Yes</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">connector_name</code></p></td>
<td align="left" valign="top"><p>String</p></td>
<td align="left" valign="top"><p>The connector name.</p></td>
<td align="left" valign="top"><p>No</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">closure_type</code></p></td>
<td align="left" valign="top"><p>String</p></td>
<td align="left" valign="top">
<p>Determines whether a case is automatically closed in
the SIEM app when it is pushed to ServiceNow. Valid values are:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<code class="literal">close-by-pushing</code>: SIEM app cases are automatically closed when they
are pushed to ServiceNow.
</li>
<li class="listitem">
<code class="literal">close-by-user</code>: SIEM app cases are not automatically closed.
</li>
</ul>
</div>
</td>
<td align="left" valign="top"><p>No</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">version</code></p></td>
<td align="left" valign="top"><p>String</p></td>
<td align="left" valign="top"><p>The connector version.</p></td>
<td align="left" valign="top"><p>Yes</p></td>
</tr>
</tbody>
</table>
</div>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>Call <a class="xref" href="cases-api-overview.html#cases-get-connector" title="Get current connector">Get current connector</a> to retrieve the version value, and
<a class="xref" href="cases-api-overview.html#cases-api-find-connectors" title="Find connectors">Find connectors</a> to retrieve connector IDs.</p>
</div>
</div>
<div class="section">
<div class="titlepage"><div><div>
<h5 class="title"><a id="_example_request_33"></a>Example request<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/security-docs/edit/master/docs/siem/cases/api/cases-api/case-api-update-connector.asciidoc">edit</a></h5>
</div></div></div>
<p>Changes the connector&#8217;s case closure option:</p>
<div class="pre_wrapper lang-kibana">
<pre class="programlisting prettyprint lang-kibana">PATCH api/cases/configure
{
  "connector_id": "131d4448-abe0-4789-939d-8ef60680b498",
  "closure_type": "close-by-pushing",
  "version": "WzIwMiwxXQ=="
}</pre>
</div>
<div class="kibana_widget" data-snippet="snippets/40.kibana"></div>
</div>

</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="_response_code_36"></a>Response code<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/security-docs/edit/master/docs/siem/cases/api/cases-api/case-api-update-connector.asciidoc">edit</a></h4>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">200</code>
</span>
</dt>
<dd>
Indicates a successful call.
</dd>
</dl>
</div>
<div class="section">
<div class="titlepage"><div><div>
<h5 class="title"><a id="_example_response_12"></a>Example response<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/security-docs/edit/master/docs/siem/cases/api/cases-api/case-api-update-connector.asciidoc">edit</a></h5>
</div></div></div>
<div class="pre_wrapper lang-json">
<pre class="programlisting prettyprint lang-json">{
  "connector_id": "131d4448-abe0-4789-939d-8ef60680b498",
  "closure_type": "close-by-pushing",
  "connector_name": "ServiceNow",
  "created_at": "2020-03-30T13:31:38.083Z",
  "created_by": {
    "email": "admin@hms.gov.uk",
    "full_name": "Ms Admin",
    "username": "admin"
  },
  "updated_at": "2020-03-31T06:21:35.759Z",
  "updated_by": {
    "email": "admin@hms.gov.uk",
    "full_name": "Ms Admin",
    "username": "admin"
  },
  "version": "WzIwMywxXQ=="
}</pre>
</div>
</div>

</div>

</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="cases-get-connector"></a>Get current connector<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/security-docs/edit/master/docs/siem/cases/api/cases-api/cases-api-get-connector.asciidoc">edit</a></h3>
</div></div></div>
<p>Retrieves the connector currently used in the SIEM UI.</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>For more information on connectors, see <a class="xref" href="actions-api-overview.html" title="Actions API (for pushing cases to external systems)">Actions API (for pushing cases to external systems)</a>.</p>
</div>
</div>
<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="_request_url_37"></a>Request URL<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/security-docs/edit/master/docs/siem/cases/api/cases-api/cases-api-get-connector.asciidoc">edit</a></h4>
</div></div></div>
<p><code class="literal">GET &lt;kibana host&gt;:&lt;port&gt;/api/cases/configure</code></p>
<div class="section">
<div class="titlepage"><div><div>
<h5 class="title"><a id="_example_request_34"></a>Example request<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/security-docs/edit/master/docs/siem/cases/api/cases-api/cases-api-get-connector.asciidoc">edit</a></h5>
</div></div></div>
<div class="pre_wrapper lang-kibana">
<pre class="programlisting prettyprint lang-kibana">GET api/cases/configure</pre>
</div>
<div class="kibana_widget" data-snippet="snippets/41.kibana"></div>
</div>

</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="_response_code_37"></a>Response code<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/security-docs/edit/master/docs/siem/cases/api/cases-api/cases-api-get-connector.asciidoc">edit</a></h4>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">200</code>
</span>
</dt>
<dd>
Indicates a successful call.
</dd>
</dl>
</div>
<div class="section">
<div class="titlepage"><div><div>
<h5 class="title"><a id="_example_response_13"></a>Example response<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/security-docs/edit/master/docs/siem/cases/api/cases-api/cases-api-get-connector.asciidoc">edit</a></h5>
</div></div></div>
<div class="pre_wrapper lang-json">
<pre class="programlisting prettyprint lang-json">{
  "connector_id": "61787f53-4eee-4741-8df6-8fe84fa616f7",
  "closure_type": "close-by-user",
  "connector_name": "ServiceNow",
  "created_at": "2020-03-30T13:31:38.083Z",
  "created_by": {
    "email": "admin@hms.gov.uk",
    "full_name": "Mr Admin",
    "username": "admin"
  },
  "updated_at": null,
  "updated_by": null,
  "version": "WzE3NywxXQ=="
}</pre>
</div>
</div>

</div>

</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="cases-api-find-connectors"></a>Find connectors<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/security-docs/edit/master/docs/siem/cases/api/cases-api/cases-api-find-connectors.asciidoc">edit</a></h3>
</div></div></div>
<p>Retrieves a paginated subset of all ServiceNow connectors.</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>Only ServiceNow and Jira connectors are returned. For more information on
connectors, see <a class="xref" href="actions-api-overview.html" title="Actions API (for pushing cases to external systems)">Actions API (for pushing cases to external systems)</a>.</p>
</div>
</div>
<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="_request_url_38"></a>Request URL<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/security-docs/edit/master/docs/siem/cases/api/cases-api/cases-api-find-connectors.asciidoc">edit</a></h4>
</div></div></div>
<p><code class="literal">GET &lt;kibana host&gt;:&lt;port&gt;/api/cases/configure/connectors/_find</code></p>
<div class="section">
<div class="titlepage"><div><div>
<h5 class="title"><a id="_example_request_35"></a>Example request<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/security-docs/edit/master/docs/siem/cases/api/cases-api/cases-api-find-connectors.asciidoc">edit</a></h5>
</div></div></div>
<div class="pre_wrapper lang-kibana">
<pre class="programlisting prettyprint lang-kibana">GET api/cases/configure/connectors/_find</pre>
</div>
<div class="kibana_widget" data-snippet="snippets/42.kibana"></div>
</div>

</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="_response_code_38"></a>Response code<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/security-docs/edit/master/docs/siem/cases/api/cases-api/cases-api-find-connectors.asciidoc">edit</a></h4>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">200</code>
</span>
</dt>
<dd>
Indicates a successful call.
</dd>
</dl>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="_response_payload_21"></a>Response payload<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/security-docs/edit/master/docs/siem/cases/api/cases-api/cases-api-find-connectors.asciidoc">edit</a></h4>
</div></div></div>
<p>A JSON object describing the connectors and their settings.</p>
<div class="section">
<div class="titlepage"><div><div>
<h5 class="title"><a id="_example_response_14"></a>Example response<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/security-docs/edit/master/docs/siem/cases/api/cases-api/cases-api-find-connectors.asciidoc">edit</a></h5>
</div></div></div>
<div class="pre_wrapper lang-json">
<pre class="programlisting prettyprint lang-json">{
  "page": 1,
  "perPage": 20,
  "total": 2,
  "data": [
    {
      "id": "61787f53-4eee-4741-8df6-8fe84fa616f7",
      "actionTypeId": ".servicenow",
      "name": "ServiceNow",
      "config": {
        "casesConfiguration": {
          "mapping": [
            {
              "actionType": "overwrite",
              "source": "title",
              "target": "short_description"
            },
            {
              "actionType": "append",
              "source": "description",
              "target": "description"
            },
            {
              "actionType": "append",
              "source": "comments",
              "target": "comments"
            }
          ]
        },
        "apiUrl": "https://dev78437.service-now.com"
      },
      "referencedByCount": 0
    },
    {
      "id": "131d4448-abe0-4789-939d-8ef60680b498",
      "actionTypeId": ".servicenow",
      "name": "Defector",
      "config": {
        "apiUrl": "https://dev87359.service-now.com",
        "casesConfiguration": {
          "mapping": [
            {
              "source": "title",
              "target": "short_description",
              "actionType": "append"
            },
            {
              "source": "description",
              "target": "description",
              "actionType": "append"
            },
            {
              "source": "comments",
              "target": "comments",
              "actionType": "append"
            }
          ]
        }
      },
      "referencedByCount": 0
    }
  ]
}</pre>
</div>
</div>

</div>

</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="cases-api-associate-sn-incident"></a>Add external details to case<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/security-docs/edit/master/docs/siem/cases/api/cases-api/cases-api-associate-sn.asciidoc">edit</a></h3>
</div></div></div>
<p>Adds the data returned from an external system to the specified case.</p>
<p>After sending a new or updated case to an external system using the
<a class="xref" href="actions-api-overview.html#cases-actions-api-execute" title="Create or update an external incident">Actions API</a>, you must associate
the external system&#8217;s returned object with the case in the SIEM app.</p>
<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="_request_url_39"></a>Request URL<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/security-docs/edit/master/docs/siem/cases/api/cases-api/cases-api-associate-sn.asciidoc">edit</a></h4>
</div></div></div>
<p><code class="literal">POST &lt;kibana host&gt;:&lt;port&gt;/api/cases/&lt;case ID&gt;/_push</code></p>
<div class="section">
<div class="titlepage"><div><div>
<h5 class="title"><a id="_url_parts_10"></a>URL parts<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/security-docs/edit/master/docs/siem/cases/api/cases-api/cases-api-associate-sn.asciidoc">edit</a></h5>
</div></div></div>
<p>The URL must include the <code class="literal">case ID</code> of the case you are updating. Call
<a class="xref" href="cases-api-overview.html#cases-api-find-cases" title="Find cases">Find cases</a> to retrieve case IDs.</p>
</div>

</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="_request_body_15"></a>Request body<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/security-docs/edit/master/docs/siem/cases/api/cases-api/cases-api-associate-sn.asciidoc">edit</a></h4>
</div></div></div>
<p>A JSON object with the data returned from the external system:</p>
<div class="informaltable">
<table border="1" cellpadding="4px" width="100%">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
<col class="col_4"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Name</th>
<th align="left" valign="top">Type</th>
<th align="left" valign="top">Description</th>
<th align="left" valign="top">Required</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p><code class="literal">connector_id</code></p></td>
<td align="left" valign="top"><p>String</p></td>
<td align="left" valign="top"><p>The ID of the connector used to send the case to the
external system.</p></td>
<td align="left" valign="top"><p>Yes</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">connector_name</code></p></td>
<td align="left" valign="top"><p>String</p></td>
<td align="left" valign="top"><p>The name of the connector used to send the case to
the external system..</p></td>
<td align="left" valign="top"><p>Yes</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">external_id</code></p></td>
<td align="left" valign="top"><p>String</p></td>
<td align="left" valign="top"><p>The <code class="literal">id</code> returned when calling
<a class="xref" href="actions-api-overview.html#cases-actions-api-execute" title="Create or update an external incident">Create or update an external incident</a>.</p></td>
<td align="left" valign="top"><p>Yes</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">external_title</code></p></td>
<td align="left" valign="top"><p>String</p></td>
<td align="left" valign="top"><p>The <code class="literal">title</code> returned when calling
<a class="xref" href="actions-api-overview.html#cases-actions-api-execute" title="Create or update an external incident">Create or update an external incident</a>.</p></td>
<td align="left" valign="top"><p>Yes</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">external_url</code></p></td>
<td align="left" valign="top"><p>String</p></td>
<td align="left" valign="top"><p>The <code class="literal">url</code> returned when calling
<a class="xref" href="actions-api-overview.html#cases-actions-api-execute" title="Create or update an external incident">Create or update an external incident</a>.</p></td>
<td align="left" valign="top"><p>Yes</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section">
<div class="titlepage"><div><div>
<h5 class="title"><a id="_example_request_36"></a>Example request<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/security-docs/edit/master/docs/siem/cases/api/cases-api/cases-api-associate-sn.asciidoc">edit</a></h5>
</div></div></div>
<div class="pre_wrapper lang-kibana">
<pre class="programlisting prettyprint lang-kibana">POST api/cases/718265d0-733a-11ea-a0b2-c51ea50a58e2/_push

  "connector_id": "61787f53-4eee-4741-8df6-8fe84fa616f7",
  "connector_name": "ServiceNow",
  "external_id": "74c15d07dbb300106ba884da0b9619a0",
  "external_title": "INC0010016",
  "external_url": "https://dev78437.service-now.com/nav_to.do?uri=incident.do?sys_id=74c15d07dbb300106ba884da0b9619a0"
}</pre>
</div>
<div class="kibana_widget" data-snippet="snippets/43.kibana"></div>
</div>

</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="_response_code_39"></a>Response code<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/security-docs/edit/master/docs/siem/cases/api/cases-api/cases-api-associate-sn.asciidoc">edit</a></h4>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">200</code>
</span>
</dt>
<dd>
Indicates a successful call.
</dd>
</dl>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="_response_payload_22"></a>Response payload<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/security-docs/edit/master/docs/siem/cases/api/cases-api/cases-api-associate-sn.asciidoc">edit</a></h4>
</div></div></div>
<p>The updated JSON case object.</p>
<div class="section">
<div class="titlepage"><div><div>
<h5 class="title"><a id="_example_response_15"></a>Example response<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/security-docs/edit/master/docs/siem/cases/api/cases-api/cases-api-associate-sn.asciidoc">edit</a></h5>
</div></div></div>
<div class="pre_wrapper lang-json">
<pre class="programlisting prettyprint lang-json">{
  "id": "718265d0-733a-11ea-a0b2-c51ea50a58e2",
  "version": "WzMyNywxXQ==",
  "comments": [],
  "totalComment": 0,
  "closed_at": null,
  "closed_by": null,
  "created_at": "2020-03-31T10:29:03.781Z",
  "created_by": {
    "email": "ahunley@imf.usa.gov",
    "full_name": "Alan Hunley",
    "username": "ahunley"
  },
  "external_service": {
    "pushed_at": "2020-03-31T10:56:10.959Z",
    "pushed_by": {
      "username": "ahunley",
      "full_name": "Alan Hunley",
      "email": "ahunley@imf.usa.gov"
    },
    "connector_id": "61787f53-4eee-4741-8df6-8fe84fa616f7",
    "connector_name": "ServiceNow",
    "external_id": "74c15d07dbb300106ba884da0b9619a0",
    "external_title": "INC0010016",
    "external_url": "https://dev78437.service-now.com/nav_to.do?uri=incident.do?sys_id=74c15d07dbb300106ba884da0b9619a0"
  },
  "updated_at": "2020-03-31T10:56:10.959Z",
  "updated_by": {
    "username": "ahunley",
    "full_name": "Alan Hunley",
    "email": "ahunley@imf.usa.gov"
  },
  "title": "This case will self-destruct in 5 seconds",
  "tags": [],
  "description": "James Bond clicked on a highly suspicious email banner advertising cheap holidays for underpaid civil servants.",
  "status": "open"
}</pre>
</div>
</div>

</div>

</div>

</div>
<div class="navfooter">
<span class="prev">
<a href="rule-api-overview.html">« Detections API</a>
</span>
<span class="next">
<a href="actions-api-overview.html">Actions API (for pushing cases to external systems) »</a>
</span>
</div>
</div>
</body>
</html>
