<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title xmlns="">Upgrading Logstash to 6.0
        | Logstash Reference [6.0]
      | Elastic
    </title><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Logstash Reference [6.0]" /><link rel="up" href="upgrading-logstash.html" title="Upgrading Logstash" /><link rel="prev" href="upgrading-using-direct-download.html" title="Upgrading Using a Direct Download" /><link rel="next" href="upgrading-logstash-pqs.html" title="Upgrading with the Persistent Queue Enabled" /><meta xmlns="" name="description" content="Get started with the documentation for Elasticsearch, Kibana, Logstash, Beats, X-Pack, Elastic Cloud, Elasticsearch for Apache Hadoop, and our language clients." /><meta xmlns="" name="DC.type" content="Learn/Docs/Logstash/Reference/6.0" /><meta xmlns="" name="DC.subject" content="Logstash" /><meta xmlns="" name="DC.identifier" content="6.0" /></head><body><div xmlns="" class="page_header">You are looking at documentation for an older release.
Not what you want? See the
<a href="../current/index.html">current release documentation</a>.
</div><div xmlns="" class="breadcrumbs"><span class="breadcrumb-link"><a href="index.html">Logstash Reference
      [6.0]
    </a></span> » <span class="breadcrumb-link"><a href="upgrading-logstash.html">Upgrading Logstash</a></span> » <span class="breadcrumb-node">Upgrading Logstash to 6.0</span></div><div xmlns="" class="navheader"><span class="prev"><a href="upgrading-using-direct-download.html">
              « 
              Upgrading Using a Direct Download</a>
           
        </span><span class="next">
           
          <a href="upgrading-logstash-pqs.html">Upgrading with the Persistent Queue Enabled
               »
            </a></span></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="upgrading-logstash-6.0"></a>Upgrading Logstash to 6.0<a xmlns="" href="https://github.com/elastic/logstash/edit/6.0/docs/static/upgrading.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h2></div></div></div><p>Before upgrading Logstash, remember to read the <a class="link" href="breaking-changes.html" title="Breaking Changes">breaking changes</a>.</p><p>If you are installing Logstash with other components in the Elastic Stack, also see the
<a class="ulink" href="http://www.elastic.co/guide/en/elastic-stack/6.0/index.html" target="_top">Elastic Stack installation and upgrade documentation</a>.</p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_handling_document_types_in_elasticsearch_6_0"></a>Handling Document Types in Elasticsearch 6.0+<a xmlns="" href="https://github.com/elastic/logstash/edit/6.0/docs/static/upgrading.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p>As of Elasticsearch 6.0, document types are <a class="ulink" href="https://www.elastic.co/guide/en/elasticsearch/reference/6.0/removal-of-types.html" target="_top">on the way out</a>, and only a single mapping type per index is supported. For Logstash users this means transitioning to using the <code class="literal">type</code> field inside of the document instead of the document type. The effect is the same, but the usage is slightly different. This may mean reconfiguring existing Kibana dashboards to use the new <code class="literal">type</code> field instead of the document type.</p><p>If you are using the default mapping templates in Logstash, you will need to upgrade your mapping templates. To do this, after migrating Elasticsearch to 6.0, you must override the existing template with the 6.x template. This can be done by ensuring that all configured Elasticsearch outputs have the following setting specified: <code class="literal">template_overwrite =&gt; true</code>.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_when_to_upgrade"></a>When to Upgrade<a xmlns="" href="https://github.com/elastic/logstash/edit/6.0/docs/static/upgrading.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p>Fresh installations can and should start with the same version across the Elastic Stack.</p><p>Elasticsearch 6.0 does not require Logstash 6.0. An Elasticsearch 6.0 cluster will happily receive data from a
Logstash 5.x instance via the default HTTP communication layer. This provides some flexibility to decide when to upgrade
Logstash relative to an Elasticsearch upgrade. It may or may not be convenient for you to upgrade them together, and it
is not required to be done at the same time as long as Elasticsearch is upgraded first.</p><p>You should upgrade in a timely manner to get the performance improvements that come with Logstash 6.0, but do so in
the way that makes the most sense for your environment.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_when_not_to_upgrade"></a>When Not to Upgrade<a xmlns="" href="https://github.com/elastic/logstash/edit/6.0/docs/static/upgrading.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p>If any Logstash plugin that you require is not compatible with Logstash 6.0, then you should wait until it is ready
before upgrading.</p><p>Although we make great efforts to ensure compatibility, Logstash 6.0 is not completely backwards compatible. As noted
in the Elastic Stack upgrade guide, Logstash 6.0 should not be upgraded before Elasticsearch 6.0. This is both
practical and because some Logstash 6.0 plugins may attempt to use features of Elasticsearch 6.0 that did not exist
in earlier versions.</p></div></div><div xmlns="" class="navfooter"><span class="prev"><a href="upgrading-using-direct-download.html">
              « 
              Upgrading Using a Direct Download</a>
           
        </span><span class="next">
           
          <a href="upgrading-logstash-pqs.html">Upgrading with the Persistent Queue Enabled
               »
            </a></span></div></body></html>