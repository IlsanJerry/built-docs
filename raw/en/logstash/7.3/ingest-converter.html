<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title xmlns="">Converting Ingest Node Pipelines
        | Logstash Reference [7.3]
      | Elastic
    </title><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Logstash Reference [7.3]" /><link rel="up" href="configuration.html" title="Configuring Logstash" /><link rel="prev" href="glob-support.html" title="Glob Pattern Support" /><link rel="next" href="ls-to-ls.html" title="Logstash-to-Logstash Communication" /><meta xmlns="" name="description" content="Get started with the documentation for Elasticsearch, Kibana, Logstash, Beats, X-Pack, Elastic Cloud, Elasticsearch for Apache Hadoop, and our language clients." /><meta xmlns="" name="DC.type" content="Learn/Docs/Logstash/Reference/7.3" /><meta xmlns="" name="DC.subject" content="Logstash" /><meta xmlns="" name="DC.identifier" content="7.3" /></head><body><div xmlns="" class="breadcrumbs"><span class="breadcrumb-link"><a href="index.html">Logstash Reference
      [7.3]
    </a></span> » <span class="breadcrumb-link"><a href="configuration.html">Configuring Logstash</a></span> » <span class="breadcrumb-node">Converting Ingest Node Pipelines</span></div><div xmlns="" class="navheader"><span class="prev"><a href="glob-support.html">
              « 
              Glob Pattern Support</a>
           
        </span><span class="next">
           
          <a href="ls-to-ls.html">Logstash-to-Logstash Communication
               »
            </a></span></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="ingest-converter"></a>Converting Ingest Node Pipelines<a xmlns="" href="https://github.com/elastic/logstash/edit/7.3/docs/static/ingest-convert.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h2></div></div></div><p>After implementing <a class="ulink" href="https://www.elastic.co/guide/en/elasticsearch/reference/7.3/ingest.html" target="_top">ingest</a> pipelines to parse your data, you
might decide that you want to take advantage of the richer transformation
capabilities in Logstash. For example, you may need to use Logstash instead of
ingest pipelines if you want to:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">Ingest from more inputs. Logstash can natively ingest data from many other
sources like TCP, UDP, syslog, and relational databases.</li><li class="listitem">Use multiple outputs. Ingest node was designed to only support Elasticsearch
as an output, but you may want to use more than one output. For example, you may
want to archive your incoming data to S3 as well as indexing it in
Elasticsearch.</li><li class="listitem">Take advantage of the richer transformation capabilities in Logstash, such as
external lookups.</li><li class="listitem">Use the persistent queue feature to handle spikes when ingesting data (from
Beats and other sources).</li></ul></div><p>To make it easier for you to migrate your configurations, Logstash provides an
ingest pipeline conversion tool. The conversion tool takes the ingest pipeline
definition as input and, when possible, creates the equivalent Logstash
configuration as output.</p><p>See <a class="xref" href="ingest-converter.html#ingest-converter-limitations" title="Limitations">Limitations</a> for a full list of tool limitations.</p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="ingest-converter-run"></a>Running the tool<a xmlns="" href="https://github.com/elastic/logstash/edit/7.3/docs/static/ingest-convert.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p>You’ll find the conversion tool in the <code class="literal">bin</code> directory of your Logstash
installation. See <a class="xref" href="dir-layout.html" title="Logstash Directory Layout">Logstash Directory Layout</a> to find the location of <code class="literal">bin</code> on your system.</p><p>To run the conversion tool, use the following command:</p><div xmlns="" class="pre_wrapper lang-shell"><pre xmlns="http://www.w3.org/1999/xhtml" class="programlisting prettyprint lang-shell">bin/ingest-convert.sh --input INPUT_FILE_URI --output OUTPUT_FILE_URI [--append-stdio]</pre></div><p>Where:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><code class="literal">INPUT_FILE_URI</code> is a file URI that specifies the full path to the JSON file
that defines the ingest node pipeline.</li><li class="listitem"><code class="literal">OUTPUT_FILE_URI</code> is the file URI of the Logstash DSL file that will be
generated by the tool.</li><li class="listitem"><code class="literal">--append-stdio</code> is an optional flag that adds stdin and stdout sections to
the config instead of adding the default Elasticsearch output.</li></ul></div><p>This command expects a file URI, so make sure you use forward slashes and
specify the full path to the file.</p><p>For example:</p><div xmlns="" class="pre_wrapper lang-text"><pre xmlns="http://www.w3.org/1999/xhtml" class="programlisting prettyprint lang-text">bin/ingest-convert.sh --input file:///tmp/ingest/apache.json --output file:///tmp/ingest/apache.conf</pre></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="ingest-converter-limitations"></a>Limitations<a xmlns="" href="https://github.com/elastic/logstash/edit/7.3/docs/static/ingest-convert.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">Painless script conversion is not supported.</li><li class="listitem">Only a subset of available processors are
<a class="link" href="ingest-converter.html#ingest-converter-supported-processors" title="Supported Processors">supported</a> for conversion. For
processors that are not supported, the tool produces a warning and continues
with a best-effort conversion.</li></ul></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="ingest-converter-supported-processors"></a>Supported Processors<a xmlns="" href="https://github.com/elastic/logstash/edit/7.3/docs/static/ingest-convert.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p>The following ingest node processors are currently supported for conversion by
the tool:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">Append</li><li class="listitem">Convert</li><li class="listitem">Date</li><li class="listitem">GeoIP</li><li class="listitem">Grok</li><li class="listitem">Gsub</li><li class="listitem">Json</li><li class="listitem">Lowercase</li><li class="listitem">Rename</li><li class="listitem">Set</li></ul></div></div></div><div xmlns="" class="navfooter"><span class="prev"><a href="glob-support.html">
              « 
              Glob Pattern Support</a>
           
        </span><span class="next">
           
          <a href="ls-to-ls.html">Logstash-to-Logstash Communication
               »
            </a></span></div></body></html>