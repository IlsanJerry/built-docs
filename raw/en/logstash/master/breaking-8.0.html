<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Breaking changes in 8.0 | Logstash Reference [master] | Elastic</title>
<link rel="home" href="index.html" title="Logstash Reference [master]"/>
<link rel="up" href="breaking-changes.html" title="Breaking Changes"/>
<link rel="prev" href="breaking-changes.html" title="Breaking Changes"/>
<link rel="next" href="breaking-7.0.html" title="Breaking changes in 7.0"/>
<meta name="DC.type" content="Learn/Docs/Logstash/Reference/master"/>
<meta name="DC.subject" content="Logstash"/>
<meta name="DC.identifier" content="master"/>
</head>
<body><div class="page_header">
You are looking at preliminary documentation for a future release.
Not what you want? See the
<a href="../current/index.html">current release documentation</a>.
</div>
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="index.html">Logstash Reference [master]</a></span>
»
<span class="breadcrumb-link"><a href="breaking-changes.html">Breaking Changes</a></span>
»
<span class="breadcrumb-node">Breaking changes in 8.0</span>
</div>
<div class="navheader">
<span class="prev">
<a href="breaking-changes.html">« Breaking Changes</a>
</span>
<span class="next">
<a href="breaking-7.0.html">Breaking changes in 7.0 »</a>
</span>
</div>
<div class="section">
<div class="titlepage"><div><div>
<h2 class="title"><a id="breaking-8.0"></a>Breaking changes in 8.0<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/logstash/edit/main/docs/static/breaking-changes.asciidoc">edit</a></h2>
</div></div></div>
<p>Here are the breaking changes for 8.0.</p>
<h5><a id="bc-java-11-minimum"></a>Java 11 minimum<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/logstash/edit/main/docs/static/breaking-changes.asciidoc">edit</a></h5>
<p>Logstash requires Java 11 or later.
By default, Logstash will run with the bundled JDK, which has been verified to
work with each specific version of Logstash, and generally provides the best
performance and reliability.</p>
<h5><a id="bc-java-home"></a>Support for JAVA_HOME removed<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/logstash/edit/main/docs/static/breaking-changes.asciidoc">edit</a></h5>
<p>We&#8217;ve removed support for using <code class="literal">JAVA_HOME</code> to override the path to the JDK.
Users who need to use a version other than the bundled JDK should set the value
of <code class="literal">LS_JAVA_HOME</code> to the path of their preferred JDK.
The value of <code class="literal">JAVA_HOME</code> will be ignored.</p>
<h5><a id="bc-ecs-compatibility"></a>ECS compatibility is now on by default<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/logstash/edit/main/docs/static/breaking-changes.asciidoc">edit</a></h5>
<p>Many plugins can now be run in a mode that avoids implicit conflict with the Elastic Common Schema.
This mode is controlled individually with each plugin&#8217;s <code class="literal">ecs_compatibility</code> option, which defaults to the value of the Logstash <code class="literal">pipeline.ecs_compatibility</code> setting.
In Logstash 8, this compatibility mode will be on-by-default for all pipelines. <a href="https://github.com/elastic/logstash/issues/11623" class="ulink" target="_top">#11623</a></p>
<p>If you wish to <em>lock in</em> a pipeline&#8217;s behaviour from Logstash 7.x before upgrading to Logstash 8, you can set  <code class="literal">pipeline.ecs_compatibility: disabled</code> to its definition in <code class="literal">pipelines.yml</code> (or globally in <code class="literal">logstash.yml</code>).</p>
<h5><a id="bc-ruby-engine"></a>Ruby Execution Engine removed<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/logstash/edit/main/docs/static/breaking-changes.asciidoc">edit</a></h5>
<p>The Java Execution Engine has been the default engine since Logstash 7.0, and works with plugins written in either Ruby or Java.
Removal of the Ruby Execution Engine will not affect the ability to run existing pipelines. <a href="https://github.com/elastic/logstash/pull/12517" class="ulink" target="_top">#12517</a></p>
<h5><a id="bc-utf-16"></a>Support for UTF-16<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/logstash/edit/main/docs/static/breaking-changes.asciidoc">edit</a></h5>
<p>We have added support for UTF-16 and other multi-byte-character when reading log files. <a href="https://github.com/elastic/logstash/pull/9702" class="ulink" target="_top">#9702</a></p>
<h5><a id="bc-field-ref-parser"></a>Field Reference parser removed<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/logstash/edit/main/docs/static/breaking-changes.asciidoc">edit</a></h5>
<p>The Field Reference parser interprets references to fields in your pipelines and
plugins. It was configurable in 7.x, with the default set to strict to reject
inputs that are ambiguous or illegal. Configurability is removed in 8.0. Now
Logstash rejects ambiguous and illegal inputs as standard behavior.</p>
</div>
<div class="navfooter">
<span class="prev">
<a href="breaking-changes.html">« Breaking Changes</a>
</span>
<span class="next">
<a href="breaking-7.0.html">Breaking changes in 7.0 »</a>
</span>
</div>
</div>
</body>
</html>
