<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title xmlns="">Logging
        | Logstash Reference [5.0]
      | Elastic
    </title><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Logstash Reference [5.0]" /><link rel="up" href="setup-logstash.html" title="Setting Up and Running Logstash" /><link rel="prev" href="command-line-flags.html" title="Command-Line Flags" /><link rel="next" href="stalled-shutdown.html" title="Stalled Shutdown Detection" /><meta xmlns="" name="description" content="Get started with the documentation for Elasticsearch, Kibana, Logstash, Beats, X-Pack, Elastic Cloud, Elasticsearch for Apache Hadoop, and our language clients." /><meta xmlns="" name="DC.type" content="Learn/Docs/Logstash/Reference/5.0" /><meta xmlns="" name="DC.subject" content="Logstash" /><meta xmlns="" name="DC.identifier" content="5.0" /></head><body><div xmlns="" class="page_header">You are looking at documentation for an older release.
Not what you want? See the
<a href="../current/index.html">current release documentation</a>.
</div><div xmlns="" class="breadcrumbs"><span class="breadcrumb-link"><a href="index.html">Logstash Reference
      [5.0]
    </a></span> » <span class="breadcrumb-link"><a href="setup-logstash.html">Setting Up and Running Logstash</a></span> » <span class="breadcrumb-node">Logging</span></div><div xmlns="" class="navheader"><span class="prev"><a href="command-line-flags.html">
              « 
              Command-Line Flags</a>
           
        </span><span class="next">
           
          <a href="stalled-shutdown.html">Stalled Shutdown Detection
               »
            </a></span></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="logging"></a>Logging<a xmlns="" href="https://github.com/elastic/logstash/edit/5.0/docs/static/logging.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h2></div></div></div><p>Logstash emits internal logs during its operation, which are placed in <code class="literal">LS_HOME/logs</code> (or <code class="literal">/var/log/logstash</code> for
DEB/RPM). The default logging level is <code class="literal">INFO</code>. Logstash’s logging framework is based on
<a class="ulink" href="http://logging.apache.org/log4j/2.x/" target="_top">Log4j 2 framework</a>, and much of its functionality is exposed directly to users.</p><p>When debugging problems, particularly problems with plugins, it can be helpful to increase the logging level to <code class="literal">DEBUG</code>
to emit more verbose messages. Previously, you could only set a log level that applied to the entire Logstash product.
Starting with 5.0, you can configure logging for a particular subsystem in Logstash. For example, if you are
debugging issues with Elasticsearch Output, you can increase log levels just for that component. This way
you can reduce noise due to excessive logging and focus on the problem area effectively.</p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_log_file_location"></a>Log file location<a xmlns="" href="https://github.com/elastic/logstash/edit/5.0/docs/static/logging.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p>You can specify the log file location using <code class="literal">--path.logs</code> setting.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_log4j_2_configuration"></a>Log4j 2 Configuration<a xmlns="" href="https://github.com/elastic/logstash/edit/5.0/docs/static/logging.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p>Logstash ships with a <code class="literal">log4j2.properties</code> file with out-of-the-box settings. You  can modify this file directly to change the
rotation policy, type, and other <a class="ulink" href="https://logging.apache.org/log4j/2.x/manual/configuration.html#Loggers" target="_top">log4j2 configuration</a>.
You must restart Lostash to apply any changes that you make to this file.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_logging_apis"></a>Logging APIs<a xmlns="" href="https://github.com/elastic/logstash/edit/5.0/docs/static/logging.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p>You could modify the <code class="literal">log4j2.properties</code> file and restart your Logstash, but that is both tedious and leads to unnecessary
downtime. Instead, you can dynamically update logging levels through the logging API. These settings are effective
immediately and do not need a restart. To update logging levels, take the subsystem/module you are interested in and prepend
<code class="literal">logger.</code> to it. For example:</p><div xmlns="" class="pre_wrapper lang-js"><pre xmlns="http://www.w3.org/1999/xhtml" class="programlisting prettyprint lang-js">PUT /_node/logging
{
    "logger.logstash.outputs.elasticsearch" : "DEBUG"
}</pre></div><p>While this setting is in effect, Logstash will begin to emit DEBUG-level logs for <span class="emphasis"><em>all</em></span> the Elasticsearch outputs
specified in your configuration. Please note this new setting is transient and will not survive a restart.</p><p>To retrieve a list of logging subsystems available at runtime, you can do a <code class="literal">GET</code> request to <code class="literal">_node/logging</code></p><div xmlns="" class="pre_wrapper lang-js"><pre xmlns="http://www.w3.org/1999/xhtml" class="programlisting prettyprint lang-js">GET /_node/logging?pretty</pre></div><p>Example response:</p><div xmlns="" class="pre_wrapper lang-js"><pre xmlns="http://www.w3.org/1999/xhtml" class="programlisting prettyprint lang-js">{
...
"loggers" : {
   "logstash.registry" : "WARN",
   "logstash.instrument.periodicpoller.os" : "WARN",
   "logstash.instrument.collector" : "WARN",
   "logstash.runner" : "WARN",
   "logstash.inputs.stdin" : "WARN",
   "logstash.outputs.stdout" : "WARN",
   "logstash.agent" : "WARN",
   "logstash.api.service" : "WARN",
   "logstash.instrument.periodicpoller.jvm" : "WARN",
   "logstash.pipeline" : "WARN",
   "logstash.codecs.line" : "WARN"
   }
}</pre></div></div></div><div xmlns="" class="navfooter"><span class="prev"><a href="command-line-flags.html">
              « 
              Command-Line Flags</a>
           
        </span><span class="next">
           
          <a href="stalled-shutdown.html">Stalled Shutdown Detection
               »
            </a></span></div></body></html>