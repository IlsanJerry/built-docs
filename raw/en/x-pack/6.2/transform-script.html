<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title xmlns="">Script Transform
        | X-Pack for the Elastic Stack [6.2]
      | Elastic
    </title><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="X-Pack for the Elastic Stack [6.2]" /><link rel="up" href="transform.html" title="Transforms" /><link rel="prev" href="transform-search.html" title="Search Transform" /><link rel="next" href="transform-chain.html" title="Chain Transform" /><meta xmlns="" name="description" content="Get started with the documentation for Elasticsearch, Kibana, Logstash, Beats, X-Pack, Elastic Cloud, Elasticsearch for Apache Hadoop, and our language clients." /><meta xmlns="" name="DC.type" content="Learn/Docs/Legacy/XPack/Reference/6.2" /><meta xmlns="" name="DC.subject" content="X-Pack" /><meta xmlns="" name="DC.identifier" content="6.2" /><meta xmlns="" name="robots" content="noindex,nofollow" /></head><body><div xmlns="" class="page_header">You are looking at documentation for an older release.  Not what you want? 
See the <a href="https://www.elastic.co/guide/en/elastic-stack-overview/current/index.html">current release documentation</a>.</div><div xmlns="" class="breadcrumbs"><span class="breadcrumb-link"><a href="index.html">X-Pack for the Elastic Stack
      [6.2]
    </a></span> » <span class="breadcrumb-link"><a href="xpack-alerting.html">Alerting on Cluster and Index Events</a></span> » <span class="breadcrumb-link"><a href="transform.html">Transforms</a></span> » <span class="breadcrumb-node">Script Transform</span></div><div xmlns="" class="navheader"><span class="prev"><a href="transform-search.html">
              « 
              Search Transform</a>
           
        </span><span class="next">
           
          <a href="transform-chain.html">Chain Transform
               »
            </a></span></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="transform-script"></a>Script Transform</h2></div></div></div><p>A <a class="link" href="transform.html" title="Transforms">Transform</a> that executes a script on the current payload in the
watch execution context and replaces it with a newly generated one. The following
snippet shows how a simple script transform can be defined on the watch level:</p><div xmlns="" class="tip admon"><div class="icon"><img alt="Tip" src="images/icons/tip.png" /></div><div class="admon_content"><p xmlns="http://www.w3.org/1999/xhtml">The <code class="literal">script</code> transform is often useful when used in combination with the
      <a class="link" href="transform-search.html" title="Search Transform"><code class="literal">search</code></a> transform, where the script can extract only
      the significant data from a search result, and by that, keep the payload
      minimal. This can be achieved with the <a class="link" href="transform-chain.html" title="Chain Transform"><code class="literal">chain</code></a>
      transform.</p></div></div><div xmlns="" class="pre_wrapper lang-js"><pre xmlns="http://www.w3.org/1999/xhtml" class="programlisting prettyprint lang-js">{
  "transform" : {
    "script" : "return [ 'time' : ctx.trigger.scheduled_time ]" <a id="CO48-1"></a><i xmlns="" class="conum" data-value="1"></i>
  }
}</pre></div><div class="calloutlist"><table border="0" summary="Callout list"><tr><td width="5%" valign="top" align="left"><p><a href="#CO48-1"><i xmlns="" class="conum" data-value="1"></i></a> </p></td><td valign="top" align="left"><p>A simple <code class="literal">painless</code> script that creates a new payload with a single <code class="literal">time</code>
field holding the scheduled time.</p></td></tr></table></div><div xmlns="" class="note admon"><div class="icon"><img alt="Note" src="images/icons/note.png" /></div><div class="admon_content"><p xmlns="http://www.w3.org/1999/xhtml">The executed script may either return a valid model that is the equivalent
      of a Java™ Map or a JSON object (you will need to consult the
      documentation of the specific scripting language to find out what this
      construct is). Any other value that is returned will be assigned and
      accessible to/via the <code class="literal">_value</code> variable.</p></div></div><p>The <code class="literal">script</code> attribute may hold a string value in which case it will be treated
as an inline script and the default elasticsearch script languages will be assumed
(as described in <a class="ulink" href="https://www.elastic.co/guide/en/elasticsearch/reference/6.2/modules-scripting.html#modules-scripting" target="_top">here</a>). You can
use the other scripting languages supported by Elasticsearch. For this, you need
to set the <code class="literal">script</code> field to an object describing the script and its language.
The following table lists the possible settings that can be configured:</p><div class="table"><a id="transform-script-settings"></a><p class="title"><strong>Table 35. Script Transform Settings</strong></p><div class="table-contents"><table summary="Script Transform Settings" cellpadding="4px" border="1"><colgroup><col class="col_1" /><col class="col_2" /><col class="col_3" /><col class="col_4" /></colgroup><thead><tr><th align="left" valign="top">Name</th><th align="left" valign="top">Required</th><th align="left" valign="top">Default</th><th align="left" valign="top">Description</th></tr></thead><tbody><tr><td align="left" valign="top"><p><code class="literal">inline</code></p></td><td align="left" valign="top"><p>yes</p></td><td align="left" valign="top"><p>-</p></td><td align="left" valign="top"><p>When using an inline script, this field holds
                                     the script itself.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">id</code></p></td><td align="left" valign="top"><p>yes</p></td><td align="left" valign="top"><p>-</p></td><td align="left" valign="top"><p>When referring to a stored script, this
                                     field holds the id of the script.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">lang</code></p></td><td align="left" valign="top"><p>no</p></td><td align="left" valign="top"><p><code class="literal">painless</code></p></td><td align="left" valign="top"><p>The script language</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">params</code></p></td><td align="left" valign="top"><p>no</p></td><td align="left" valign="top"><p>-</p></td><td align="left" valign="top"><p>Additional parameters/variables that are
                                     accessible by the script</p></td></tr></tbody></table></div></div><p>When using the object notation of the script, one (and only one) of <code class="literal">inline</code>,
or <code class="literal">id</code> fields must be defined.</p><div xmlns="" class="note admon"><div class="icon"><img alt="Note" src="images/icons/note.png" /></div><div class="admon_content"><p xmlns="http://www.w3.org/1999/xhtml">In addition to the provided <code class="literal">params</code>, the scripts also have access to the
      <a class="link" href="how-watcher-works.html#watch-execution-context" title="Watch Execution Context">Standard Watch Execution Context Parameters</a>.</p></div></div></div><div xmlns="" class="navfooter"><span class="prev"><a href="transform-search.html">
              « 
              Search Transform</a>
           
        </span><span class="next">
           
          <a href="transform-chain.html">Chain Transform
               »
            </a></span></div></body></html>