<!DOCTYPE html>
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Setting Up User Authentication
        | X-Pack for the Elastic Stack [5.3]
      | Elastic
    </title><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="X-Pack for the Elastic Stack [5.3]" /><link rel="up" href="xpack-security.html" title="Securing Elasticsearch and Kibana" /><link rel="prev" href="how-security-works.html" title="How Security Works" /><link rel="next" href="_how_authentication_works.html" title="How Authentication Works" /><meta name="description" content="Get started with the documentation for Elasticsearch, Kibana, Logstash, Beats, X-Pack, Elastic Cloud, Elasticsearch for Apache Hadoop, and our language clients." /><meta name="DC.type" content="Learn/Docs/Legacy/XPack/Reference/5.3" /><meta name="DC.subject" content="X-Pack" /><meta name="DC.identifier" content="5.3" /><meta name="robots" content="noindex,nofollow" /></head><body><div class="page_header">You are looking at documentation for an older release.
Not what you want? See the
<a href="../current/index.html">current release documentation</a>.
</div><div class="breadcrumbs"><span class="breadcrumb-link"><a href="index.html">X-Pack for the Elastic Stack
      [5.3]
    </a></span> » <span class="breadcrumb-link"><a href="xpack-security.html">Securing Elasticsearch and Kibana</a></span> » <span class="breadcrumb-node">Setting Up User Authentication</span></div><div class="navheader"><span class="prev"><a href="how-security-works.html">
              « 
              How Security Works</a>
           
        </span><span class="next">
           
          <a href="_how_authentication_works.html">How Authentication Works
               »
            </a></span></div><div class="chapter"><div class="titlepage"><div><div><h2 class="title"><a id="setting-up-authentication"></a>Setting Up User Authentication</h2></div></div></div><p>Authentication identifies an individual. To gain access to restricted resources,
a user must prove their identity, via passwords, credentials, or some other
means (typically referred to as authentication tokens).</p><p>You can use the native support for managing and authenticating users, or
integrate with external user management systems such as LDAP and Active
Directory. For information about managing native users,
see <a class="link" href="native-realm.html#managing-native-users" title="Managing Native Users">Managing Native Users</a>.</p><h3><a id="built-in-users"></a>Built-in Users</h3><p>X-Pack security provides built-in user credentials to help you get up and running.
These users have a fixed set of privileges and the default password <code class="literal">changeme</code>.</p><div class="table"><a id="id-1.5.5.6"></a><p class="title"><strong>Table 3. X-Pack security Built-in Users</strong></p><div class="table-contents"><table summary="X-Pack security Built-in Users" cellpadding="4px" border="1"><colgroup><col class="col_1" /><col class="col_2" /></colgroup><tbody><tr><td align="left" valign="top"><p>Name</p></td><td align="left" valign="top"><p>Description</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">elastic</code></p></td><td align="left" valign="top"><p>A built-in <a class="link" href="built-in-roles.html#built-in-roles-superuser"><span class="emphasis"><em>superuser</em></span></a>.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">kibana</code></p></td><td align="left" valign="top"><p>The user Kibana uses to connect and communicate with Elasticsearch.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">logstash_system</code></p></td><td align="left" valign="top"><p>The user Logstash uses when storing monitoring information in Elasticsearch.</p></td></tr></tbody></table></div></div><div class="important admon"><div class="icon"><img alt="Important" src="images/icons/important.png" /></div><div class="admon_content"><a id="reset-built-in-user-passwords"></a><p>You must reset the default passwords for all built-in users. You can update
passwords from the <span class="strong strong"><strong>Management &gt; Users</strong></span> UI in Kibana or with the
<a class="link" href="security-api-users.html#security-api-reset-user-password">Reset Password API</a>:</p><div class="pre_wrapper lang-console"><pre class="programlisting prettyprint lang-console">PUT _xpack/security/user/elastic/_password
{
  "password": "elasticpassword"
}</pre></div><div class="console_widget" data-snippet="snippets/2.console"></div><div class="pre_wrapper lang-console"><pre class="programlisting prettyprint lang-console">PUT _xpack/security/user/kibana/_password
{
  "password": "kibanapassword"
}</pre></div><div class="console_widget" data-snippet="snippets/3.console"></div><div class="pre_wrapper lang-console"><pre class="programlisting prettyprint lang-console">PUT _xpack/security/user/logstash_system/_password
{
  "password": "logstashpassword"
}</pre></div><div class="console_widget" data-snippet="snippets/4.console"></div><p>Once the <code class="literal">kibana</code> user password is reset, you need to update the Kibana server
with the new password by setting <code class="literal">elasticsearch.password</code> in the
<code class="literal">kibana.yml</code> configuration file:</p><div class="pre_wrapper lang-yaml"><pre class="programlisting prettyprint lang-yaml">elasticsearch.password: kibanapassword</pre></div><p>The <code class="literal">logstash_system</code> user is used internally within Logstash when
<a class="link" href="monitoring-settings.html#monitoring-logstash-settings" title="Monitoring Logstash Settings">monitoring</a> is enabled for logstash</p><p>If you wish to enable this feature in Logstash, then you need to update the Logstash
configuration with the new password by setting <code class="literal">xpack.monitoring.elasticsearch.password</code> in
the <code class="literal">logstash.yml</code> configuration file:</p><div class="pre_wrapper lang-yaml"><pre class="programlisting prettyprint lang-yaml">xpack.monitoring.elasticsearch.password: logstashpassword</pre></div><p>If you have upgraded from an older version of elasticsearch/x-pack,
the <code class="literal">logstash_system</code> user may have defaulted to <span class="emphasis"><em>disabled</em></span> for security reasons.
Once the password has been changed, you can enable the user via the following API call:</p><div class="pre_wrapper lang-console"><pre class="programlisting prettyprint lang-console">PUT _xpack/security/user/logstash_system/_enable</pre></div><div class="console_widget" data-snippet="snippets/5.console"></div></div></div></div><div class="navfooter"><span class="prev"><a href="how-security-works.html">
              « 
              How Security Works</a>
           
        </span><span class="next">
           
          <a href="_how_authentication_works.html">How Authentication Works
               »
            </a></span></div></body></html>
