<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title xmlns="">Manage Snapshot Repositories
        | Elastic Cloud Enterprise Reference [1.0]
      | Elastic
    </title><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Elastic Cloud Enterprise Reference [1.0]" /><link rel="up" href="ece-configuring-ece.html" title="Configuring Your Installation" /><link rel="prev" href="ece-configuring-ece.html" title="Configuring Your Installation" /><link rel="next" href="ece-add-license.html" title="Manage Licenses" /><meta xmlns="" name="description" content="Get started with the documentation for Elasticsearch, Kibana, Logstash, Beats, X-Pack, Elastic Cloud, Elasticsearch for Apache Hadoop, and our language clients." /><meta xmlns="" name="DC.type" content="Learn/Docs/CloudEnterprise/Reference/1.0" /><meta xmlns="" name="DC.subject" content="ECE" /><meta xmlns="" name="DC.identifier" content="1.0" /></head><body><div xmlns="" class="page_header">You are looking at documentation for an older release.
Not what you want? See the
<a href="../current/index.html">current release documentation</a>.
</div><div xmlns="" class="breadcrumbs"><span class="breadcrumb-link"><a href="index.html">Elastic Cloud Enterprise Reference
      [1.0]
    </a></span> » <span class="breadcrumb-link"><a href="ece-configuring-ece.html">Configuring Your Installation</a></span> » <span class="breadcrumb-node">Manage Snapshot Repositories</span></div><div xmlns="" class="navheader"><span class="prev"><a href="ece-configuring-ece.html">
              « 
              Configuring Your Installation</a>
           
        </span><span class="next">
           
          <a href="ece-add-license.html">Manage Licenses
               »
            </a></span></div><div class="chapter"><div class="titlepage"><div><div><h2 class="title"><a id="ece-manage-repositories"></a>Manage Snapshot Repositories</h2></div></div></div><p>Snapshot repositories are managed for your entire Elastic Cloud Enterprise installation and can be specified for an Elasticsearch cluster when you create or manage it. When a repository is specified, a snapshot is taken every 30 minutes or at the interval you specify through your user settings.</p><p>Support for the following repositories is available through the Elastic core repository plugins:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
<a class="ulink" href="https://www.elastic.co/guide/en/elasticsearch/plugins/6.0/repository-s3.html" target="_top">Amazon S3</a>



</li></ul></div><p>To learn more about how snapshots are used with Elasticsearch, see <a class="ulink" href="https://www.elastic.co/guide/en/elasticsearch/reference/6.0/modules-snapshots.html#_snapshot" target="_top">Snapshot and Restore</a>. To learn more about each of these storage repositories, see their official documentation:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
<a class="ulink" href="http://docs.aws.amazon.com/AmazonS3/latest/dev/Introduction.html" target="_top">Amazon S3 documentation</a>



</li></ul></div><h3><a id="ece-manage-repositories-add"></a>Add Snapshot Repository Configurations</h3><p>Before any snapshot or restore operation can be performed for Elasticsearch clusters, at least one snapshot repository configuration needs to be added to your Elastic Cloud Enterprise installation.</p><p>To add a snapshot repository:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
<a class="link" href="ece-provisioning.html#ece-login" title="Log into the Cloud UI">Log into the Cloud UI</a>.
</li><li class="listitem">
Go to the <span class="strong strong"><strong>Platform</strong></span> page and select an Elastic Cloud Enterprise installation.
</li><li class="listitem">
Click the <span class="strong strong"><strong>Repositories</strong></span> tab.
</li><li class="listitem">
Click <span class="strong strong"><strong>Create Repository</strong></span> to add an existing repository.
</li><li class="listitem">
Provide a name for the repository configuration.
</li><li class="listitem"><p class="simpara">
Select one of the supported repository types and specify the necessary settings:
</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
Amazon S3 configuration:
</p><p class="simpara">All repository options must be specified, as there are no default values.</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">
Region
</span></dt><dd>
The region where the bucket is located.
</dd><dt><span class="term">
Bucket
</span></dt><dd>
The name of the bucket to be used for snapshots.
</dd><dt><span class="term">
Access key
</span></dt><dd>
The access key to use for authentication.
</dd><dt><span class="term">
Secret key
</span></dt><dd>
The secret key to use for authentication.
</dd></dl></div></li><li class="listitem"><p class="simpara">
Advanced configuration:
</p><p class="simpara">Used

for Amazon S3 repositories where you need to provide additional configuration parameters not supported by the S3 repository option. Configurations must be specified in a valid JSON format. For example:</p><p class="simpara">Amazon S3 (see <a class="ulink" href="https://www.elastic.co/guide/en/elasticsearch/plugins/6.0/repository-s3-repository.html" target="_top">supported settings</a>):</p><div xmlns="" class="pre_wrapper lang-json"><pre xmlns="http://www.w3.org/1999/xhtml" class="programlisting prettyprint lang-json">{
  "type": "s3",
  "settings": {
    "bucket": "my_bucket_name",
    "region": "us-west"
  }
}</pre></div></li></ul></div></li><li class="listitem">
Click <span class="strong strong"><strong>Save</strong></span>.
</li></ol></div><h3><a id="_edit_snapshot_repository_configurations"></a>Edit Snapshot Repository Configurations</h3><p>To edit a snapshot repository configuration from your Elastic Cloud Enterprise installation:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
<a class="link" href="ece-provisioning.html#ece-login" title="Log into the Cloud UI">Log into the Cloud UI</a>.
</li><li class="listitem">
Go to the <span class="strong strong"><strong>Platform</strong></span> page and select an Elastic Cloud Enterprise installation.
</li><li class="listitem">
Click the <span class="strong strong"><strong>Repositories</strong></span> tab.
</li><li class="listitem"><p class="simpara">
Click <span class="strong strong"><strong>Edit</strong></span> to modify a snapshot repository configuration.
</p><p class="simpara">For available options you can change, see <a class="link" href="ece-manage-repositories.html" title="Manage Snapshot Repositories">Add Snapshot Repository Configurations</a>.</p></li><li class="listitem">
Click <span class="strong strong"><strong>Save</strong></span>.
</li></ol></div><h3><a id="_delete_snapshot_repository_configurations"></a>Delete Snapshot Repository Configurations</h3><p>Deleting a snapshot repository configuration does not remove the snapshot repository itself from S3. Only the configuration that enables Elastic Cloud Enterprise to access the repository is removed. Existing snapshots are also retained and need to be deleted separately if you no longer need them.</p><p>To delete a snapshot repository configuration from your Elastic Cloud Enterprise installation:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
<a class="link" href="ece-provisioning.html#ece-login" title="Log into the Cloud UI">Log into the Cloud UI</a>.
</li><li class="listitem">
Go to the <span class="strong strong"><strong>Platform</strong></span> page and select an Elastic Cloud Enterprise installation.
</li><li class="listitem">
Click the <span class="strong strong"><strong>Repositories</strong></span> tab.
</li><li class="listitem">
Click <span class="strong strong"><strong>Delete</strong></span> to remove snapshot repository configuration.
</li></ol></div><h3><a id="ece-manage-repositories-clusters"></a>Manage Elasticsearch Cluster Repositories</h3><p>You might need to update existing Elasticsearch clusters to use a different snapshot repository for one of the following reasons:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
If you do not want all snapshots for a specific Elasticsearch cluster to go into the same bucket as your other clusters, you can add a new snapshot repository configuration with separate permissions and then change your Elasticsearch cluster to use the new repository.
</li><li class="listitem">
If you created an Elasticsearch cluster with no snapshot repository configured, you can add a repository later on. Elastic Cloud Enterprise will start taking snapshots of the cluster automatically.
</li></ul></div><p>To change the snapshot repository for an existing Elasticsearch cluster:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
<a class="link" href="ece-provisioning.html#ece-login" title="Log into the Cloud UI">Log into the Cloud UI</a>.
</li><li class="listitem">
Optional: If you need to use a repository that is not yet listed, <a class="link" href="ece-manage-repositories.html" title="Manage Snapshot Repositories">add a snapshot repository configuration</a> first.
</li><li class="listitem">
Select a cluster on the <span class="strong strong"><strong>Clusters</strong></span> panel and click <span class="strong strong"><strong>Manage</strong></span>.
</li><li class="listitem">
Under <span class="strong strong"><strong>Snapshot repository</strong></span>, select a different repository and click <span class="strong strong"><strong>Save repository</strong></span>.
</li></ol></div><p>Future snapshots will be sent to the new repository.</p></div><div xmlns="" class="navfooter"><span class="prev"><a href="ece-configuring-ece.html">
              « 
              Configuring Your Installation</a>
           
        </span><span class="next">
           
          <a href="ece-add-license.html">Manage Licenses
               »
            </a></span></div></body></html>