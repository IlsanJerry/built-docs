<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title xmlns="">Set the Retention Period for Logging and Metrics Indices
        | Elastic Cloud Enterprise Reference [2.0]
      | Elastic
    </title><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Elastic Cloud Enterprise Reference [2.0]" /><link rel="up" href="ece-monitoring-ece.html" title="Monitoring Your Installation" /><link rel="prev" href="ece-monitoring-ece-access.html" title="Access Logs and Metrics" /><link rel="next" href="ece-monitoring-ece-proxies.html" title="Scenario: Knowing When You Need More Proxies" /><meta xmlns="" name="description" content="Get started with the documentation for Elasticsearch, Kibana, Logstash, Beats, X-Pack, Elastic Cloud, Elasticsearch for Apache Hadoop, and our language clients." /><meta xmlns="" name="DC.type" content="Learn/Docs/CloudEnterprise/Reference/2.0" /><meta xmlns="" name="DC.subject" content="ECE" /><meta xmlns="" name="DC.identifier" content="2.0" /></head><body><div xmlns="" class="page_header">You are looking at documentation for an older release.
Not what you want? See the
<a href="../current/index.html">current release documentation</a>.
</div><div xmlns="" class="breadcrumbs"><span class="breadcrumb-link"><a href="index.html">Elastic Cloud Enterprise Reference
      [2.0]
    </a></span> » <span class="breadcrumb-link"><a href="ece-monitoring-ece.html">Monitoring Your Installation</a></span> » <span class="breadcrumb-node">Set the Retention Period for Logging and Metrics Indices</span></div><div xmlns="" class="navheader"><span class="prev"><a href="ece-monitoring-ece-access.html">
              « 
              Access Logs and Metrics</a>
           
        </span><span class="next">
           
          <a href="ece-monitoring-ece-proxies.html">Scenario: Knowing When You Need More Proxies
               »
            </a></span></div><div class="chapter"><div class="titlepage"><div><div><h2 class="title"><a id="ece-monitoring-ece-set-retention"></a>Set the Retention Period for Logging and Metrics Indices</h2></div></div></div><p>Elastic Cloud Enterprise automatically curates the logging and metrics indices it collects. By default, metrics indices are kept for one day and logging indices are kept for seven days. This retention period can be adjusted.</p><p>You might need to adjust the retention period for one of the following reasons:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
If your business requires you to retain logs and metrics for longer than the default period.
</li><li class="listitem">
If the volume of logs and metrics collected is high enough to require reducing the amount of storage space consumed.
</li></ul></div><p>To run the <code class="literal">elastic-cloud-enterprise.sh set-logging-and-metrics-policy</code> script that lets you set the retention period, a user must be part of the <code class="literal">docker</code> group. The host that you run this script on must be the first host that you installed Elastic Cloud Enterprise on or a host that holds the director role.</p><p>Extending the retention period can consume considerable amounts of disk space. If you extend the period, you must monitor the <code class="literal">logging-and-metrics</code> cluster to ensure that it does not run out of storage.</p><p>To change the retention period for the <code class="literal">cluster-logs-*</code> index pattern to 14 days from the command line:</p><pre class="literallayout">bash elastic-cloud-enterprise.sh set-logging-and-metrics-policy --pattern cluster-logs-* --days 14</pre><p>Additional options for working with these retention periods are available. To learn more, see <a class="link" href="ece-installation-script-set-logging-and-metrics-policy.html" title="elastic-cloud-enterprise.sh set-logging-and-metrics-policy"><code class="literal">elastic-cloud-enterprise.sh set-logging-and-metrics-policy</code></a>.</p></div><div xmlns="" class="navfooter"><span class="prev"><a href="ece-monitoring-ece-access.html">
              « 
              Access Logs and Metrics</a>
           
        </span><span class="next">
           
          <a href="ece-monitoring-ece-proxies.html">Scenario: Knowing When You Need More Proxies
               »
            </a></span></div></body></html>