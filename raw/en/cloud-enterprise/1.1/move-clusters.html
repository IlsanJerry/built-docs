<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Move clusters | Elastic Cloud Enterprise Reference [1.1] | Elastic</title>
<link rel="home" href="index.html" title="Elastic Cloud Enterprise Reference [1.1]"/>
<link rel="up" href="Platform_-_Allocators.html" title="Platform - Allocators"/>
<link rel="prev" href="get-allocator.html" title="Get allocator"/>
<link rel="next" href="move-clusters-by-type.html" title="Move clusters by type"/>
<meta name="DC.type" content="Learn/Docs/CloudEnterprise/Reference/1.1"/>
<meta name="DC.subject" content="ECE"/>
<meta name="DC.identifier" content="1.1"/>
</head>
<body><div class="page_header">
A newer version is available. For the latest information, see the
<a href="../current/index.html">current release documentation</a>.
</div>
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="index.html">Elastic Cloud Enterprise Reference [1.1]</a></span>
»
<span class="breadcrumb-link"><a href="ece-api-reference.html">API Reference</a></span>
»
<span class="breadcrumb-link"><a href="Platform_-_Allocators.html">Platform - Allocators</a></span>
»
<span class="breadcrumb-node">Move clusters</span>
</div>
<div class="navheader">
<span class="prev">
<a href="get-allocator.html">« Get allocator</a>
</span>
<span class="next">
<a href="move-clusters-by-type.html">Move clusters by type »</a>
</span>
</div>
<div class="section">
<div class="titlepage"><div><div>
<h2 class="title"><a id="move-clusters"></a>Move clusters</h2>
</div></div></div>
<p>Moves clusters off an allocator.</p>
<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="_request_56"></a>Request</h3>
</div></div></div>
<p><code class="literal">POST /api/v1/platform/infrastructure/allocators/{allocator_id}/clusters/_move</code></p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="_path_parameters_49"></a>Path Parameters</h3>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">allocator_id</code> (required)
</span>
</dt>
<dd>
(<code class="literal">string</code>) The identifier of the allocator of which to move clusters.
</dd>
</dl>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="_query_parameters_42"></a>Query Parameters</h3>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">allocator_down</code>
</span>
</dt>
<dd>
(<code class="literal">boolean</code>; default: <code class="literal">false</code>) Tells the infrastructure that all instances on the allocator should be considered as permanently down when deciding how to migrate data to new nodes. If left blank then the system will auto-decide (currently: will treat the allocator as up)
</dd>
<dt>
<span class="term">
<code class="literal">force_update</code>
</span>
</dt>
<dd>
(<code class="literal">boolean</code>; default: <code class="literal">false</code>) If true, will cancel any pending plans and overwrite with this move plan for all clusters, else will error
</dd>
<dt>
<span class="term">
<code class="literal">validate_only</code>
</span>
</dt>
<dd>
(<code class="literal">boolean</code>; default: <code class="literal">false</code>) If true, will validate the plan overrides and return the plan that would be applied, without performing the move.
</dd>
</dl>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="_request_body_16"></a>Request body</h3>
</div></div></div>
<p>(<a class="xref" href="MoveClustersRequest.html" title="MoveClustersRequest"><code class="literal">MoveClustersRequest</code></a>) Overrides defaults for the move of each cluster</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="_responses_56"></a>Responses</h3>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">202</code>
</span>
</dt>
<dd>
<p>(<a class="xref" href="MoveClustersCommandResponse.html" title="MoveClustersCommandResponse"><code class="literal">MoveClustersCommandResponse</code></a>) The move command was issued successfully, use the &#34;GET&#34; command on each /&#123;cluster_id&#125; resource to monitor progress</p>
</dd>
<dt>
<span class="term">
<code class="literal">400</code>
</span>
</dt>
<dd>
<p>(<a class="xref" href="BasicFailedReply.html" title="BasicFailedReply"><code class="literal">BasicFailedReply</code></a>) The cluster definition contained errors (code: &#39;clusters.cluster_invalid_plan&#39; and &#39;clusters.plan_feature_not_implemented&#39;)</p>
</dd>
<dt>
<span class="term">
<code class="literal">403</code>
</span>
</dt>
<dd>
<p>(<a class="xref" href="BasicFailedReply.html" title="BasicFailedReply"><code class="literal">BasicFailedReply</code></a>) The move command was prohibited for the given cluster.</p>
</dd>
<dt>
<span class="term">
<code class="literal">449</code>
</span>
</dt>
<dd>
<p>(<a class="xref" href="BasicFailedReply.html" title="BasicFailedReply"><code class="literal">BasicFailedReply</code></a>) When running as an administrator (other than root), sudo is required (code: &#39;root.needs_sudo&#39;)</p>
</dd>
</dl>
</div>
</div>

</div>
<div class="navfooter">
<span class="prev">
<a href="get-allocator.html">« Get allocator</a>
</span>
<span class="next">
<a href="move-clusters-by-type.html">Move clusters by type »</a>
</span>
</div>
</div>
</body>
</html>
