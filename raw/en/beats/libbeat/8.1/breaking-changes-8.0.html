<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Breaking changes in 8.0 | Beats Platform Reference [8.1] | Elastic</title>
<link rel="home" href="index.html" title="Beats Platform Reference [8.1]"/>
<link rel="up" href="breaking-changes.html" title="Breaking changes"/>
<link rel="prev" href="breaking-changes.html" title="Breaking changes"/>
<link rel="next" href="release-notes.html" title="Release notes"/>
<meta name="DC.type" content="Learn/Docs/Libbeat/Reference/8.1"/>
<meta name="DC.subject" content="libbeat"/>
<meta name="DC.identifier" content="8.1"/>
</head>
<body><div class="page_header">
You are looking at preliminary documentation for a future release.
Not what you want? See the
<a href="../current/index.html">current release documentation</a>.
</div>
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="index.html">Beats Platform Reference [8.1]</a></span>
»
<span class="breadcrumb-link"><a href="breaking-changes.html">Breaking changes</a></span>
»
<span class="breadcrumb-node">Breaking changes in 8.0</span>
</div>
<div class="navheader">
<span class="prev">
<a href="breaking-changes.html">« Breaking changes</a>
</span>
<span class="next">
<a href="release-notes.html">Release notes »</a>
</span>
</div>
<div class="section">
<div class="titlepage"><div><div>
<h2 class="title"><a id="breaking-changes-8.0"></a>Breaking changes in 8.0<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/8.1/libbeat/docs/release-notes/breaking/breaking-8.0.asciidoc">edit</a></h2>
</div></div></div>

<p>See the <a class="xref" href="release-notes.html" title="Release notes">release notes</a> for a complete list of breaking changes,
bug fixes, and enhancements, including changes to beta or experimental
functionality.</p>
<h4><a id="_beats_logs_are_now_ecs_compliant"></a>Beats logs are now ECS-compliant<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/8.1/libbeat/docs/release-notes/breaking/breaking-8.0.asciidoc">edit</a></h4>
<p>All Elastic Beats now write ECS-compliant logs in JSON format, and the config
options for enabling ECS/JSON are removed. The new log name format is
<code class="literal">{beatname}-{date}(-n)?.ndjson</code>. For example (from oldest to newest):
<code class="literal">filebeat-20200101.ndjson</code>, <code class="literal">filebeat-20200101-1.ndjson</code>,
<code class="literal">filebeat-20200101-2.ndjson</code>, and so on.</p>
<p>With this change, we now provide a uniform logging scheme across Elastic
products, which makes it easier to develop ECS-aware visualizations for
behaviors like correlating metrics or events across products.</p>
<p>If you have any monitoring configurations that expect the old log format, you
must update them to use the new log format.</p>
<h4><a id="_beats_now_store_events_in_data_streams_instead_of_indices"></a>Beats now store events in data streams instead of indices<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/8.1/libbeat/docs/release-notes/breaking/breaking-8.0.asciidoc">edit</a></h4>
<p>All Beats shippers now store events in data streams in Elasticsearch instead of indices
regardless of the Elasticsearch version. This change affects the underlying data storage
method used in Elasticsearch; it does not change the naming convention. The name of the
data stream follows the format <code class="literal">{beatname}-{version}</code>, and the index pattern is
<code class="literal">{beatname}-{version}</code>. Do not confuse this change with the naming convention we
use in Elastic integrations.</p>
<p>As part of this change, some index lifecycle managment (ILM) options
(<code class="literal">rollover_alias</code> and <code class="literal">pattern</code>) are removed because data streams do not
require index aliases. Also the <code class="literal">setup.template.type</code> option is removed because
it no longer makes sense.</p>
<p>If you are loading JSON index templates by specifying a file in
<code class="literal">setup.template.json.path</code>, make sure you move from the legacy format to
composable index templates.</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>Data streams support create operations only. Thus, there is no
way to use operation types like "index" or "delete" when sending events to Elasticsearch.</p>
</div>
</div>
<p>For more information, refer to the Elasticsearch documentation about
<a href="/guide/en/elasticsearch/reference/8.1/data-streams.html" class="ulink" target="_top">data streams</a>.</p>
</div>
<div class="navfooter">
<span class="prev">
<a href="breaking-changes.html">« Breaking changes</a>
</span>
<span class="next">
<a href="release-notes.html">Release notes »</a>
</span>
</div>
</div>
</body>
</html>
