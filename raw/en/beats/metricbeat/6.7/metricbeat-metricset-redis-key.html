<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title xmlns="">Redis key metricset
        | Metricbeat Reference [6.7]
      | Elastic
    </title><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Metricbeat Reference [6.7]" /><link rel="up" href="metricbeat-module-redis.html" title="Redis module" /><link rel="prev" href="metricbeat-metricset-redis-info.html" title="Redis info metricset" /><link rel="next" href="metricbeat-metricset-redis-keyspace.html" title="Redis keyspace metricset" /><meta xmlns="" name="description" content="Get started with the documentation for Elasticsearch, Kibana, Logstash, Beats, X-Pack, Elastic Cloud, Elasticsearch for Apache Hadoop, and our language clients." /><meta xmlns="" name="DC.type" content="Learn/Docs/Metricbeat/Reference/6.7" /><meta xmlns="" name="DC.subject" content="Metricbeat" /><meta xmlns="" name="DC.identifier" content="6.7" /></head><body><div xmlns="" class="page_header">You are looking at documentation for an older release.
Not what you want? See the
<a href="../current/index.html">current release documentation</a>.
</div><div xmlns="" class="breadcrumbs"><span class="breadcrumb-link"><a href="index.html">Metricbeat Reference
      [6.7]
    </a></span> » <span class="breadcrumb-link"><a href="metricbeat-modules.html">Modules</a></span> » <span class="breadcrumb-link"><a href="metricbeat-module-redis.html">Redis module</a></span> » <span class="breadcrumb-node">Redis key metricset</span></div><div xmlns="" class="navheader"><span class="prev"><a href="metricbeat-metricset-redis-info.html">
              « 
              Redis info metricset</a>
           
        </span><span class="next">
           
          <a href="metricbeat-metricset-redis-keyspace.html">Redis keyspace metricset
               »
            </a></span></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="metricbeat-metricset-redis-key"></a>Redis key metricset<a xmlns="" href="https://github.com/elastic/beats/edit/6.7/metricbeat/docs/modules/redis/key.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h2></div></div></div><p>The Redis <code class="literal">key</code> metricset collects information about Redis keys.</p><p>For each key matching one of the configured patterns, an event is sent to
Elasticsearch with information about this key, what includes the type, its
length when available, and its ttl.</p><p>Patterns are configured as a list containing these fields:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
<code class="literal">pattern</code> (required): pattern for key names, as accepted by the Redis
  <code class="literal">KEYS</code> or <code class="literal">SCAN</code> commands.
</li><li class="listitem">
<code class="literal">limit</code> (optional): safeguard when using patterns with wildcards to avoid
  collecting too many keys (Default: 0, no limit)
</li><li class="listitem">
<code class="literal">keyspace</code> (optional): Identifier of the database to use to look for the keys
  (Default: 0)
</li></ul></div><p>For example the following configuration will collect information about all keys
whose name starts with <code class="literal">pipeline-*</code>, with a limit of 20 keys.</p><div xmlns="" class="pre_wrapper lang-yaml"><pre xmlns="http://www.w3.org/1999/xhtml" class="programlisting prettyprint lang-yaml">- module: redis
  metricsets: ['key']
  key.patterns:
    - pattern: 'pipeline-*'
      limit: 20</pre></div><h3><a id="_dashboard_4"></a>Dashboard<a xmlns="" href="https://github.com/elastic/beats/edit/6.7/metricbeat/module/redis/key/_meta/docs.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3><p>The Redis key metricset comes with a predefined dashboard. For example:</p><div class="informalfigure"><div class="mediaobject"><img src="./images/metricbeat_redis_key_dashboard.png" alt="./images/metricbeat_redis_key_dashboard.png" /></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_fields_88"></a>Fields<a xmlns="" href="https://github.com/elastic/beats/edit/6.7/metricbeat/docs/modules/redis/key.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p>For a description of each field in the metricset, see the
<a class="link" href="exported-fields-redis.html" title="Redis fields">exported fields</a> section.</p><p>Here is an example document generated by this metricset:</p><div xmlns="" class="pre_wrapper lang-json"><pre xmlns="http://www.w3.org/1999/xhtml" class="programlisting prettyprint lang-json">{
    "@timestamp": "2017-10-12T08:05:34.853Z",
    "agent": {
        "hostname": "host.example.com",
        "name": "host.example.com"
    },
    "event": {
        "dataset": "redis.key",
        "duration": 115000,
        "module": "redis"
    },
    "metricset": {
        "name": "key"
    },
    "redis": {
        "key": {
            "expire": {
                "ttl": 360
            },
            "id": "0:foo",
            "length": 3,
            "name": "foo",
            "type": "string"
        },
        "keyspace": {
            "id": "db0"
        }
    },
    "service": {
        "address": "192.168.32.2:6379",
        "type": "redis"
    }
}</pre></div></div></div><div xmlns="" class="navfooter"><span class="prev"><a href="metricbeat-metricset-redis-info.html">
              « 
              Redis info metricset</a>
           
        </span><span class="next">
           
          <a href="metricbeat-metricset-redis-keyspace.html">Redis keyspace metricset
               »
            </a></span></div></body></html>