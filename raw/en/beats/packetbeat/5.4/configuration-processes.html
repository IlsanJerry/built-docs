<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title xmlns="">Monitored Processes
        | Packetbeat Reference [5.4]
      | Elastic
    </title><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Packetbeat Reference [5.4]" /><link rel="up" href="packetbeat-configuration.html" title="Configuration Options (Reference)" /><link rel="prev" href="configuration-protocols.html" title="Transaction Protocols" /><link rel="next" href="configuration-general.html" title="General" /><meta xmlns="" name="description" content="Get started with the documentation for Elasticsearch, Kibana, Logstash, Beats, X-Pack, Elastic Cloud, Elasticsearch for Apache Hadoop, and our language clients." /><meta xmlns="" name="DC.type" content="Learn/Docs/Packetbeat/Reference/5.4" /><meta xmlns="" name="DC.subject" content="Packetbeat" /><meta xmlns="" name="DC.identifier" content="5.4" /></head><body><div xmlns="" class="page_header">You are looking at documentation for an older release.
Not what you want? See the
<a href="../current/index.html">current release documentation</a>.
</div><div xmlns="" class="breadcrumbs"><span class="breadcrumb-link"><a href="index.html">Packetbeat Reference
      [5.4]
    </a></span> » <span class="breadcrumb-link"><a href="configuring-howto-packetbeat.html">Configuring Packetbeat</a></span> » <span class="breadcrumb-link"><a href="packetbeat-configuration.html">Configuration Options (Reference)</a></span> » <span class="breadcrumb-node">Monitored Processes</span></div><div xmlns="" class="navheader"><span class="prev"><a href="configuration-protocols.html">
              « 
              Transaction Protocols</a>
           
        </span><span class="next">
           
          <a href="configuration-general.html">General
               »
            </a></span></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="configuration-processes"></a>Monitored Processes<a xmlns="" href="https://github.com/elastic/beats/edit/5.4/packetbeat/docs/reference/configuration/packetbeat-options.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h2></div></div></div><p>This section of the <code class="literal">packetbeat.yml</code> config file is optional, but configuring
the processes enables Packetbeat to show you not only the servers that the
traffic is flowing between, but also the processes. Packetbeat can even show you
the traffic between two processes running on the same host, which is particularly
useful when you have many services running on the same server. By default,
process matching is disabled.</p><p>When Packetbeat starts, and then periodically afterwards, it scans the process table for
processes that match the configuration file. For each of these processes, it
monitors which file descriptors it has opened. When a new packet is captured,
it reads the list of active TCP connections and matches the corresponding one
with the list of file descriptors.</p><p>On a Linux system, all this information is available via the <code class="literal">/proc</code>
file system, so Packetbeat doesn’t need a kernel module.</p><div xmlns="" class="note admon"><div class="icon"><img alt="Note" src="images/icons/note.png" /></div><div class="admon_content"><p xmlns="http://www.w3.org/1999/xhtml">Process monitoring is currently only supported on
      Linux systems. Packetbeat automatically disables
      process monitoring when it detects other operating systems.</p></div></div><p>Example configuration:</p><div xmlns="" class="pre_wrapper lang-yaml"><pre xmlns="http://www.w3.org/1999/xhtml" class="programlisting prettyprint lang-yaml">packetbeat.procs:
  enabled: true
  monitored:
    - process: mysqld
      cmdline_grep: mysqld

    - process: pgsql
      cmdline_grep: postgres

    - process: nginx
      cmdline_grep: nginx

    - process: app
      cmdline_grep: gunicorn</pre></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_process_monitoring_options"></a>Process Monitoring Options<a xmlns="" href="https://github.com/elastic/beats/edit/5.4/packetbeat/docs/reference/configuration/packetbeat-options.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p>You can specify the following process monitoring options in the <code class="literal">monitored</code> section
of the <code class="literal">packetbeat.yml</code> config file:</p><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_process"></a>process<a xmlns="" href="https://github.com/elastic/beats/edit/5.4/packetbeat/docs/reference/configuration/packetbeat-options.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4></div></div></div><p>The name of the process as it will appear in the published transactions. The name
doesn’t have to match the name of the executable, so feel free to choose something
more descriptive (for example,  "myapp" instead of "gunicorn").</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_cmdline_grep"></a>cmdline_grep<a xmlns="" href="https://github.com/elastic/beats/edit/5.4/packetbeat/docs/reference/configuration/packetbeat-options.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4></div></div></div><p>The name used to identify the process at run time. When Packetbeat starts, and then
periodically afterwards, it scans the process table for
processes that match the values specified for this option. The match is done against the
process' command line as read from <code class="literal">/proc/&lt;pid&gt;/cmdline</code>.</p></div></div></div><div xmlns="" class="navfooter"><span class="prev"><a href="configuration-protocols.html">
              « 
              Transaction Protocols</a>
           
        </span><span class="next">
           
          <a href="configuration-general.html">General
               »
            </a></span></div></body></html>