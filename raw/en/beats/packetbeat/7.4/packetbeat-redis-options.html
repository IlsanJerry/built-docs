<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title xmlns="">Capture Redis traffic
        | Packetbeat Reference [7.4]
      | Elastic
    </title><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Packetbeat Reference [7.4]" /><link rel="up" href="configuration-protocols.html" title="Specify which transaction protocols to monitor" /><link rel="prev" href="configuration-tls.html" title="Capture TLS traffic" /><link rel="next" href="configuration-processes.html" title="Specify which processes to monitor" /><meta xmlns="" name="description" content="Get started with the documentation for Elasticsearch, Kibana, Logstash, Beats, X-Pack, Elastic Cloud, Elasticsearch for Apache Hadoop, and our language clients." /><meta xmlns="" name="DC.type" content="Learn/Docs/Packetbeat/Reference/7.4" /><meta xmlns="" name="DC.subject" content="Packetbeat" /><meta xmlns="" name="DC.identifier" content="7.4" /></head><body><div xmlns="" class="page_header">You are looking at preliminary documentation for a future release.
Not what you want? See the
<a href="../current/index.html">current release documentation</a>.
</div><div xmlns="" class="breadcrumbs"><span class="breadcrumb-link"><a href="index.html">Packetbeat Reference
      [7.4]
    </a></span> » <span class="breadcrumb-link"><a href="configuring-howto-packetbeat.html">Configuring Packetbeat</a></span> » <span class="breadcrumb-link"><a href="configuration-protocols.html">Specify which transaction protocols to monitor</a></span> » <span class="breadcrumb-node">Capture Redis traffic</span></div><div xmlns="" class="navheader"><span class="prev"><a href="configuration-tls.html">
              « 
              Capture TLS traffic</a>
           
        </span><span class="next">
           
          <a href="configuration-processes.html">Specify which processes to monitor
               »
            </a></span></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="packetbeat-redis-options"></a>Capture Redis traffic<a xmlns="" href="https://github.com/elastic/beats/edit/7.4/packetbeat/docs/packetbeat-options.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h2></div></div></div><p>The Redis protocol has several specific configuration options. Here is a
sample configuration for the <code class="literal">redis</code> section of the <code class="literal">packetbeat.yml</code> config file:</p><div xmlns="" class="pre_wrapper lang-yaml"><pre xmlns="http://www.w3.org/1999/xhtml" class="programlisting prettyprint lang-yaml">packetbeat.protocols:
- type: redis
  ports: [6379]
  queue_max_bytes: 1048576
  queue_max_messages: 20000</pre></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_configuration_options_13"></a>Configuration options<a xmlns="" href="https://github.com/elastic/beats/edit/7.4/packetbeat/docs/packetbeat-options.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p>Also see <a class="xref" href="common-protocol-options.html" title="Common protocol options">Common protocol options</a>.</p><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_literal_queue_max_bytes_literal_and_literal_queue_max_messages_literal"></a><code class="literal">queue_max_bytes</code> and <code class="literal">queue_max_messages</code><a xmlns="" href="https://github.com/elastic/beats/edit/7.4/packetbeat/docs/packetbeat-options.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4></div></div></div><p>In order for request/response correlation to work, Packetbeat needs to
store requests in memory until a response is received. These settings impose
a limit on the number of bytes (<code class="literal">queue_max_bytes</code>) and number of requests
(<code class="literal">queue_max_messages</code>) that can be stored. These limits are per-connection.
The default is to queue up to 1MB or 20.000 requests per connection, which
allows to use request pipelining while at the same time limiting the amount
of memory consumed by replication sessions.</p></div></div></div><div xmlns="" class="navfooter"><span class="prev"><a href="configuration-tls.html">
              « 
              Capture TLS traffic</a>
           
        </span><span class="next">
           
          <a href="configuration-processes.html">Specify which processes to monitor
               »
            </a></span></div></body></html>