<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title xmlns="">Filtering and Enhancing the Exported Data
        | Filebeat Reference [5.0]
      | Elastic
    </title><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Filebeat Reference [5.0]" /><link rel="up" href="configuring-howto-filebeat.html" title="Configuring Filebeat" /><link rel="prev" href="configuration-logging.html" title="Logging Configuration" /><link rel="next" href="multiline-examples.html" title="Managing Multiline Messages" /><meta xmlns="" name="description" content="Get started with the documentation for Elasticsearch, Kibana, Logstash, Beats, X-Pack, Elastic Cloud, Elasticsearch for Apache Hadoop, and our language clients." /><meta xmlns="" name="DC.type" content="Learn/Docs/Filebeat/Reference/5.0" /><meta xmlns="" name="DC.subject" content="Filebeat" /><meta xmlns="" name="DC.identifier" content="5.0" /></head><body><div xmlns="" class="page_header">You are looking at documentation for an older release.
Not what you want? See the
<a href="../current/index.html">current release documentation</a>.
</div><div xmlns="" class="breadcrumbs"><span class="breadcrumb-link"><a href="index.html">Filebeat Reference
      [5.0]
    </a></span> » <span class="breadcrumb-link"><a href="configuring-howto-filebeat.html">Configuring Filebeat</a></span> » <span class="breadcrumb-node">Filtering and Enhancing the Exported Data</span></div><div xmlns="" class="navheader"><span class="prev"><a href="configuration-logging.html">
              « 
              Logging Configuration</a>
           
        </span><span class="next">
           
          <a href="multiline-examples.html">Managing Multiline Messages
               »
            </a></span></div><div class="chapter"><div class="titlepage"><div><div><h2 class="title"><a id="filtering-and-enhancing-data"></a>Filtering and Enhancing the Exported Data<a xmlns="" href="https://github.com/elastic/beats/edit/5.0/filebeat/docs/filebeat-filtering.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h2></div></div></div><p>When your use case requires only a subset of the data exported by Filebeat or you need to add metadata, you can <a class="link" href="filtering-and-enhancing-data.html#filebeat-filtering-overview" title="Filebeat Config Options for Filtering">use Filebeat config options to filter the data</a>, or you can  <a class="link" href="filtering-and-enhancing-data.html#defining-processors" title="Defining Processors">define processors</a>.</p><h3><a id="filebeat-filtering-overview"></a>Filebeat Config Options for Filtering<a xmlns="" href="https://github.com/elastic/beats/edit/5.0/filebeat/docs/filebeat-filtering.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3><p>You can specify configuration options in the <code class="literal">filebeat</code> section of the config file to define regular expressions that
match the lines you want to include and/or exclude from the output. The supported options are <a class="link" href="configuration-filebeat-options.html#include-lines" title="include_lines"><code class="literal">include_lines</code></a>, <a class="link" href="configuration-filebeat-options.html#exclude-lines" title="exclude_lines"><code class="literal">exclude_lines</code></a>, and <a class="link" href="configuration-filebeat-options.html#exclude-files" title="exclude_files"><code class="literal">exclude_files</code></a>.</p><p>For example, you can use the <code class="literal">include_lines</code> option to export any lines that start with "ERR" or "WARN":</p><div xmlns="" class="pre_wrapper lang-yaml"><pre xmlns="http://www.w3.org/1999/xhtml" class="programlisting prettyprint lang-yaml">filebeat.prospectors:
- input_type: log
  paths:
    - /var/log/myapp/*.log
  include_lines: ["^ERR", "^WARN"]</pre></div><p>The disadvantage of this approach is that you need to implement a configuration option for each filtering criteria that you need.</p><p>See <a class="link" href="configuration-filebeat-options.html" title="Filebeat Prospectors Configuration">Filebeat configuration options</a> for more information about each option.</p><h3><a id="defining-processors"></a>Defining Processors<a xmlns="" href="https://github.com/elastic/beats/edit/5.0/filebeat/docs/filebeat-filtering.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3><p>You can define processors in your configuration to process events before they are sent to the configured output.
The libbeat library provides processors for reducing the number of exported fields, and processors for
enhancing events with additional metadata. Each processor receives an event, applies a defined action to the event,
and returns the event. If you define a list of processors, they are executed in the order they are defined in the
configuration file.</p><div xmlns="" class="pre_wrapper lang-yaml"><pre xmlns="http://www.w3.org/1999/xhtml" class="programlisting prettyprint lang-yaml">event -&gt; processor 1 -&gt; event1 -&gt; processor 2 -&gt; event2 ...</pre></div><p>The processors are defined in the Filebeat configuration file.</p><p>For example, the following configuration drops all the DEBUG messages.</p><div xmlns="" class="pre_wrapper lang-yaml"><pre xmlns="http://www.w3.org/1999/xhtml" class="programlisting prettyprint lang-yaml">processors:
 - drop_event:
     when:
        regexp:
           message: "^DBG:"</pre></div><p>To drop all the log messages coming from a certain log file:</p><div xmlns="" class="pre_wrapper lang-yaml"><pre xmlns="http://www.w3.org/1999/xhtml" class="programlisting prettyprint lang-yaml">processors:
 - drop_event:
     when:
        contains:
           source: "test"</pre></div><p>See <a class="xref" href="configuration-processors.html" title="Processors Configuration">Processors Configuration</a> for more information.</p></div><div xmlns="" class="navfooter"><span class="prev"><a href="configuration-logging.html">
              « 
              Logging Configuration</a>
           
        </span><span class="next">
           
          <a href="multiline-examples.html">Managing Multiline Messages
               »
            </a></span></div></body></html>