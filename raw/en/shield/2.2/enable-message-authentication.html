<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title xmlns="">Enable Message Authentication
        | Shield Reference [2.2]
      | Elastic
    </title><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Shield Reference [2.2]" /><link rel="up" href="getting-started.html" title="Getting Started with Shield" /><link rel="prev" href="enable-basic-auth.html" title="Control Access with Basic Authentication" /><link rel="next" href="enable-auditing.html" title="Enable Auditing" /><meta xmlns="" name="description" content="Get started with the documentation for Elasticsearch, Kibana, Logstash, Beats, X-Pack, Elastic Cloud, Elasticsearch for Apache Hadoop, and our language clients." /><meta xmlns="" name="DC.type" content="Learn/Docs/Legacy/Shield/Reference/2.2" /><meta xmlns="" name="DC.subject" content="Shield" /><meta xmlns="" name="DC.identifier" content="2.2" /><meta xmlns="" name="robots" content="noindex,nofollow" /></head><body><div xmlns="" class="page_header">From version 5.0 onward, Shield is part of X-Pack. For more information, see
<a href=https://www.elastic.co/guide/en/elastic-stack-overview/current/elasticsearch-security.html>
    Securing the Elastic Stack</a>. 
</div><div xmlns="" class="breadcrumbs"><span class="breadcrumb-link"><a href="index.html">Shield Reference
      [2.2]
    </a></span> » <span class="breadcrumb-link"><a href="getting-started.html">Getting Started with Shield</a></span> » <span class="breadcrumb-node">Enable Message Authentication</span></div><div xmlns="" class="navheader"><span class="prev"><a href="enable-basic-auth.html">
              « 
              Control Access with Basic Authentication</a>
           
        </span><span class="next">
           
          <a href="enable-auditing.html">Enable Auditing
               »
            </a></span></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="enable-message-authentication"></a>Enable Message Authentication</h2></div></div></div><p>Message authentication verifies that a message has not been tampered with or corrupted in transit
during node-to-node communication.</p><p>To enable message authentication:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">Run the <code class="literal">syskeygen</code> tool from <code class="literal">ES_HOME</code> without any options:</p><div xmlns="" class="pre_wrapper lang-shell"><pre xmlns="http://www.w3.org/1999/xhtml" class="programlisting prettyprint lang-shell">bin/shield/syskeygen</pre></div><p class="simpara">This creates a system key file in <code class="literal">CONFIG_DIR/shield/system_key</code>.</p></li><li class="listitem">Copy the genererated system key to the rest of the nodes in the cluster.</li></ol></div><div xmlns="" class="important admon"><div class="icon"><img alt="Important" src="images/icons/important.png" /></div><div class="admon_content"><p xmlns="http://www.w3.org/1999/xhtml">The system key is a symmetric key, so the same key must be on every node in the cluster.</p></div></div><p>Now that you’ve enabled message authentication, you might also want to <a class="link" href="enable-auditing.html" title="Enable Auditing">Enable Auditing</a> to keep track of attempted and successful interactions with your Elasticsearch cluster.</p></div><div xmlns="" class="navfooter"><span class="prev"><a href="enable-basic-auth.html">
              « 
              Control Access with Basic Authentication</a>
           
        </span><span class="next">
           
          <a href="enable-auditing.html">Enable Auditing
               »
            </a></span></div></body></html>