<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title xmlns="">Configuring an esusers Realm
        | Shield Reference [shield-1.3]
      | Elastic
    </title><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Shield Reference [shield-1.3]" /><link rel="up" href="setting-up-authentication.html" title="Setting Up User Authentication" /><link rel="prev" href="anonymous-access.html" title="Enabling Anonymous Access" /><link rel="next" href="ldap.html" title="Configuring an LDAP Realm" /><meta xmlns="" name="description" content="Get started with the documentation for Elasticsearch, Kibana, Logstash, Beats, X-Pack, Elastic Cloud, Elasticsearch for Apache Hadoop, and our language clients." /><meta xmlns="" name="DC.type" content="Learn/Docs/Legacy/Shield/Reference/shield-1.3" /><meta xmlns="" name="DC.subject" content="Shield" /><meta xmlns="" name="DC.identifier" content="shield-1.3" /><meta xmlns="" name="robots" content="noindex,nofollow" /></head><body><div xmlns="" class="page_header">From version 5.0 onward, Shield is part of X-Pack. For more information, see
<a href=https://www.elastic.co/guide/en/elastic-stack-overview/current/elasticsearch-security.html>
    Securing the Elastic Stack</a>. 
</div><div xmlns="" class="breadcrumbs"><span class="breadcrumb-link"><a href="index.html">Shield Reference
      [shield-1.3]
    </a></span> » <span class="breadcrumb-link"><a href="setting-up-authentication.html">Setting Up User Authentication</a></span> » <span class="breadcrumb-node">Configuring an esusers Realm</span></div><div xmlns="" class="navheader"><span class="prev"><a href="anonymous-access.html">
              « 
              Enabling Anonymous Access 
</a>
           
        </span><span class="next">
           
          <a href="ldap.html">Configuring an LDAP Realm
               »
            </a></span></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="esusers"></a>Configuring an esusers Realm</h2></div></div></div><p>The <span class="emphasis"><em>esusers</em></span> realm is the default Shield realm. The <span class="emphasis"><em>esusers</em></span> realm enables the registration of users, passwords for
those users, and associates those users with roles. The <code class="literal">esusers</code> command-line tool assists with the registration and
administration of users.</p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_esusers_realm_settings"></a><code class="literal">esusers</code> Realm Settings</h3></div></div></div><p>Like all other realms, the <code class="literal">esusers</code> realm is configured under the <code class="literal">shield.authc.realms</code> settings namespace in the
<code class="literal">elasticsearch.yml</code> file. The following snippet shows an example of such configuration:</p><p><strong>Example <code class="literal">esusers</code> Realm Configuration. </strong>
</p><div xmlns="" class="pre_wrapper lang-yaml"><pre xmlns="http://www.w3.org/1999/xhtml" class="programlisting prettyprint lang-yaml">shield:
  authc:
    realms:
      default:
        type: esusers
        order: 0</pre></div><p>
</p><div class="table"><a id="esusers-settings"></a><p class="title"><strong>Table 1. <code class="literal">esusers</code> Realm Settings</strong></p><div class="table-contents"><table summary="esusers Realm Settings" cellpadding="4px" border="1"><colgroup><col class="col_1" /><col class="col_2" /><col class="col_3" /></colgroup><tbody><tr><td align="left" valign="top"><p>Setting</p></td><td align="left" valign="top"><p>Required</p></td><td align="left" valign="top"><p>Description</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">type</code></p></td><td align="left" valign="top"><p>yes</p></td><td align="left" valign="top"><p>Indicates the realm type and must be set to <code class="literal">esusers</code>.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">order</code></p></td><td align="left" valign="top"><p>no</p></td><td align="left" valign="top"><p>Indicates the priority of this realm within the realm chain. Realms with lower order will be consulted first. Although not required, it is highly recommended to explicitly set this value when multiple realms are configured. Defaults to <code class="literal">Integer.MAX_VALUE</code>.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">enabled</code></p></td><td align="left" valign="top"><p>no</p></td><td align="left" valign="top"><p>Indicates whether this realm is enabled/disabled. Provides an easy way to disable realms in the chain without removing their configuration. Defaults to <code class="literal">true</code>.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">files.users</code></p></td><td align="left" valign="top"><p>no</p></td><td align="left" valign="top"><p>Points to the location of the <code class="literal">users</code> file where the users and their passwords are stored. By default, it is <code class="literal">ES_HOME/config/shield/users</code>.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">files.users_roles</code></p></td><td align="left" valign="top"><p>no</p></td><td align="left" valign="top"><p>Points to the location of the <code class="literal">users_roles</code> file where the users and their roles are stored. By default, it is <code class="literal">ES_HOME/config/shield/users_roles</code>.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">cache.ttl</code></p></td><td align="left" valign="top"><p>no</p></td><td align="left" valign="top"><p>Specified the time-to-live for cached user entries (a user and its credentials will be cached for this configured period of time). Defaults to <code class="literal">20m</code> (use the standard Elasticsearch <a class="ulink" href="http://www.elastic.co/guide/en/elasticsearch/reference/1.7/common-options.html#time-units" target="_top">time units</a>).</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">cache.max_users</code></p></td><td align="left" valign="top"><p>no</p></td><td align="left" valign="top"><p>Specified the maximum number of user entries that can live in the cache at a given time. Defaults to 100,000.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">cache.hash_algo</code></p></td><td align="left" valign="top"><p>no</p></td><td align="left" valign="top"><p>(Expert Setting) Specifies the hashing algorithm that will be used for the in-memory cached user credentials (see <a class="link" href="_managing_users_in_an_esusers_realm.html#esusers-cache-hash-algo" title="Table 9. Cache hash algorithms">here</a> for possible values).</p></td></tr></tbody></table></div></div><div xmlns="" class="note admon"><div class="icon"><img alt="Note" src="images/icons/note.png" /></div><div class="admon_content"><p xmlns="http://www.w3.org/1999/xhtml">When no realms are explicitly configured in <code class="literal">elasticsearch.yml</code>, a default realm chain will be created that holds
      a single <code class="literal">esusers</code> realm. If you wish to only work with <code class="literal">esusers</code> realm and you’re satisfied with the default
      files paths, there is no real need to add the above configuration.</p></div></div></div></div><div xmlns="" class="navfooter"><span class="prev"><a href="anonymous-access.html">
              « 
              Enabling Anonymous Access 
</a>
           
        </span><span class="next">
           
          <a href="ldap.html">Configuring an LDAP Realm
               »
            </a></span></div></body></html>