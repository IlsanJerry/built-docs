<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Migrating from App Search on Elastic Cloud | Elastic Enterprise Search Documentation [7.7] | Elastic</title>
<link rel="home" href="index.html" title="Elastic Enterprise Search Documentation [7.7]"/>
<link rel="up" href="upgrading-and-migrating.html" title="Upgrading &amp; migrating"/>
<link rel="prev" href="upgrading-self-managed-deployments.html" title="Upgrading self-managed deployments"/>
<link rel="next" href="migrating-from-app-search-on-swiftype-com.html" title="Migrating from App Search on Swiftype.com"/>
<meta name="DC.type" content="Learn/Docs/Enterprise Search/Guide/7.7"/>
<meta name="DC.subject" content="Enterprise Search"/>
<meta name="DC.identifier" content="7.7"/>
<meta name="robots" content="noindex,nofollow"/>
</head>
<body><div class="page_header">
<strong>IMPORTANT</strong>: No additional bug fixes or documentation updates
will be released for this version. For the latest information, see the
<a href="../current/index.html">current release documentation</a>.
</div>
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="index.html">Elastic Enterprise Search Documentation [7.7]</a></span>
»
<span class="breadcrumb-link"><a href="upgrading-and-migrating.html">Upgrading &amp; migrating</a></span>
»
<span class="breadcrumb-node">Migrating from App Search on Elastic Cloud</span>
</div>
<div class="navheader">
<span class="prev">
<a href="upgrading-self-managed-deployments.html">« Upgrading self-managed deployments</a>
</span>
<span class="next">
<a href="migrating-from-app-search-on-swiftype-com.html">Migrating from App Search on Swiftype.com »</a>
</span>
</div>
<div class="section">
<div class="titlepage"><div><div>
<h2 class="title"><a id="migrating-from-app-search-on-elastic-cloud"></a>Migrating from App Search on Elastic Cloud</h2>
</div></div></div>
<div class="important admon">
<div class="icon"></div>
<div class="admon_content">
<p><span class="strong strong"><strong>7.9.0</strong></span>: We recommend all App Search users refrain from migrating to Enterprise Search. This includes self-managed, Swiftype.com, and Elastic Cloud users.</p>
</div>
</div>
<p>From 7.7.0 onwards, App Search is distributed as Elastic Enterprise Search, a solution which combines Elastic App Search and Elastic Workplace Search into a single package (<a href="/blog/elastic-enterprise-search-now-available-on-elastic-cloud" class="ulink" target="_blank" rel="noopener">read the Elastic Cloud announcement</a>). That transition means there is no direct upgrade path from App Search 7.6 to 7.7. Rather, App Search 7.6 users must migrate to Enterprise Search. All versions of Enterprise Search, including 7.9.0 contain a number of bugs that affect App Search deployment migrations and could potentially lead to availability issues or, in rare cases, to data loss.</p>
<p><span class="strong strong"><strong>We recommend App Search users defer migrating to Enterprise Search until further notice</strong></span>
Please check the <a class="xref" href="migrating-from-app-search-on-elastic-cloud.html#app-search-to-ent-search-elastic-cloud-known-issues" title="Known migration issues">Known Issues</a> section
of this document for more details.</p>
<h3><a id="app-search-to-ent-search-elastic-cloud-known-issues"></a>Known migration issues</h3>
<p>The known issues related to migrations from App Search deployments are detailed below.</p>
<p>We do not recommend migrating to Enterprise Search yet – if you do choose to migrate,
please familiarize yourself with the issues described below and always create a backup
of your data before attempting a migration.</p>
<h4><a id="app-search-known-issue-elastic-cloud-template"></a>Elastic Cloud Upgrade Path Offers Non-recommended Templates</h4>
<p>Elastic Cloud users will see the Upgrade option in the Console of their App Search deployments.
Choosing to Start Migration opens a 4-step migration process. Step 3: Create a Deployment offers
a choice of several templates. Choosing anything other than Elastic Enterprise Search will
create a default deployment with non-recommended hardware. The resulting cluster may be so
underprovisioned that it fails to deploy or appears to succeed, but with a configuration unable
to handle production loads.</p>
<p>Please note, a deployment migrated using the Elastic Cloud migration tool will still experience
the known issues detailed below.</p>
<p><span class="strong strong"><strong>Recommended remediation:</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
If you have already updated your deployment, please switch your deployment to an
Enterprise Search template by creating a new deployment, and <a href="/guide/en/cloud/current/ec-restoring-snapshots.html" class="ulink" target="_top">restoring from a snapshot</a>.
</li>
</ul>
</div>
<h4><a id="app-search-known-issue-elastic-cloud-index-pointers"></a>Incomplete Index Pointers Migration</h4>
<p>Enterprise Search has a notion of an index pointer – a database record, that controls which
Elasticsearch index would be used to index documents for a specific App Search engine.</p>
<p>All Enterprise Search versions including 7.9.0 have a bug in their migration code
that causes a newly migrated Enterprise Search deployment to continue attempting to index documents
into an old (read-only) App Search index. As a result, successful updates for App Search documents
are not visible in search results.</p>
<p><span class="strong strong"><strong>Recommended remediation:</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
If you have already updated your deployment and need to see your documents updated, please roll
back to App Search using your latest backup.
</li>
<li class="listitem">
If you are unable to roll back to App Search, please contact Elastic Support for potential workarounds.
</li>
</ul>
</div>
<h4><a id="app-search-known-issue-elastic-cloud-unique-constraints"></a>Unique Constraints Migration</h4>
<p>Enterprise Search uses Elasticsearch as a data store for all configuration data like users, API keys,
engines, etc. A part of the data store functionality is ensuring uniqueness constraints on things
like engine names, user names, etc.</p>
<p>All Enterprise Search versions including 7.9.0 have a bug in their migration code
that causes a subset of unique constraints to be migrated incorrectly from App Search deployments.
As a result, operators are unable to generate new API tokens that are engine-specific or create new role
mappings for users with access limited to a single engine.</p>
<p><span class="strong strong"><strong>Recommended remediation:</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
If you have already updated your deployment and need to create new API tokens or role mappings,
please roll back to App Search using your latest backup.
</li>
<li class="listitem">
If you are unable to roll back to App Search, please contact Elastic Support for potential workarounds.
</li>
</ul>
</div>
</div>
<div class="navfooter">
<span class="prev">
<a href="upgrading-self-managed-deployments.html">« Upgrading self-managed deployments</a>
</span>
<span class="next">
<a href="migrating-from-app-search-on-swiftype-com.html">Migrating from App Search on Swiftype.com »</a>
</span>
</div>
</div>
</body>
</html>
