<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Curations API | Elastic App Search Documentation [8.0] | Elastic</title>
<link rel="home" href="index.html" title="Elastic App Search Documentation [8.0]"/>
<link rel="up" href="api-reference.html" title="API Reference"/>
<link rel="prev" href="credentials.html" title="Credentials API"/>
<link rel="next" href="documents.html" title="Documents API"/>
<meta name="DC.type" content="Learn/Docs/App Search/Guide/8.0"/>
<meta name="DC.subject" content="App Search"/>
<meta name="DC.identifier" content="8.0"/>
</head>
<body><div class="page_header">
You are looking at preliminary documentation for a future release.
Not what you want? See the
<a href="../current/index.html">current release documentation</a>.
</div>
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="index.html">Elastic App Search Documentation [8.0]</a></span>
»
<span class="breadcrumb-link"><a href="api-reference.html">API Reference</a></span>
»
<span class="breadcrumb-node">Curations API</span>
</div>
<div class="navheader">
<span class="prev">
<a href="credentials.html">« Credentials API</a>
</span>
<span class="next">
<a href="documents.html">Documents API »</a>
</span>
</div>
<div class="section">
<div class="titlepage"><div><div>
<h2 class="title"><a id="curations"></a>Curations API<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.0/app-search-docs/api-reference/curations.asciidoc">edit</a></h2>
</div></div></div>
<div class="tip admon">
<div class="icon"></div>
<div class="admon_content">
<p>Want to start with the core concepts? Give the <a class="xref" href="curations-guide.html" title="Curations"><span class="strong strong"><strong>Curations guide</strong></span></a> a read.</p>
</div>
</div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><a class="xref" href="curations.html#curations-api-curations" title="Curations">Curations</a></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<a class="xref" href="curations.html#curations-authentication" title="Authentication">Authentication</a>
</li>
<li class="listitem">
<a class="xref" href="curations.html#curations-api-get-engine-curations" title="List all curations for an engine">List all curations for an engine</a>
</li>
<li class="listitem">
<a class="xref" href="curations.html#curations-api-get-engine-curation-id" title="List a single curation">List a single curation</a>
</li>
<li class="listitem">
<a class="xref" href="curations.html#curations-api-post-engine-curation" title="Create a curation">Create a curation</a>
</li>
<li class="listitem">
<a class="xref" href="curations.html#curations-api-put-engine-curation" title="Update a curation">Update a curation</a>
</li>
<li class="listitem">
<a class="xref" href="curations.html#curations-api-delete-engine-curation" title="Delete a curation">Delete a curation</a>
</li>
<li class="listitem">
<a class="xref" href="curations.html#curations-api-curations-and-sorting" title="Curations and Sorting">Curations and Sorting</a>
</li>
<li class="listitem">
<a class="xref" href="curations.html#curations-api-errors" title="Errors">Errors</a>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="curations-api-curations"></a>Curations<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.0/app-search-docs/api-reference/curations.asciidoc">edit</a></h3>
</div></div></div>
<p>App Search uses curations to promoted or hide specific documents in query results.
Each query may only belong to <span class="strong strong"><strong>one</strong></span> curation.</p>
<p>Use the following curations API endpoints to retrieve existing curations:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<a class="xref" href="curations.html#curations-api-get-engine-curations" title="List all curations for an engine">List all curations for an engine</a>
</li>
<li class="listitem">
<a class="xref" href="curations.html#curations-api-get-engine-curation-id" title="List a single curation">List a single curation</a>
</li>
<li class="listitem">
<a class="xref" href="curations.html#curations-api-post-engine-curation" title="Create a curation">Create a curation</a>
</li>
<li class="listitem">
<a class="xref" href="curations.html#curations-api-put-engine-curation" title="Update a curation">Update a curation</a>
</li>
<li class="listitem">
<a class="xref" href="curations.html#curations-api-delete-engine-curation" title="Delete a curation">Delete a curation</a>
</li>
</ul>
</div>
<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="curations-authentication"></a>Authentication<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.0/app-search-docs/api-reference/curations.asciidoc">edit</a></h4>
</div></div></div>
<p>For authentication, the <span class="strong strong"><strong>Curations</strong></span> endpoint requires...</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
The name of your <span class="strong strong"><strong>Engine</strong></span>: <code class="literal">[ENGINE]</code>
</li>
<li class="listitem">
A <span class="strong strong"><strong>Private API Key</strong></span>: <code class="literal">[PRIVATE_API_KEY]</code>
</li>
</ol>
</div>
<div class="pre_wrapper lang-bash">
<pre class="programlisting prettyprint lang-bash">curl -X GET 'https://[instance id].ent-search.[region].[provider].cloud.es.io:443/api/as/v1/engines/[ENGINE]/curations' \
-H 'Content-Type: application/json' \
-H 'Authorization: Bearer [PRIVATE_API_KEY]'</pre>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="curations-api-get-engine-curations"></a>List all curations for an engine<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.0/app-search-docs/api-reference/curations.asciidoc">edit</a></h4>
</div></div></div>
<p>Return all curations for a given engine.</p>
<p><code class="literal">GET /api/as/v1/engines/&lt;engine&gt;/curations</code></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<a class="xref" href="curations.html#curations-api-get-engine-curations-path-parameters" title="Path parameters">Path parameters</a>
</li>
<li class="listitem">
<a class="xref" href="curations.html#curations-api-get-engine-curations-query-parameters" title="Query parameters">Query parameters</a>
</li>
<li class="listitem">
<a class="xref" href="curations.html#curations-api-get-engine-curations-request-body" title="Request body">Request body</a>
</li>
<li class="listitem">
<a class="xref" href="curations.html#curations-api-get-engine-curations-response-body">Request body</a>
</li>
<li class="listitem">
<a class="xref" href="curations.html#curations-api-get-engine-curations-examples" title="Examples">Examples</a>
</li>
</ul>
</div>
<div class="section">
<div class="titlepage"><div><div>
<h5 class="title"><a id="curations-api-get-engine-curations-path-parameters"></a>Path parameters<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.0/app-search-docs/api-reference/curations.asciidoc">edit</a></h5>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">engine</code> (required)
</span>
</dt>
<dd>
<p>The engine name.</p>
</dd>
</dl>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h5 class="title"><a id="curations-api-get-engine-curations-query-parameters"></a>Query parameters<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.0/app-search-docs/api-reference/curations.asciidoc">edit</a></h5>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">page[current]</code> (optional)
</span>
</dt>
<dd>
<p>Integer value to specify the results page number to display.</p>
</dd>
<dt>
<span class="term">
<code class="literal">page[size]</code> (optional)
</span>
</dt>
<dd>
<p>Integer value that determines the results page size. Defaults to 25 per page.</p>
</dd>
</dl>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h5 class="title"><a id="curations-api-get-engine-curations-request-body"></a>Request body<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.0/app-search-docs/api-reference/curations.asciidoc">edit</a></h5>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">page</code> (optional)
</span>
</dt>
<dd>
<p>Pagination settings can be specified as request body instead of using query parameters.</p>
</dd>
<dt>
<span class="term">
<code class="literal">page.current</code> (optional)
</span>
</dt>
<dd>
<p>Integer value to specify the results page number to display.</p>
</dd>
<dt>
<span class="term">
<code class="literal">page.size</code> (optional)
</span>
</dt>
<dd>
<p>Integer value to specify the results page number to display.</p>
</dd>
</dl>
</div>
<p><a id="curations-api-get-engine-curations-response-body"></a>Response body will contain an array of results under the <code class="literal">result</code> element, each with the following fields:</p>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">id</code>
</span>
</dt>
<dd>
<p>Curation identifier.</p>
</dd>
<dt>
<span class="term">
<code class="literal">queries</code>
</span>
</dt>
<dd>
<p>Array of queries for which the curation modifies results.</p>
</dd>
<dt>
<span class="term">
<code class="literal">promoted</code>
</span>
</dt>
<dd>
<p>Array of document identifiers that the specified queries will return as top results.
The document identifiers are ordered according to the order in which they will be returned in results.<br>
In case it is an empty array, top results for the queries will not be modified by the curation.</p>
</dd>
<dt>
<span class="term">
<code class="literal">hidden</code>
</span>
</dt>
<dd>
<p>Array of document identifiers that the curation will never return as results for the specified queries.<br>
In case it is an empty array, no result for the queries will be hidden by the curation.</p>
</dd>
<dt>
<span class="term">
<code class="literal">suggestion</code>
</span>
</dt>
<dd>
<p>Associated suggestion for the curation.
This field will only be present in case there is an adaptive relevance suggestion associated to the curation.<br>
See <a class="xref" href="adaptive-relevance-api-reference.html" title="Adaptive relevance API reference (beta)">Adaptive relevance API reference (beta)</a> for additional details.</p>
</dd>
<dt>
<span class="term">
<code class="literal">suggestion.status</code>
</span>
</dt>
<dd>
<p>The status of the adaptive relevance suggestion.
One of:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<code class="literal">pending</code>
</li>
<li class="listitem">
<code class="literal">applied</code>
</li>
<li class="listitem">
<code class="literal">automated</code>
</li>
<li class="listitem">
<code class="literal">rejected</code>
</li>
<li class="listitem">
<code class="literal">disabled</code>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
<code class="literal">suggestion.updated_at</code>
</span>
</dt>
<dd>
<p>Timestamp of the last update made to the suggestion.</p>
</dd>
<dt>
<span class="term">
<code class="literal">suggestion.created_at</code>
</span>
</dt>
<dd>
<p>Timestamp of the suggestion creation date and time.</p>
</dd>
<dt>
<span class="term">
<code class="literal">suggestion.promoted</code>
</span>
</dt>
<dd>
<p>Array of document identifiers that are promoted by the suggestion.</p>
</dd>
<dt>
<span class="term">
<code class="literal">suggestion.operation</code>
</span>
</dt>
<dd>
<p>Identifies the operation to perform on the curation.
One of:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<code class="literal">create</code>
</li>
<li class="listitem">
<code class="literal">update</code>
</li>
<li class="listitem">
<code class="literal">delete</code>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h5 class="title"><a id="curations-api-get-engine-curations-examples"></a>Examples<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.0/app-search-docs/api-reference/curations.asciidoc">edit</a></h5>
</div></div></div>
<p>Request all curations for an engine:</p>
<div class="pre_wrapper lang-shell">
<pre class="programlisting prettyprint lang-shell">curl -X GET 'https://[instance id].ent-search.[region].[provider].cloud.es.ioapi/as/v1/engines/national-parks-demo/curations' \
-H 'Authorization: Bearer search-soaewu2ye6uc45dr8mcd54v8' \</pre>
</div>
<p>Response:</p>
<div class="pre_wrapper lang-json">
<pre class="programlisting prettyprint lang-json">{
    "meta": {
        "page": {
            "current": 1,
            "total_pages": 1,
            "total_results": 2,
            "size": 25
        }
    },
    "results": [
        {
            "id": "cur-61929ad3077aeebab87bb4c5",
            "queries": [
                "mountains"
            ],
            "promoted": [
                "park_glacier",
                "park_rocky-mountain"
            ],
            "hidden": []
        },
        {
            "id": "cur-61929ad2077aeebab87bb4c4",
            "queries": [
                "hiking"
            ],
            "promoted": [
                "park_shenandoah"
            ],
            "hidden": ["park_lake-clark"],
            "suggestion": {
                "created_at": "2021-11-16T09:07:38Z",
                "operation": "create",
                "promoted": [
                    "park_yellowstone"
                ],
                "status": "pending",
                "updated_at": "2021-11-16T11:35:39Z"
            }
        }
    ]
}</pre>
</div>
</div>

</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="curations-api-get-engine-curation-id"></a>List a single curation<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.0/app-search-docs/api-reference/curations.asciidoc">edit</a></h4>
</div></div></div>
<p>Retrieves information for a specific curation.</p>
<p><code class="literal">GET /api/as/v1/engines/&lt;engine&gt;/curations/&lt;curation_id&gt;</code></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<a class="xref" href="curations.html#curations-api-get-engine-curation-id-path-parameters" title="Path parameters">Path parameters</a>
</li>
<li class="listitem">
<a class="xref" href="curations.html#curations-api-get-engine-curation-id-response-body" title="Response body">Response body</a>
</li>
<li class="listitem">
<a class="xref" href="curations.html#curations-api-get-engine-curation-id-examples" title="Examples">Examples</a>
</li>
</ul>
</div>
<div class="section">
<div class="titlepage"><div><div>
<h5 class="title"><a id="curations-api-get-engine-curation-id-path-parameters"></a>Path parameters<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.0/app-search-docs/api-reference/curations.asciidoc">edit</a></h5>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">engine</code> (required)
</span>
</dt>
<dd>
<p>The engine name.</p>
</dd>
<dt>
<span class="term">
<code class="literal">curation_id</code> (required)
</span>
</dt>
<dd>
<p>The curation identifier.</p>
</dd>
</dl>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h5 class="title"><a id="curations-api-get-engine-curation-id-response-body"></a>Response body<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.0/app-search-docs/api-reference/curations.asciidoc">edit</a></h5>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">id</code>
</span>
</dt>
<dd>
<p>Curation identifier</p>
</dd>
<dt>
<span class="term">
<code class="literal">queries</code>
</span>
</dt>
<dd>
<p>Array of queries for which the curation modifies results.</p>
</dd>
<dt>
<span class="term">
<code class="literal">promoted</code>
</span>
</dt>
<dd>
<p>Array of document identifiers that the specified queries will return as top results.
The document identifiers are ordered according to the order in which they will be returned in results.<br>
In case it is an empty array, top results for the queries will not be modified by the curation.</p>
</dd>
<dt>
<span class="term">
<code class="literal">hidden</code>
</span>
</dt>
<dd>
<p>Array of document identifiers that the curation will never return as results for the specified queries.<br>
In case it is an empty array, no result for the queries will be hidden by the curation.</p>
</dd>
<dt>
<span class="term">
<code class="literal">suggestion</code>
</span>
</dt>
<dd>
<p>Associated suggestion for the curation.
This field will only be present in case there is an adaptive relevance suggestion associated to the curation.
See <a class="xref" href="adaptive-relevance-api-reference.html" title="Adaptive relevance API reference (beta)">Adaptive relevance API reference (beta)</a> for additional details.</p>
</dd>
<dt>
<span class="term">
<code class="literal">suggestion.status</code>
</span>
</dt>
<dd>
<p>The status of the adaptive relevance suggestion.
One of:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<code class="literal">pending</code>
</li>
<li class="listitem">
<code class="literal">applied</code>
</li>
<li class="listitem">
<code class="literal">automated</code>
</li>
<li class="listitem">
<code class="literal">rejected</code>
</li>
<li class="listitem">
<code class="literal">disabled</code>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
<code class="literal">suggestion.updated_at</code>
</span>
</dt>
<dd>
<p>Timestamp of the last update made to the suggestion.</p>
</dd>
<dt>
<span class="term">
<code class="literal">suggestion.created_at</code>
</span>
</dt>
<dd>
<p>Timestamp of the suggestion creation date and time.</p>
</dd>
<dt>
<span class="term">
<code class="literal">suggestion.promoted</code>
</span>
</dt>
<dd>
<p>Array of document identifiers that are promoted by the suggestion.</p>
</dd>
<dt>
<span class="term">
<code class="literal">suggestion.operation</code>
</span>
</dt>
<dd>
<p>Identifies the operation to perform on the curation.
One of:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<code class="literal">create</code>
</li>
<li class="listitem">
<code class="literal">update</code>
</li>
<li class="listitem">
<code class="literal">delete</code>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h5 class="title"><a id="curations-api-get-engine-curation-id-examples"></a>Examples<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.0/app-search-docs/api-reference/curations.asciidoc">edit</a></h5>
</div></div></div>
<p>Request a single curation for an engine:</p>
<div class="pre_wrapper lang-shell">
<pre class="programlisting prettyprint lang-shell">curl -X GET 'https://[instance id].ent-search.[region].[provider].cloud.es.ioapi/as/v1/engines/national-parks-demo/curations/cur-61929ad2077aeebab87bb4c4' \
-H 'Authorization: Bearer search-soaewu2ye6uc45dr8mcd54v8'</pre>
</div>
<p>Response:</p>
<div class="pre_wrapper lang-json">
<pre class="programlisting prettyprint lang-json">{
    "id": "cur-61929ad2077aeebab87bb4c4",
    "queries": [
        "hiking"
    ],
    "promoted": [
        "park_shenandoah"
    ],
    "hidden": ["park_lake-clark"],
    "suggestion": {
        "created_at": "2021-11-16T09:07:38Z",
        "operation": "create",
        "promoted": [
            "park_yellowstone"
        ],
        "status": "pending",
        "updated_at": "2021-11-16T11:35:39Z"
    }
}</pre>
</div>
</div>

</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="curations-api-post-engine-curation"></a>Create a curation<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.0/app-search-docs/api-reference/curations.asciidoc">edit</a></h4>
</div></div></div>
<p>Creates a new curation for one or more queries.</p>
<p><code class="literal">POST api/as/v1/engines/&lt;engine&gt;/curations</code></p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>If creating a curation for a meta engine, see <a class="xref" href="curations.html#curations-api-meta-engines" title="Curations and meta engines">Curations and meta engines</a>.</p>
</div>
</div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<a class="xref" href="curations.html#curations-api-post-engine-curation-path-parameters" title="Path parameters">Path parameters</a>
</li>
<li class="listitem">
<a class="xref" href="curations.html#curations-api-post-engine-curation-request-body" title="Request body">Request body</a>
</li>
<li class="listitem">
<a class="xref" href="curations.html#curations-api-post-engine-curation-response-body" title="Response body">Response body</a>
</li>
<li class="listitem">
<a class="xref" href="curations.html#curations-api-post-engine-curation-examples" title="Examples">Examples</a>
</li>
</ul>
</div>
<div class="section">
<div class="titlepage"><div><div>
<h5 class="title"><a id="curations-api-post-engine-curation-path-parameters"></a>Path parameters<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.0/app-search-docs/api-reference/curations.asciidoc">edit</a></h5>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">engine</code> (required)
</span>
</dt>
<dd>
<p>The engine name.</p>
</dd>
</dl>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h5 class="title"><a id="curations-api-post-engine-curation-request-body"></a>Request body<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.0/app-search-docs/api-reference/curations.asciidoc">edit</a></h5>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">queries</code>
</span>
</dt>
<dd>
<p>Array of queries for which the curation modifies results.</p>
</dd>
<dt>
<span class="term">
<code class="literal">promoted</code>
</span>
</dt>
<dd>
<p>Array of document identifiers that the specified queries will return as top results.
The document identifiers are ordered according to the order in which they will be returned in results.<br>
In case it is an empty array, top results for the queries will not be modified by the curation.</p>
</dd>
<dt>
<span class="term">
<code class="literal">hidden</code>
</span>
</dt>
<dd>
<p>Array of document identifiers that the curation will never return as results for the specified queries.<br>
In case it is an empty array, no result for the queries will be hidden by the curation.</p>
</dd>
</dl>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h5 class="title"><a id="curations-api-post-engine-curation-response-body"></a>Response body<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.0/app-search-docs/api-reference/curations.asciidoc">edit</a></h5>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">id</code>
</span>
</dt>
<dd>
<p>Identifier for the newly created curation.</p>
</dd>
</dl>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h5 class="title"><a id="curations-api-post-engine-curation-examples"></a>Examples<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.0/app-search-docs/api-reference/curations.asciidoc">edit</a></h5>
</div></div></div>
<p>Create a new curation for an engine with both promoted and hidden documents:</p>
<div class="pre_wrapper lang-shell">
<pre class="programlisting prettyprint lang-shell">curl -X POST 'https://[instance id].ent-search.[region].[provider].cloud.es.ioapi/as/v1/engines/national-parks-demo/curations' \
-H 'Authorization: Bearer search-soaewu2ye6uc45dr8mcd54v8' \
-H 'Content-Type: application/json' \
-d '{
    "queries": [
        "park"
    ],
    "promoted": [
        "park_gates-of-the-arctic",
        "park_zion"
    ],
    "hidden": [
        "park_olympic",
        "park_katmai"
    ]
}'</pre>
</div>
<p>Response:</p>
<div class="pre_wrapper lang-json">
<pre class="programlisting prettyprint lang-json">{
    "id": "cur-6193db496c801b95a3cf46e3"
}</pre>
</div>
</div>

</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="curations-api-put-engine-curation"></a>Update a curation<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.0/app-search-docs/api-reference/curations.asciidoc">edit</a></h4>
</div></div></div>
<p>Updates a curation for an engine.</p>
<p><code class="literal">PUT api/as/v1/engines/&lt;engine&gt;/curations/&lt;curation_id&gt;</code></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<a class="xref" href="curations.html#curations-api-put-engine-curation-path-parameters" title="Path parameters">Path parameters</a>
</li>
<li class="listitem">
<a class="xref" href="curations.html#curations-api-put-engine-curation-request-body" title="Request body">Request body</a>
</li>
<li class="listitem">
<a class="xref" href="curations.html#curations-api-put-engine-curation-response-body" title="Response body">Response body</a>
</li>
<li class="listitem">
<a class="xref" href="curations.html#curations-api-put-engine-curation-examples" title="Examples">Examples</a>
</li>
</ul>
</div>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>A curation that has an associated suggestion in <code class="literal">automated</code> status cannot be updated via the API.
This is done in order to prevent the interference with an already established automated suggestion.</p>
<p>In order to update a suggestion that has been automated, change its status to <code class="literal">applied</code> so it gets
converted to a manual suggestion first. Then, update the curation via the API.</p>
<p>Manually updating a curation is equivalent to rejecting the proposed suggestion.
A curation that is updated will change its associated suggestions to the <code class="literal">rejected</code> status.</p>
<p>See <a class="xref" href="adaptive-relevance-api-reference.html#adaptive-relevance-api-put-engine-adaptive-relevance-suggestions" title="Update suggestions for an engine">Update suggestions for an engine</a> for more details.</p>
</div>
</div>
<div class="section">
<div class="titlepage"><div><div>
<h5 class="title"><a id="curations-api-put-engine-curation-path-parameters"></a>Path parameters<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.0/app-search-docs/api-reference/curations.asciidoc">edit</a></h5>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">engine</code> (required)
</span>
</dt>
<dd>
<p>The engine name.</p>
</dd>
<dt>
<span class="term">
<code class="literal">curation_id</code> (required)
</span>
</dt>
<dd>
<p>The identifier of the curation to update.</p>
</dd>
</dl>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h5 class="title"><a id="curations-api-put-engine-curation-request-body"></a>Request body<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.0/app-search-docs/api-reference/curations.asciidoc">edit</a></h5>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">queries</code> (optional)
</span>
</dt>
<dd>
<p>Array of queries for which the curation modifies results.<br>
This parameter can be omitted in case queries are not to be modified for the curation.</p>
</dd>
<dt>
<span class="term">
<code class="literal">promoted</code> (optional)
</span>
</dt>
<dd>
<p>Array of document identifiers that the curation queries will return as top results.
The document identifiers are ordered according to the order in which they will be presented in results.<br>
In case it is an empty array or not specified, top results for the queries will not be modified by the curation.</p>
</dd>
<dt>
<span class="term">
<code class="literal">hidden</code> (optional)
</span>
</dt>
<dd>
<p>Array of document identifiers that the curation will never return as results for the specified queries.<br>
In case it is an empty array or not specified, no result for the queries will be hidden by the curation.</p>
</dd>
</dl>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h5 class="title"><a id="curations-api-put-engine-curation-response-body"></a>Response body<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.0/app-search-docs/api-reference/curations.asciidoc">edit</a></h5>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">id</code>
</span>
</dt>
<dd>
<p>Identifier for the updated curation.</p>
</dd>
</dl>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h5 class="title"><a id="curations-api-put-engine-curation-examples"></a>Examples<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.0/app-search-docs/api-reference/curations.asciidoc">edit</a></h5>
</div></div></div>
<p>Update a curation for an engine with queries and promoted documents.
As no hidden documents have been specified, the update will remove any hidden documents from the curation:</p>
<div class="pre_wrapper lang-shell">
<pre class="programlisting prettyprint lang-shell">curl -X PUT 'https://[instance id].ent-search.[region].[provider].cloud.es.ioapi/as/v1/engines/national-parks-demo/curations/6193db496c801b95a3cf46e3' \
-H 'Authorization: Bearer search-soaewu2ye6uc45dr8mcd54v8' \
-H 'Content-Type: application/json' \
-d '{
    "queries": [
        "park", "garden"
    ],
    "promoted": [
        "park_olympic",
        "park_katmai"
    ]
}'</pre>
</div>
<p>Response:</p>
<div class="pre_wrapper lang-json">
<pre class="programlisting prettyprint lang-json">{
    "id": "cur-6193db496c801b95a3cf46e3"
}</pre>
</div>
</div>

</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="curations-api-delete-engine-curation"></a>Delete a curation<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.0/app-search-docs/api-reference/curations.asciidoc">edit</a></h4>
</div></div></div>
<p>Deletes a curation for an engine.</p>
<p><code class="literal">DELETE api/as/v1/engines/&lt;engine&gt;/curations/&lt;curation_id&gt;</code></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<a class="xref" href="curations.html#curations-api-delete-engine-curation-path-parameters" title="Path parameters">Path parameters</a>
</li>
<li class="listitem">
<a class="xref" href="curations.html#curations-api-delete-engine-curation-response-body" title="Response body">Response body</a>
</li>
<li class="listitem">
<a class="xref" href="curations.html#curations-api-delete-engine-curation-examples" title="Examples">Examples</a>
</li>
</ul>
</div>
<div class="section">
<div class="titlepage"><div><div>
<h5 class="title"><a id="curations-api-delete-engine-curation-path-parameters"></a>Path parameters<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.0/app-search-docs/api-reference/curations.asciidoc">edit</a></h5>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">engine</code> (required)
</span>
</dt>
<dd>
<p>The engine name.</p>
</dd>
<dt>
<span class="term">
<code class="literal">curation_id</code> (required)
</span>
</dt>
<dd>
<p>The identifier of the curation to delete.</p>
</dd>
</dl>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h5 class="title"><a id="curations-api-delete-engine-curation-response-body"></a>Response body<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.0/app-search-docs/api-reference/curations.asciidoc">edit</a></h5>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">deleted</code>
</span>
</dt>
<dd>
<p>Field with value <code class="literal">true</code> when curation is deleted.</p>
</dd>
</dl>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h5 class="title"><a id="curations-api-delete-engine-curation-examples"></a>Examples<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.0/app-search-docs/api-reference/curations.asciidoc">edit</a></h5>
</div></div></div>
<p>Delete a curation for an engine with a specific identifier:</p>
<div class="pre_wrapper lang-shell">
<pre class="programlisting prettyprint lang-shell">curl -X DELETE 'https://[instance id].ent-search.[region].[provider].cloud.es.ioapi/as/v1/engines/national-parks-demo/curations/6193db496c801b95a3cf46e3' \
-H 'Authorization: Bearer search-soaewu2ye6uc45dr8mcd54v8'</pre>
</div>
<p>Response:</p>
<div class="pre_wrapper lang-json">
<pre class="programlisting prettyprint lang-json">{
  "deleted": https://xxx[true]
}</pre>
</div>
</div>

</div>

</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="curations-api-curations-and-sorting"></a>Curations and Sorting<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.0/app-search-docs/api-reference/curations.asciidoc">edit</a></h3>
</div></div></div>
<p>You may expect a curation to <em>always</em> be in its curated position, regardless of sort. But that&#8217;s not always the case.</p>
<p>It&#8217;s helpful to understand cases where a curation will and will not have priority when using <a class="xref" href="sort.html" title="Search API sort">sorting</a>.</p>
<p>Curations will appear at the top of search results when there is...</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
No sort field(s).
</li>
<li class="listitem">
A sort against the <code class="literal">_score</code> field.
</li>
</ol>
</div>
<p>Curations will appear within the search results when there is...</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
A sort against a field that isn&#8217;t <code class="literal">_score</code>.
</li>
<li class="listitem">
A sort against multiple fields.
</li>
</ol>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="curations-api-meta-engines"></a>Curations and meta engines<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.0/app-search-docs/api-reference/curations.asciidoc">edit</a></h3>
</div></div></div>
<p>When creating curations for <a class="xref" href="meta-engines-guide.html" title="Meta Engines Guide">meta engines</a>, scope the ID of each promoted and hidden document to the source engine containing the document.</p>
<p>Specify each document ID using the following format:</p>
<div class="pre_wrapper lang-yaml">
<pre class="programlisting prettyprint lang-yaml">&lt;source_engine_id&gt;|&lt;document_id&gt;</pre>
</div>
<p>The following example for a meta engine creates a curation that promotes documents from different source engines.</p>
<div class="pre_wrapper lang-bash">
<pre class="programlisting prettyprint lang-bash">curl -X POST 'https://[instance id].ent-search.[region].[provider].cloud.es.io:443/api/as/v1/engines/national-parks-demo/curations' \
-H 'Content-Type: application/json' \
-H 'Authorization: Bearer private-xxxxxxxxxxxxxxxxxxxxxxxx' \
-d '{
  "queries": [
    "popular parks"
  ],
  "promoted": [
    "eastern-national-parks|park_shenandoah",
    "western-national-parks|park_yosemite"
  ]
}'</pre>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="curations-api-errors"></a>Errors<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.0/app-search-docs/api-reference/curations.asciidoc">edit</a></h3>
</div></div></div>
<p>Request parameters can be quite particular.</p>
<p>Did you get an error? Perhaps it is one of these?</p>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
</colgroup>
<tbody>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>Error Message</strong></span></p></td>
<td align="left" valign="top"><p><span class="strong strong"><strong>Method</strong></span></p></td>
<td align="left" valign="top"><p><span class="strong strong"><strong>Solution</strong></span></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>"queries must be supplied"</strong></span></p></td>
<td align="left" valign="top"><p>POST/PUT</p></td>
<td align="left" valign="top"><p>Queries are a required field. Make sure you have included at least one.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>"queries must be a non empty array of strings"</strong></span></p></td>
<td align="left" valign="top"><p>POST/PUT</p></td>
<td align="left" valign="top"><p>Even if you are supplying one query, you will need to encapsulate it within an array.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>"query already exists under another curation: <em><code class="literal">cur-a1b2c3</code></em>, <em><code class="literal">bananas</code></em>"</strong></span></p></td>
<td align="left" valign="top"><p>POST/PUT</p></td>
<td align="left" valign="top"><p>Each query can belong to <span class="strong strong"><strong>one</strong></span> curation.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>"promoted must be a non empty array of strings"</strong></span></p></td>
<td align="left" valign="top"><p>POST/PUT</p></td>
<td align="left" valign="top"><p>Even if you are supplying one document, you will need to encapsulate it within an array. Must be a string.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>"hidden must be a non empty array of strings"</strong></span></p></td>
<td align="left" valign="top"><p>POST/PUT</p></td>
<td align="left" valign="top"><p>Even if you are supplying one document, you will need to encapsulate it within an array. Must be a string.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>"promoted contains invalid document ids: [<em><code class="literal">doc-1</code></em>, <em><code class="literal">doc-2</code></em>]"</strong></span></p></td>
<td align="left" valign="top"><p>POST/PUT</p></td>
<td align="left" valign="top"><p>The document that you included in the array could not be found, or the string was malformed in some way.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>"hidden contains invalid document ids: [<em><code class="literal">doc-1</code></em>, <em><code class="literal">doc-2</code></em>]"</strong></span></p></td>
<td align="left" valign="top"><p>POST/PUT</p></td>
<td align="left" valign="top"><p>The document that you included in the array could not be found, or the string was malformed in some way.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>"curation must include either promoted or hidden"</strong></span></p></td>
<td align="left" valign="top"><p>POST/PUT</p></td>
<td align="left" valign="top"><p>A curation without at least one promotion or one hidden item is not a curation at all! Please include one.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>"curation does not exist for id: cur-a1b2c3"</strong></span></p></td>
<td align="left" valign="top"><p>DELETE</p></td>
<td align="left" valign="top"><p>The request was received, and the API <em>wanted</em> to delete something, but was unable to locate the curation given the <code class="literal">id</code> you provided.</p></td>
</tr>
</tbody>
</table>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="curations-api-what-s-next"></a>What&#8217;s Next?<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.0/app-search-docs/api-reference/curations.asciidoc">edit</a></h3>
</div></div></div>
<p>Your <span class="strong strong"><strong>Curations</strong></span> can become mighty tools in improving the relevance, and thus the overall experience, of search queries. Business goals, too, as you can get your visitors where you would like them to be. If you want to take a deep look into how users are interacting with your Engines, the <em>Analytics</em> and <em>Clickthrough</em> endpoints are worth exploring. Another useful technique to deploy are <em>Synonyms</em>.</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<a class="xref" href="analytics.html" title="Analytics APIs">Analytics</a>
</li>
<li class="listitem">
<a class="xref" href="clickthrough.html" title="Click API">Clickthrough</a>
</li>
<li class="listitem">
<a class="xref" href="indexing-documents-guide.html" title="Indexing Documents Guide">Synonyms</a>
</li>
</ul>
</div>
</div>

</div>
<div class="navfooter">
<span class="prev">
<a href="credentials.html">« Credentials API</a>
</span>
<span class="next">
<a href="documents.html">Documents API »</a>
</span>
</div>
</div>
</body>
</html>
