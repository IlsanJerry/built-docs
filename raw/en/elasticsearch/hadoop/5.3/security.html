<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title xmlns="">Security
        | Elasticsearch for Apache Hadoop [5.3]
      | Elastic
    </title><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Elasticsearch for Apache Hadoop [5.3]" /><link rel="up" href="reference.html" title="Elasticsearch for Apache Hadoop" /><link rel="prev" href="configuration-runtime.html" title="Runtime options" /><link rel="next" href="logging.html" title="Logging" /><meta xmlns="" name="description" content="Get started with the documentation for Elasticsearch, Kibana, Logstash, Beats, X-Pack, Elastic Cloud, Elasticsearch for Apache Hadoop, and our language clients." /><meta xmlns="" name="DC.type" content="Learn/Docs/Elasticsearch/Apache Hadoop/5.3" /><meta xmlns="" name="DC.subject" content="Elasticsearch" /><meta xmlns="" name="DC.identifier" content="5.3" /></head><body><div xmlns="" class="page_header">You are looking at documentation for an older release.
Not what you want? See the
<a href="../current/index.html">current release documentation</a>.
</div><div xmlns="" class="breadcrumbs"><span class="breadcrumb-link"><a href="index.html">Elasticsearch for Apache Hadoop
      [5.3]
    </a></span> » <span class="breadcrumb-link"><a href="reference.html">Elasticsearch for Apache Hadoop</a></span> » <span class="breadcrumb-node">Security</span></div><div xmlns="" class="navheader"><span class="prev"><a href="configuration-runtime.html">
              « 
              Runtime options</a>
           
        </span><span class="next">
           
          <a href="logging.html">Logging
               »
            </a></span></div><div class="chapter"><div class="titlepage"><div><div><h2 class="title"><a id="security"></a>Security<a xmlns="" href="https://github.com/elastic/elasticsearch-hadoop/edit/5.3/docs/src/reference/asciidoc/core/configuration.adoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h2></div></div></div><p>elasticsearch-hadoop can work in secure environments and has support for authentication and authorization. However it is important to understand that elasticsearch-hadoop per-se is a <span class="emphasis"><em>connector</em></span>, that is, it bridges two different systems. So when talking about security,
it is important to understand to what system it applies: the connector can run within a secure Hadoop environment talking to a vanilla/non-secured Elasticsearch cluster. Or vice-versa, it can run within a non-secured Spark environment while talking securely to a Elasticsearch cluster. Of course, the opposite can happen as well; the connector running within a secure Hadoop environment and communicating with a secured Elasticsearch cluster or the most common use-case, running from an open
Spark environment to a default, non-secured Elasticsearch install.
This enumeration of setups is actually on purpose, to illustrate that based on what piece of the environment is secured, its respective connector configuration needs to be adjusted.</p><h3><a id="_secure_hadoopspark"></a>Secure Hadoop/Spark<a xmlns="" href="https://github.com/elastic/elasticsearch-hadoop/edit/5.3/docs/src/reference/asciidoc/core/configuration.adoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3><p>As the connector runs as a <span class="emphasis"><em>library</em></span> within Hadoop or Spark, for the most part it does not require any special configuration as it will <span class="emphasis"><em>inherit</em></span> and <span class="emphasis"><em>run</em></span> using the enclosing job/task credentials. In other words, as long as your Hadoop/Spark job is properly configured to run against the secure environment, elasticsearch-hadoop as library simply runs within that secured context using the already configured credentials. Settings this up is beyond the purpose of this documentation however it typically boils down to setting up the proper credentials on the configuration object used by the job/task.</p><h3><a id="_secure_elasticsearch"></a>Secure Elasticsearch<a xmlns="" href="https://github.com/elastic/elasticsearch-hadoop/edit/5.3/docs/src/reference/asciidoc/core/configuration.adoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3><p>Elasticsearch itself can be secured which impacts clients (like elasticsearch-hadoop )on two fronts: transport layer which is now encrypted and access layer which requires authentication. Note that typically it is recommended to enable both options (secure transport and secure access).</p><h4><a id="_ssltls_configuration"></a>SSL/TLS configuration<a xmlns="" href="https://github.com/elastic/elasticsearch-hadoop/edit/5.3/docs/src/reference/asciidoc/core/configuration.adoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4><p>In case of an encrypted transport, the SSL/TLS support needs to be enabled in elasticsearch-hadoop in order for the connector to properly communicate with Elasticsearch. This is done by setting <code class="literal">es.net.ssl</code> property to <code class="literal">true</code> and, depending on your SSL configuration (whether the certificates are signed by a CA or not, whether they are global at JVM level or just local to one application), might require setting up the <code class="literal">keystore</code> and/or <code class="literal">truststore</code>, that is where the <span class="emphasis"><em>credentials</em></span> are stored (<code class="literal">keystore</code> - which typically stores private keys and certificates) and how to <span class="emphasis"><em>verify</em></span> them (<code class="literal">truststore</code> - which typically stores certificates from third party also known as CA - certificate authorities).
Typically (and again, do note that your environment might differ significantly), if the SSL setup for elasticsearch-hadoop is not already done at the JVM level, one needs to setup the keystore if the elasticsearch-hadoop security requires client authentication (PKI - Public Key Infrastructure), and setup <code class="literal">truststore</code> if SSL is enabled.</p><h4><a id="_authentication"></a>Authentication<a xmlns="" href="https://github.com/elastic/elasticsearch-hadoop/edit/5.3/docs/src/reference/asciidoc/core/configuration.adoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4><p>The authentication support in elasticsearch-hadoop is of two types:</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">Username/Password</span></dt><dd>Set these through <code class="literal">es.net.http.auth.user</code> and <code class="literal">es.net.http.auth.pass</code> properties.</dd><dt><span class="term">PKI/X.509</span></dt><dd>Use X.509 certificates to authenticate elasticsearch-hadoop to elasticsearch-hadoop. For this, one would need to setup the <code class="literal">keystore</code> containing the private key and certificate to the appropriate user (configured in Elasticsearch) and the <code class="literal">truststore</code> with the CA certificate used to sign the SSL/TLS certificates in the Elasticsearch cluster. That is one setup the key to authenticate elasticsearch-hadoop and also to verify that is the right one. To do so, one should setup the <code class="literal">es.net.ssl.keystore.location</code> and <code class="literal">es.net.ssl.truststore.location</code> properties to indicate the <code class="literal">keystore</code> and <code class="literal">truststore</code> to use. It is recommended to have these secured through a password in which case <code class="literal">es.net.ssl.keystore.pass</code> and <code class="literal">es.net.ssl.truststore.pass</code> properties are required.</dd></dl></div></div><div xmlns="" class="navfooter"><span class="prev"><a href="configuration-runtime.html">
              « 
              Runtime options</a>
           
        </span><span class="next">
           
          <a href="logging.html">Logging
               »
            </a></span></div></body></html>