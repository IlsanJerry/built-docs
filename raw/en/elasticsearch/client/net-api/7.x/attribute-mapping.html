<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title xmlns="">Attribute mapping
        | Elasticsearch.Net and NEST: the .NET clients [7.x]
      | Elastic
    </title><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Elasticsearch.Net and NEST: the .NET clients [7.x]" /><link rel="up" href="mapping.html" title="Mapping" /><link rel="prev" href="auto-map.html" title="Auto mapping" /><link rel="next" href="fluent-mapping.html" title="Fluent mapping" /><meta xmlns="" name="description" content="Get started with the documentation for Elasticsearch, Kibana, Logstash, Beats, X-Pack, Elastic Cloud, Elasticsearch for Apache Hadoop, and our language clients." /><meta xmlns="" name="DC.type" content="Learn/Docs/Clients/.Net/7.x" /><meta xmlns="" name="DC.subject" content="Clients" /><meta xmlns="" name="DC.identifier" content="7.x" /></head><body><div xmlns="" class="breadcrumbs"><span class="breadcrumb-link"><a href="index.html">Elasticsearch.Net and NEST:  the .NET clients
      [7.x]
    </a></span> » <span class="breadcrumb-link"><a href="nest.html">NEST - High level client</a></span> » <span class="breadcrumb-link"><a href="mapping.html">Mapping</a></span> » <span class="breadcrumb-node">Attribute mapping</span></div><div xmlns="" class="navheader"><span class="prev"><a href="auto-map.html">
              « 
              Auto mapping</a>
           
        </span><span class="next">
           
          <a href="fluent-mapping.html">Fluent mapping
               »
            </a></span></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="attribute-mapping"></a>Attribute mapping<a xmlns="" href="https://github.com/elastic/elasticsearch-net/edit/7.x/docs/client-concepts/high-level/mapping/attribute-mapping.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h2></div></div></div><p>In <a class="link" href="auto-map.html" title="Auto mapping">Auto mapping</a>, you saw that the type mapping for a POCO can be inferred from the
properties of the POCO, using <code class="literal">.AutoMap()</code>. But what do you do when you want to map differently
to the inferred mapping? This is where attribute mapping can help.</p><p>It is possible to define your mappings using attributes on your POCO type and properties. With
attributes on properties and calling <code class="literal">.AutoMap()</code>, NEST will infer the mappings from the POCO property
types <span class="strong strong"><strong>and</strong></span> take into account the mapping attributes.</p><div xmlns="" class="important admon"><div class="icon"><img alt="Important" src="images/icons/important.png" /></div><div class="admon_content"><p xmlns="http://www.w3.org/1999/xhtml">When you use attributes, you <span class="strong strong"><strong>must</strong></span> also call <code class="literal">.AutoMap()</code> for the attributes to be applied.</p></div></div><p>Here we define an <code class="literal">Employee</code> type and use attributes to define the mappings.</p><div xmlns="" class="pre_wrapper lang-csharp"><pre xmlns="http://www.w3.org/1999/xhtml" class="programlisting prettyprint lang-csharp">[ElasticsearchType(RelationName = "employee")]
public class Employee
{
    [Text(Name = "first_name", Norms = false, Similarity = "LMDirichlet")]
    public string FirstName { get; set; }

    [Text(Name = "last_name")]
    public string LastName { get; set; }

    [Number(DocValues = false, IgnoreMalformed = true, Coerce = true)]
    public int Salary { get; set; }

    [Date(Format = "MMddyyyy")]
    public DateTime Birthday { get; set; }

    [Boolean(NullValue = false, Store = true)]
    public bool IsManager { get; set; }

    [Nested]
    [PropertyName("empl")]
    public List&lt;Employee&gt; Employees { get; set; }

    [Text(Name = "office_hours")]
    public TimeSpan? OfficeHours { get; set; }

    [Object]
    public List&lt;Skill&gt; Skills { get; set; }
}

public class Skill
{
    [Text]
    public string Name { get; set; }

    [Number(NumberType.Byte, Name = "level")]
    public int Proficiency { get; set; }
}</pre></div><p>Then we map the types by calling <code class="literal">.AutoMap()</code></p><div xmlns="" class="pre_wrapper lang-csharp"><pre xmlns="http://www.w3.org/1999/xhtml" class="programlisting prettyprint lang-csharp">var createIndexResponse = _client.Indices.Create("myindex", c =&gt; c
    .Map&lt;Employee&gt;(m =&gt; m.AutoMap())
);</pre></div><div xmlns="" class="pre_wrapper lang-javascript"><pre xmlns="http://www.w3.org/1999/xhtml" class="programlisting prettyprint lang-javascript">{
  "mappings": {
    "properties": {
      "birthday": {
        "format": "MMddyyyy",
        "type": "date"
      },
      "empl": {
        "properties": {},
        "type": "nested"
      },
      "first_name": {
        "type": "text",
        "norms": false,
        "similarity": "LMDirichlet"
      },
      "isManager": {
        "null_value": false,
        "store": true,
        "type": "boolean"
      },
      "last_name": {
        "type": "text"
      },
      "office_hours": {
        "type": "text"
      },
      "salary": {
        "coerce": true,
        "doc_values": false,
        "ignore_malformed": true,
        "type": "float"
      },
      "skills": {
        "properties": {
          "level": {
            "type": "byte"
          },
          "name": {
            "type": "text"
          }
        },
        "type": "object"
      }
    }
  }
}</pre></div><p>Attribute mapping can be a convenient way to control how POCOs are mapped with minimal code, however
there are some mapping features that cannot be expressed with attributes, for example, <a class="link" href="multi-fields.html" title="Multi fields">Multi fields</a>.
In order to have the full power of mapping in NEST at your disposal,
take a look at <a class="link" href="fluent-mapping.html" title="Fluent mapping">Fluent Mapping</a> next.</p></div><div xmlns="" class="navfooter"><span class="prev"><a href="auto-map.html">
              « 
              Auto mapping</a>
           
        </span><span class="next">
           
          <a href="fluent-mapping.html">Fluent mapping
               »
            </a></span></div></body></html>