<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title xmlns="">Count
        | Elasticsearch.Net and NEST: the .NET clients [1.x]
      | Elastic
    </title><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Elasticsearch.Net and NEST: the .NET clients [1.x]" /><link rel="up" href="core.html" title="Core" /><link rel="prev" href="bulk.html" title="Bulk" /><link rel="next" href="more-like-this.html" title="More Like This" /><meta xmlns="" name="description" content="Get started with the documentation for Elasticsearch, Kibana, Logstash, Beats, X-Pack, Elastic Cloud, Elasticsearch for Apache Hadoop, and our language clients." /><meta xmlns="" name="DC.type" content="Learn/Docs/Clients/.Net/1.x" /><meta xmlns="" name="DC.subject" content="Clients" /><meta xmlns="" name="DC.identifier" content="1.x" /></head><body><div xmlns="" class="page_header">You are looking at documentation for an older release.
Not what you want? See the
<a href="../current/index.html">current release documentation</a>.
</div><div xmlns="" class="breadcrumbs"><span class="breadcrumb-link"><a href="index.html">Elasticsearch.Net and NEST:    the .NET clients
      [1.x]
    </a></span> » <span class="breadcrumb-link"><a href="core.html">Core</a></span> » <span class="breadcrumb-node">Count</span></div><div xmlns="" class="navheader"><span class="prev"><a href="bulk.html">
              « 
              Bulk</a>
           
        </span><span class="next">
           
          <a href="more-like-this.html">More Like This
               »
            </a></span></div><div class="chapter"><div class="titlepage"><div><div><h2 class="title"><a id="count"></a>Count<a xmlns="" href="https://github.com/elastic/elasticsearch-net/edit/1.x/docs/nest/core/count.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h2></div></div></div><p>The count API allows to easily execute a query and get the number of matches for that query.
It can be executed across one or more indices and across one or more types. The query can either
be provided using a simple query string as a parameter, or using the Query DSL defined within the request body.</p><h3><a id="_fluent_dsl_5"></a>Fluent DSL<a xmlns="" href="https://github.com/elastic/elasticsearch-net/edit/1.x/docs/nest/core/count.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3><div xmlns="" class="pre_wrapper lang-csharp"><pre xmlns="http://www.w3.org/1999/xhtml" class="programlisting prettyprint lang-csharp">var result = client.Count();</pre></div><p>The above will do a count query across all indices. (The result type here is not limited)</p><p>If you want to limit the scope to a specific index:</p><div xmlns="" class="pre_wrapper lang-csharp"><pre xmlns="http://www.w3.org/1999/xhtml" class="programlisting prettyprint lang-csharp">var result = client.Count&lt;ElasticsearchProject&gt;();</pre></div><p>NEST will infer the index and type, but as usual, you can override the inferrence by specifying the index and type explicitly:</p><div xmlns="" class="pre_wrapper lang-csharp"><pre xmlns="http://www.w3.org/1999/xhtml" class="programlisting prettyprint lang-csharp">var result = client.Count(c =&gt; c
    .Index("elasticsearchprojects")
    .Type("elasticsearchproject")
);</pre></div><p>You can also specify multiple indices and types:</p><div xmlns="" class="pre_wrapper lang-csharp"><pre xmlns="http://www.w3.org/1999/xhtml" class="programlisting prettyprint lang-csharp">var result = client.Count(c =&gt; c
    .Indices("elasticsearchprojects", "foo", "bar")
    .Types("elasticsearchproject", "foo", "bar")
);</pre></div><p><code class="literal">result</code> is an <code class="literal">ICountResponse</code> which contains the document count found in the <code class="literal">Count</code> property, along with the shards
meta data (total, successful, failed) contained in the <code class="literal">Shards</code> property.</p><h2><a id="_count_by_query"></a>Count by Query<a xmlns="" href="https://github.com/elastic/elasticsearch-net/edit/1.x/docs/nest/core/count.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h2><p>Counting the number of documents that match a query is as simple as:</p><div xmlns="" class="pre_wrapper lang-csharp"><pre xmlns="http://www.w3.org/1999/xhtml" class="programlisting prettyprint lang-csharp">var result = client.Count&lt;ElasticsearchProject&gt;(c =&gt; c
    .Query(q =&gt; q
        .Match(m =&gt; m
            .OnField(p =&gt; p.Name)
            .Query("NEST")
        )
    )
);</pre></div></div><div xmlns="" class="navfooter"><span class="prev"><a href="bulk.html">
              « 
              Bulk</a>
           
        </span><span class="next">
           
          <a href="more-like-this.html">More Like This
               »
            </a></span></div></body></html>