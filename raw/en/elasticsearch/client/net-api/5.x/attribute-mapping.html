<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title xmlns="">Attribute mapping
        | Elasticsearch.Net and NEST: the .NET clients [5.x]
      | Elastic
    </title><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Elasticsearch.Net and NEST: the .NET clients [5.x]" /><link rel="up" href="mapping.html" title="Mapping" /><link rel="prev" href="fluent-mapping.html" title="Fluent mapping" /><link rel="next" href="visitor-pattern-mapping.html" title="Applying conventions through the Visitor pattern" /><meta xmlns="" name="description" content="Get started with the documentation for Elasticsearch, Kibana, Logstash, Beats, X-Pack, Elastic Cloud, Elasticsearch for Apache Hadoop, and our language clients." /><meta xmlns="" name="DC.type" content="Learn/Docs/Clients/.Net/5.x" /><meta xmlns="" name="DC.subject" content="Clients" /><meta xmlns="" name="DC.identifier" content="5.x" /></head><body><div xmlns="" class="page_header">You are looking at documentation for an older release.
Not what you want? See the
<a href="../current/index.html">current release documentation</a>.
</div><div xmlns="" class="breadcrumbs"><span class="breadcrumb-link"><a href="index.html">Elasticsearch.Net and NEST:  the .NET clients
      [5.x]
    </a></span> » <span class="breadcrumb-link"><a href="nest.html">NEST - High level client</a></span> » <span class="breadcrumb-link"><a href="mapping.html">Mapping</a></span> » <span class="breadcrumb-node">Attribute mapping</span></div><div xmlns="" class="navheader"><span class="prev"><a href="fluent-mapping.html">
              « 
              Fluent mapping</a>
           
        </span><span class="next">
           
          <a href="visitor-pattern-mapping.html">Applying conventions through the Visitor pattern
               »
            </a></span></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="attribute-mapping"></a>Attribute mapping<a xmlns="" href="https://github.com/elastic/elasticsearch-net/edit/5.x/docs/client-concepts/high-level/mapping/attribute-mapping.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h2></div></div></div><p>In <a class="link" href="auto-map.html" title="Auto mapping">Auto mapping</a>, you saw that the type mapping for a POCO can be inferred from the
properties of the POCO, using <code class="literal">.AutoMap()</code>. But what do you do when you want to map differently
to the inferred mapping? This is where attribute mapping can help.</p><p>It is possible to define your mappings using attributes on your POCO type and properties. With
attributes on properties and calling <code class="literal">.AutoMap()</code>, NEST will infer the mappings from the POCO property
types <span class="strong strong"><strong>and</strong></span> take into account the mapping attributes.</p><div xmlns="" class="important admon"><div class="icon"><img alt="Important" src="images/icons/important.png" /></div><div class="admon_content"><p xmlns="http://www.w3.org/1999/xhtml">When you use attributes, you <span class="strong strong"><strong>must</strong></span> also call <code class="literal">.AutoMap()</code> for the attributes to be applied.</p></div></div><p>Here we define the same two types as before, but this time using attributes to define the mappings.</p><div xmlns="" class="pre_wrapper lang-csharp"><pre xmlns="http://www.w3.org/1999/xhtml" class="programlisting prettyprint lang-csharp">[ElasticsearchType(Name = "company")]
public class Company
{
    [Keyword(NullValue = "null", Similarity = "BM25")]
    public string Name { get; set; }

    [Text(Name = "office_hours")]
    public TimeSpan? HeadOfficeHours { get; set; }

    [Object(Store = false)]
    public List&lt;Employee&gt; Employees { get; set; }
}

[ElasticsearchType(Name = "employee")]
public class Employee
{
    [Text(Name = "first_name")]
    public string FirstName { get; set; }

    [Text(Name = "last_name")]
    public string LastName { get; set; }

    [Number(DocValues = false, IgnoreMalformed = true, Coerce = true)]
    public int Salary { get; set; }

    [Date(Format = "MMddyyyy")]
    public DateTime Birthday { get; set; }

    [Boolean(NullValue = false, Store = true)]
    public bool IsManager { get; set; }

    [Nested]
    [JsonProperty("empl")]
    public List&lt;Employee&gt; Employees { get; set; }
}</pre></div><p>Then we map the types by calling <code class="literal">.AutoMap()</code></p><div xmlns="" class="pre_wrapper lang-csharp"><pre xmlns="http://www.w3.org/1999/xhtml" class="programlisting prettyprint lang-csharp">var createIndexResponse = _client.CreateIndex("myindex", c =&gt; c
    .Mappings(ms =&gt; ms
        .Map&lt;Company&gt;(m =&gt; m.AutoMap())
        .Map&lt;Employee&gt;(m =&gt; m.AutoMap())
    )
);</pre></div><div xmlns="" class="pre_wrapper lang-javascript"><pre xmlns="http://www.w3.org/1999/xhtml" class="programlisting prettyprint lang-javascript">{
  "mappings": {
    "company": {
      "properties": {
        "employees": {
          "properties": {
            "birthday": {
              "format": "MMddyyyy",
              "type": "date"
            },
            "empl": {
              "properties": {},
              "type": "nested"
            },
            "first_name": {
              "type": "text"
            },
            "isManager": {
              "null_value": false,
              "store": true,
              "type": "boolean"
            },
            "last_name": {
              "type": "text"
            },
            "salary": {
              "coerce": true,
              "doc_values": false,
              "ignore_malformed": true,
              "type": "float"
            }
          },
          "type": "object",
          "store": false
        },
        "name": {
          "null_value": "null",
          "similarity": "BM25",
          "type": "keyword"
        },
        "office_hours": {
          "type": "text"
        }
      }
    },
    "employee": {
      "properties": {
        "birthday": {
          "format": "MMddyyyy",
          "type": "date"
        },
        "empl": {
          "properties": {},
          "type": "nested"
        },
        "first_name": {
          "type": "text"
        },
        "isManager": {
          "null_value": false,
          "store": true,
          "type": "boolean"
        },
        "last_name": {
          "type": "text"
        },
        "salary": {
          "coerce": true,
          "doc_values": false,
          "ignore_malformed": true,
          "type": "float"
        }
      }
    }
  }
}</pre></div><p>Attribute mapping can be a convenient way to control how POCOs are mapped with minimal code, however
there are some mapping features that cannot be expressed with attributes, for example, <a class="link" href="multi-fields.html" title="Multi fields">Multi fields</a>.
In order to have the full power of mapping in NEST at your disposal,
take a look at <a class="link" href="fluent-mapping.html" title="Fluent mapping">Fluent Mapping</a> next.</p></div><div xmlns="" class="navfooter"><span class="prev"><a href="fluent-mapping.html">
              « 
              Fluent mapping</a>
           
        </span><span class="next">
           
          <a href="visitor-pattern-mapping.html">Applying conventions through the Visitor pattern
               »
            </a></span></div></body></html>