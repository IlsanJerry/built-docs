<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>elasticsearch-py [master] | Elastic</title>

<meta name="DC.type" content="Learn/Docs/Clients/Python/master"/>
<meta name="DC.subject" content="Clients"/>
<meta name="DC.identifier" content="master"/>
</head>
<body>
<div class="page_header">
You are looking at preliminary documentation for a future release.
Not what you want? See the
<a href="../current/index.html">current release documentation</a>.
</div>
<div class="book" lang="en">
<div class="titlepage">
<div>
<div><h1 class="title"><a id="id-1"></a>elasticsearch-py</h1></div>
</div>
<hr>
</div>
<div id="content">
<div class="chapter">
<div class="titlepage"><div><div>
<h1 class="title"><a id="overview"></a>Overview<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch-py/edit/master/docs/guide/overview.asciidoc">edit</a></h1>
</div></div></div>
<p>This is the official low-level Python client for Elasticsearch. Its goal is to provide
common ground for all Elasticsearch-related code in Python. For this reason, the client
is designed to be unopinionated and extendable. Full documentation is available
on <a href="https://elasticsearch-py.readthedocs.io" class="ulink" target="_top">Read the Docs</a>.</p>
<h3><a id="_compatibility"></a>Compatibility<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch-py/edit/master/docs/guide/overview.asciidoc">edit</a></h3>
<p>Current development happens in the master branch.</p>
<p>The library is compatible with all Elasticsearch versions since <code class="literal">0.90.x</code> but you
<span class="strong strong"><strong>have to use a matching major version</strong></span>:</p>
<p>For <span class="strong strong"><strong>Elasticsearch 7.0</strong></span> and later, use the major version 7 (<code class="literal">7.x.y</code>) of the
library.</p>
<p>For <span class="strong strong"><strong>Elasticsearch 6.0</strong></span> and later, use the major version 6 (<code class="literal">`6.x.y</code>) of the
library.</p>
<p>For <span class="strong strong"><strong>Elasticsearch 5.0</strong></span> and later, use the major version 5 (<code class="literal">5.x.y</code>) of the
library.</p>
<p>For <span class="strong strong"><strong>Elasticsearch 2.0</strong></span> and later, use the major version 2 (<code class="literal">2.x.y</code>) of the
library, and so on.</p>
<p>The recommended way to set your requirements in your <code class="literal">setup.py</code> or
<code class="literal">requirements.txt</code> is::</p>
<pre class="literallayout"># Elasticsearch 7.x
elasticsearch&gt;=7,&lt;8</pre>

<pre class="literallayout"># Elasticsearch 6.x
elasticsearch&gt;=6,&lt;7</pre>

<pre class="literallayout"># Elasticsearch 5.x
elasticsearch&gt;=5,&lt;6</pre>

<pre class="literallayout"># Elasticsearch 2.x
elasticsearch&gt;=2,&lt;3</pre>

<p>If you have a need to have multiple versions installed at the same time older
versions are also released as <code class="literal">elasticsearch2</code> and <code class="literal">elasticsearch5</code>.</p>
<h3><a id="_example_use"></a>Example use<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch-py/edit/master/docs/guide/overview.asciidoc">edit</a></h3>
<p>Simple use-case:</p>
<div class="pre_wrapper lang-python">
<pre class="programlisting prettyprint lang-python">&gt;&gt;&gt; from datetime import datetime
&gt;&gt;&gt; from elasticsearch import Elasticsearch

# By default we connect to localhost:9200
&gt;&gt;&gt; es = Elasticsearch()

# Datetimes will be serialized...
&gt;&gt;&gt; es.index(index="my-index-000001", doc_type="test-type", id=42, body={"any": "data", "timestamp": datetime.now()})
{'_id': '42', '_index': 'my-index-000001', '_type': 'test-type', '_version': 1, 'ok': True}

# ...but not deserialized
&gt;&gt;&gt; es.get(index="my-index-000001", doc_type="test-type", id=42)['_source']
{'any': 'data', 'timestamp': '2013-05-12T19:45:31.804229'}</pre>
</div>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>All the API calls map the raw REST API as closely as possible, including
the distinction between required and optional arguments to the calls. This
means that the code makes distinction between positional and keyword arguments;
we, however, recommend that people use keyword arguments for all calls for
consistency and safety.</p>
</div>
</div>
<h3><a id="_features"></a>Features<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch-py/edit/master/docs/guide/overview.asciidoc">edit</a></h3>
<p>The client&#8217;s features include:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Translating basic Python data types to and from JSON
</li>
<li class="listitem">
Configurable automatic discovery of cluster nodes
</li>
<li class="listitem">
Persistent connections
</li>
<li class="listitem">
Load balancing (with pluggable selection strategy) across all available nodes
</li>
<li class="listitem">
Failed connection penalization (time based - failed connections won&#8217;t be
retried until a timeout is reached)
</li>
<li class="listitem">
Thread safety
</li>
<li class="listitem">
Pluggable architecture
</li>
</ul>
</div>
<p>The client also contains a convenient set of
<a href="https://elasticsearch-py.readthedocs.org/en/master/helpers.html" class="ulink" target="_top">helpers</a> for
some of the more engaging tasks like bulk indexing and reindexing.</p>
<h3><a id="_elasticsearch_dsl"></a>Elasticsearch DSL<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch-py/edit/master/docs/guide/overview.asciidoc">edit</a></h3>
<p>For a more high level client library with more limited scope, have a look at
<a href="https://elasticsearch-dsl.readthedocs.org/" class="ulink" target="_top">elasticsearch-dsl</a> - a more Pythonic library
sitting on top of <code class="literal">elasticsearch-py</code>.</p>
<p>It provides a more convenient and idiomatic way to write and manipulate
<a href="https://elasticsearch-dsl.readthedocs.org/en/latest/search_dsl.html" class="ulink" target="_top">queries</a>. It
stays close to the Elasticsearch JSON DSL, mirroring its terminology and
structure while exposing the whole range of the DSL from Python either directly
using defined classes or a queryset-like expressions.</p>
<p>It also provides an optional
<a href="https://elasticsearch-dsl.readthedocs.org/en/latest/persistence.html#doctype" class="ulink" target="_top">persistence
layer</a> for working with documents as Python objects in an ORM-like fashion:
defining mappings, retrieving and saving documents, wrapping the document data
in user-defined classes.</p>
<h3><a id="_license"></a>License<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch-py/edit/master/docs/guide/overview.asciidoc">edit</a></h3>
<p>Licensed to Elasticsearch B.V. under one or more contributor
license agreements. See the NOTICE file distributed with
this work for additional information regarding copyright
ownership. Elasticsearch B.V. licenses this file to you under
the Apache License, Version 2.0 (the "License"); you may
not use this file except in compliance with the License.
You may obtain a copy of the License at</p>
<p><a href="http://www.apache.org/licenses/LICENSE-2.0" class="ulink" target="_top">http://www.apache.org/licenses/LICENSE-2.0</a></p>
<p>Unless required by applicable law or agreed to in writing,
software distributed under the License is distributed on an
"AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, either express or implied.  See the License for the
specific language governing permissions and limitations
under the License.</p>
</div>

<div class="chapter">
<div class="titlepage"><div><div>
<h1 class="title"><a id="installation"></a>Installation<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch-py/edit/master/docs/guide/installation.asciidoc">edit</a></h1>
</div></div></div>
<p>The Python client for Elasticsearch can be installed with pip:</p>
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">$ python -m pip install elasticsearch</pre>
</div>
<p>If your application uses async/await in Python you can install with the <code class="literal">async</code>
extra:</p>
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">$ python -m pip install elasticsearch[async]</pre>
</div>
<p>Read more about
<a href="https://elasticsearch-py.readthedocs.io/en/master/async.html" class="ulink" target="_top">how to use Asyncio with this project</a>.</p>
</div>

</div>
</div></body>
</html>
