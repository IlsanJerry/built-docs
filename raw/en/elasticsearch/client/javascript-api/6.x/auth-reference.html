<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title xmlns="">Authentication
        | Elasticsearch Node.js client [6.x]
      | Elastic
    </title><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Elasticsearch Node.js client [6.x]" /><link rel="up" href="index.html" title="Elasticsearch Node.js client [6.x]" /><link rel="prev" href="breaking-changes.html" title="Breaking changes coming from the old client" /><link rel="next" href="observability.html" title="Observability" /><meta xmlns="" name="description" content="Get started with the documentation for Elasticsearch, Kibana, Logstash, Beats, X-Pack, Elastic Cloud, Elasticsearch for Apache Hadoop, and our language clients." /><meta xmlns="" name="DC.type" content="Learn/Docs/Clients/JavaScript/6.x" /><meta xmlns="" name="DC.subject" content="Clients" /><meta xmlns="" name="DC.identifier" content="6.x" /></head><body><div xmlns="" class="page_header">You are looking at documentation for an older release.
Not what you want? See the
<a href="../current/index.html">current release documentation</a>.
</div><div xmlns="" class="breadcrumbs"><span class="breadcrumb-link"><a href="index.html">Elasticsearch Node.js client
      [6.x]
    </a></span> » <span class="breadcrumb-node">Authentication</span></div><div xmlns="" class="navheader"><span class="prev"><a href="breaking-changes.html">
              « 
              Breaking changes coming from the old client</a>
           
        </span><span class="next">
           
          <a href="observability.html">Observability
               »
            </a></span></div><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a id="auth-reference"></a>Authentication<a xmlns="" href="https://github.com/elastic/elasticsearch-js/edit/6.x/docs/authentication.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h1></div></div></div><p>This document contains code snippets to show you how to connect to various Elasticsearch providers.</p><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="_elastic_cloud"></a>Elastic Cloud<a xmlns="" href="https://github.com/elastic/elasticsearch-js/edit/6.x/docs/authentication.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h2></div></div></div><p>If you are using <a class="ulink" href="https://www.elastic.co/cloud" target="_top">Elastic Cloud</a>, the client offers a easy way to connect to it via the <code class="literal">cloud</code> option.
You must pass the Cloud ID that you can find in the cloud console, then your username and password inside the <code class="literal">auth</code> option.</p><div xmlns="" class="note admon"><div class="icon"><img alt="Note" src="images/icons/note.png" /></div><div class="admon_content"><p xmlns="http://www.w3.org/1999/xhtml">When connecting to Elastic Cloud, the client will automatically enable both request and response compression by default, since it yields significant throughput improvements.
Moreover, the client will also set the ssl option <code class="literal">secureProtocol</code> to <code class="literal">TLSv1_2_method</code> unless specified otherwise.
You can still override this option by configuring them.</p></div></div><div xmlns="" class="important admon"><div class="icon"><img alt="Important" src="images/icons/important.png" /></div><div class="admon_content"><p xmlns="http://www.w3.org/1999/xhtml">Do not enable sniffing when using Elastic Cloud, since the nodes are behind a load balancer, Elastic Cloud will take care of everything for you.</p></div></div><div xmlns="" class="pre_wrapper lang-js"><pre xmlns="http://www.w3.org/1999/xhtml" class="programlisting prettyprint lang-js">const { Client } = require('@elastic/elasticsearch')
const client = new Client({
  cloud: {
    id: 'name:bG9jYWxob3N0JGFiY2QkZWZnaA==',
  },
  auth: {
    username: 'elastic',
    password: 'changeme'
  }
})</pre></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="_basic_authentication"></a>Basic authentication<a xmlns="" href="https://github.com/elastic/elasticsearch-js/edit/6.x/docs/authentication.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h2></div></div></div><p>You can provide your credentials by passing the <code class="literal">username</code> and <code class="literal">password</code> parameters via the <code class="literal">auth</code> option.</p><div xmlns="" class="pre_wrapper lang-js"><pre xmlns="http://www.w3.org/1999/xhtml" class="programlisting prettyprint lang-js">const { Client } = require('@elastic/elasticsearch')
const client = new Client({
  node: 'https://localhost:9200',
  auth: {
    username: 'elastic',
    password: 'changeme'
  }
})</pre></div><p>Otherwise, you can provide your credentials in the node(s) URL.</p><div xmlns="" class="pre_wrapper lang-js"><pre xmlns="http://www.w3.org/1999/xhtml" class="programlisting prettyprint lang-js">const { Client } = require('@elastic/elasticsearch')
const client = new Client({
  node: 'https://username:password@localhost:9200'
})</pre></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="_apikey_authentication"></a>ApiKey authentication<a xmlns="" href="https://github.com/elastic/elasticsearch-js/edit/6.x/docs/authentication.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h2></div></div></div><p>You can use the <a class="ulink" href="https://www.elastic.co/guide/en/elasticsearch/reference/7.x/security-api-create-api-key.html" target="_top">ApiKey</a> authentication by passing the <code class="literal">apiKey</code> parameter via the <code class="literal">auth</code> option.
The <code class="literal">apiKey</code> parameter can be either a base64 encoded string or an object with the values that you can obtain from the <a class="ulink" href="https://www.elastic.co/guide/en/elasticsearch/reference/7.x/security-api-create-api-key.html" target="_top">create api key endpoint</a>.</p><div xmlns="" class="pre_wrapper lang-js"><pre xmlns="http://www.w3.org/1999/xhtml" class="programlisting prettyprint lang-js">const { Client } = require('@elastic/elasticsearch')
const client = new Client({
  node: 'https://localhost:9200',
  auth: {
    apiKey: 'base64EncodedKey'
  }
})</pre></div><div xmlns="" class="pre_wrapper lang-js"><pre xmlns="http://www.w3.org/1999/xhtml" class="programlisting prettyprint lang-js">const { Client } = require('@elastic/elasticsearch')
const client = new Client({
  node: 'https://localhost:9200',
  auth: {
    apiKey: {
      id: 'foo',
      api_key: 'bar'
    }
  }
})</pre></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="_ssl_configuration"></a>SSL configuration<a xmlns="" href="https://github.com/elastic/elasticsearch-js/edit/6.x/docs/authentication.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h2></div></div></div><p>Without any additional configuration you can specify <code class="literal">https://</code> node urls, but the certificates used to sign these requests will not verified (<code class="literal">rejectUnauthorized: false</code>). To turn on certificate verification you must specify an <code class="literal">ssl</code> object either in the top level config or in each host config object and set <code class="literal">rejectUnauthorized: true</code>. The ssl config object can contain many of the same configuration options that <a class="ulink" href="https://nodejs.org/api/tls.html#tls_tls_connect_options_callback" target="_top">tls.connect()</a> accepts.</p><div xmlns="" class="pre_wrapper lang-js"><pre xmlns="http://www.w3.org/1999/xhtml" class="programlisting prettyprint lang-js">const { Client } = require('@elastic/elasticsearch')
const client = new Client({
  node: 'http://localhost:9200',
  auth: {
    username: 'elastic',
    password: 'changeme'
  },
  ssl: {
    ca: fs.readFileSync('./cacert.pem'),
    rejectUnauthorized: true
  }
})</pre></div></div></div><div xmlns="" class="navfooter"><span class="prev"><a href="breaking-changes.html">
              « 
              Breaking changes coming from the old client</a>
           
        </span><span class="next">
           
          <a href="observability.html">Observability
               »
            </a></span></div></body></html>