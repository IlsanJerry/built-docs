<!DOCTYPE html>
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Host
        | elasticsearch.js [16.x]
      | Elastic
    </title><link rel="home" href="index.html" title="elasticsearch.js [16.x]" /><link rel="up" href="index.html" title="elasticsearch.js [16.x]" /><link rel="prev" href="changelog.html" title="Changelog" /><link rel="next" href="transport-reference.html" title="Transport" /><meta name="DC.type" content="Learn/Docs/Clients/JavaScript/16.x" /><meta name="DC.subject" content="Clients" /><meta name="DC.identifier" content="16.x" /></head><body><div class="page_header">You are looking at documentation for an older release.
Not what you want? See the
<a href="../current/index.html">current release documentation</a>.
</div><div class="breadcrumbs"><span class="breadcrumb-link"><a href="index.html">elasticsearch.js
      [16.x]
    </a></span> » <span class="breadcrumb-node">Host</span></div><div class="navheader"><span class="prev"><a href="changelog.html">
              « 
              Changelog</a>
           
        </span><span class="next">
           
          <a href="transport-reference.html">Transport
               »
            </a></span></div><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a id="host-reference"></a>Host<a href="https://github.com/elastic/elasticsearch-js/edit/16.x/docs/host.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h1></div></div></div><p>The host class is used to represent a single node/host/endpoint. These objects are created automatically by the Client constructor, as well as during sniff operations.</p><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="_constructorparams"></a>Constructor(params)<a href="https://github.com/elastic/elasticsearch-js/edit/16.x/docs/host.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h2></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_params"></a>Params<a href="https://github.com/elastic/elasticsearch-js/edit/16.x/docs/host.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p>Params can either be URL string, or an object with the following properties</p><div class="informaltable"><table cellpadding="4px" border="0"><colgroup><col /><col /></colgroup><tbody valign="top"><tr><td valign="top">
<p><code class="literal">host</code></p>
</td><td valign="top">
<p><code class="literal">String</code> — The name of the host</p>
<div class="variablelist"><dl class="variablelist"><dt><span class="term">Default </span></dt><dd><code class="literal">"localhost"</code></dd></dl></div>
</td></tr><tr><td valign="top">
<p><code class="literal">port</code></p>
</td><td valign="top">
<p><code class="literal">Number</code> — The port number to use for this host. Note the default of 9200 is only true if the params are passed as an object. If a string, then default port is evaluated based on the protocol (<code class="literal">80</code> for http, <code class="literal">443</code> for https).</p>
<div class="variablelist"><dl class="variablelist"><dt><span class="term">Default </span></dt><dd><code class="literal">9200</code></dd></dl></div>
</td></tr><tr><td valign="top">
<p><code class="literal">protocol</code></p>
</td><td valign="top">
<p><code class="literal">String</code> — The name of the protocol this host is reachable on</p>
<div class="variablelist"><dl class="variablelist"><dt><span class="term">Default </span></dt><dd><code class="literal">"http"</code></dd><dt><span class="term">Options </span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><code class="literal">"http"</code></li><li class="listitem"><code class="literal">"https"</code></li></ul></div></dd></dl></div>
</td></tr><tr><td valign="top">
<p><code class="literal">path</code></p>
</td><td valign="top">
<p><code class="literal">String</code> — A path prefix that should be prepended to every path requested.</p>
</td></tr><tr><td valign="top">
<p><code class="literal">auth</code></p>
</td><td valign="top">
<p><code class="literal">String</code> — Basic authentication i.e. <span class="emphasis"><em>user:password</em></span> to compute an Authorization header.</p>
</td></tr><tr><td valign="top">
<p><code class="literal">query</code></p>
</td><td valign="top">
<p><code class="literal">String,Object</code> — A default set of query string parameters to use on every request.</p>
</td></tr><tr><td valign="top">
<p><code class="literal">headers</code></p>
</td><td valign="top">
<p><code class="literal">Object</code> — An object describing the headers to send for every request to this node.</p>
</td></tr><tr><td valign="top">
<p><code class="literal">...</code></p>
</td><td valign="top">
<p><code class="literal">Any</code> — When the host receives a configuration object, it assigns all of the object’s keys to itself. This allows you to pass in arbitrary keys and values that can be used within selectors, or other custom functionality.</p>
</td></tr><tr><td valign="top">
<p><code class="literal">ssl</code></p>
</td><td valign="top">
<p><code class="literal">Object</code> — Host specific version of the <a class="link" href="configuration.html#config-ssl">ssl config</a>.</p>
</td></tr></tbody></table></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="_examples_2"></a>Examples<a href="https://github.com/elastic/elasticsearch-js/edit/16.x/docs/host.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h2></div></div></div><p><strong>Using your application to proxy/filter elasticsearch requests can sometimes be a good idea. Use this configuration to always send requests to <code class="literal">https://my-site.com/elasticsearch/{{request url}}</code> rather than directly to elasticsearch. </strong>
</p><div class="pre_wrapper lang-js"><pre class="programlisting prettyprint lang-js">var client = new elasticsearch.Client({
  host: {
    protocol: 'https',
    host: 'my-site.com',
    port: 80,
    path: '/elasticsearch/'
  }
})</pre></div><p>
</p><p><strong>Use custom keys/vals to add special properties to the hosts, that are used by the selector. </strong>
</p><div class="pre_wrapper lang-js"><pre class="programlisting prettyprint lang-js">var client = new elasticsearch.Client({
  hosts: [
    {
      protocol: 'https',
      host: 'box1.server.org',
      port: 56394,
      // these custom values are used below by the selector
      country: 'EU',
      weight: 10
    },
    {
      protocol: 'https',
      host: 'box2.server.org',
      port: 56394,
      // these custom values are used below by the selector
      country: 'US',
      weight: 50
    }
  ],
  selector: function (nodes) {
    var myCountry = process.env.COUNTRY;
    // first try to find a node that is in the same country
    var selection = _.find(nodes, function (node) {
      return node.host.country === myCountry;
    });

    if (!selection) {
      // choose the node with the lightest weight.
      selection = _(nodes).sortBy(function (node) {
        return node.host.weight;
      }).first();
    }

    return selection;
  }
});</pre></div><p>
</p></div></div><div class="navfooter"><span class="prev"><a href="changelog.html">
              « 
              Changelog</a>
           
        </span><span class="next">
           
          <a href="transport-reference.html">Transport
               »
            </a></span></div></body></html>
