<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title xmlns="">Forcemerge
        | Curator Reference [5.x]
      | Elastic
    </title><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Curator Reference [5.x]" /><link rel="up" href="actions.html" title="Actions" /><link rel="prev" href="delete_snapshots.html" title="Delete Snapshots" /><link rel="next" href="index_settings.html" title="Index Settings" /><meta xmlns="" name="description" content="Get started with the documentation for Elasticsearch, Kibana, Logstash, Beats, X-Pack, Elastic Cloud, Elasticsearch for Apache Hadoop, and our language clients." /><meta xmlns="" name="DC.type" content="Learn/Docs/Clients/Curator/5.x" /><meta xmlns="" name="DC.subject" content="Clients" /><meta xmlns="" name="DC.identifier" content="5.x" /></head><body><div xmlns="" class="page_header">You are looking at preliminary documentation for a future release.
Not what you want? See the
<a href="../current/index.html">current release documentation</a>.
</div><div xmlns="" class="breadcrumbs"><span class="breadcrumb-link"><a href="index.html">Curator Reference
      [5.x]
    </a></span> » <span class="breadcrumb-link"><a href="actions.html">Actions</a></span> » <span class="breadcrumb-node">Forcemerge</span></div><div xmlns="" class="navheader"><span class="prev"><a href="delete_snapshots.html">
              « 
              Delete Snapshots</a>
           
        </span><span class="next">
           
          <a href="index_settings.html">Index Settings
               »
            </a></span></div><div class="chapter"><div class="titlepage"><div><div><h2 class="title"><a id="forcemerge"></a>Forcemerge<a xmlns="" href="https://github.com/elastic/curator/edit/5.x/docs/asciidoc/actions.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h2></div></div></div><div xmlns="" class="pre_wrapper lang-yaml"><pre xmlns="http://www.w3.org/1999/xhtml" class="programlisting prettyprint lang-yaml">action: forcemerge
description: &gt;-
  Perform a forceMerge on selected indices to 'max_num_segments' per shard
options:
  max_num_segments: 2
  timeout_override: 21600
filters:
- filtertype: ...</pre></div><div xmlns="" class="note admon"><div class="icon"><img alt="Note" src="images/icons/note.png" /></div><div class="admon_content"><p xmlns="http://www.w3.org/1999/xhtml">Empty values and commented lines will result in the default value, if any,
    being selected.  If a setting is set, but not used by a given action, it
    will be ignored.</p></div></div><p>This action performs a forceMerge on the selected indices, merging them to
<a class="link" href="option_mns.html" title="max_num_segments">max_num_segments</a> per shard.</p><div xmlns="" class="warning admon"><div class="icon"><img alt="Warning" src="images/icons/warning.png" /></div><div class="admon_content"><p xmlns="http://www.w3.org/1999/xhtml">A <a class="ulink" href="http://www.elastic.co/guide/en/elasticsearch/reference/7.0/indices-forcemerge.html#indices-forcemerge" target="_top"><code class="literal">forcemerge</code></a> should
    never be executed on an index that is actively receiving data.  It should
    only ever be performed on indices where no more documents are ever
    anticipated to be added in the future.</p></div></div><p>You can optionally pause between each merge for <a class="link" href="option_delay.html" title="delay">delay</a> seconds
to allow the cluster to quiesce:</p><div xmlns="" class="pre_wrapper lang-yaml"><pre xmlns="http://www.w3.org/1999/xhtml" class="programlisting prettyprint lang-yaml">action: forcemerge
description: &gt;-
  Perform a forceMerge on selected indices to 'max_num_segments' per shard
options:
  max_num_segments: 2
  timeout_override: 21600
  delay: 120
filters:
- filtertype: ...</pre></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="_required_settings_6"></a>Required settings<a xmlns="" href="https://github.com/elastic/curator/edit/5.x/docs/asciidoc/actions.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h2></div></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><a class="link" href="option_mns.html" title="max_num_segments">max_num_segments</a></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="_optional_settings_8"></a>Optional settings<a xmlns="" href="https://github.com/elastic/curator/edit/5.x/docs/asciidoc/actions.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h2></div></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><a class="link" href="option_delay.html" title="delay">delay</a></li><li class="listitem"><a class="link" href="option_ignore_empty.html" title="ignore_empty_list">ignore_empty_list</a></li><li class="listitem"><a class="link" href="option_timeout_override.html" title="timeout_override">timeout_override</a></li><li class="listitem"><a class="link" href="option_continue.html" title="continue_if_exception">continue_if_exception</a></li><li class="listitem"><a class="link" href="option_disable.html" title="disable_action">disable_action</a></li></ul></div><div xmlns="" class="tip admon"><div class="icon"><img alt="Tip" src="images/icons/tip.png" /></div><div class="admon_content"><p xmlns="http://www.w3.org/1999/xhtml">See an example of this action in an <a class="link" href="actionfile.html" title="Action File">actionfile</a>
    <a class="link" href="ex_forcemerge.html" title="forcemerge">here</a>.</p></div></div></div></div><div xmlns="" class="navfooter"><span class="prev"><a href="delete_snapshots.html">
              « 
              Delete Snapshots</a>
           
        </span><span class="next">
           
          <a href="index_settings.html">Index Settings
               »
            </a></span></div></body></html>