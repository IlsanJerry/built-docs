<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title xmlns="">rename_replacement
        | Curator Reference [5.8]
      | Elastic
    </title><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Curator Reference [5.8]" /><link rel="up" href="options.html" title="Options" /><link rel="prev" href="option_rename_pattern.html" title="rename_pattern" /><link rel="next" href="option_repository.html" title="repository" /><meta xmlns="" name="description" content="Get started with the documentation for Elasticsearch, Kibana, Logstash, Beats, X-Pack, Elastic Cloud, Elasticsearch for Apache Hadoop, and our language clients." /><meta xmlns="" name="DC.type" content="Learn/Docs/Clients/Curator/5.8" /><meta xmlns="" name="DC.subject" content="Clients" /><meta xmlns="" name="DC.identifier" content="5.8" /></head><body><div xmlns="" class="page_header">You are looking at preliminary documentation for a future release.
Not what you want? See the
<a href="../current/index.html">current release documentation</a>.
</div><div xmlns="" class="breadcrumbs"><span class="breadcrumb-link"><a href="index.html">Curator Reference
      [5.8]
    </a></span> » <span class="breadcrumb-link"><a href="options.html">Options</a></span> » <span class="breadcrumb-node">rename_replacement</span></div><div xmlns="" class="navheader"><span class="prev"><a href="option_rename_pattern.html">
              « 
              rename_pattern</a>
           
        </span><span class="next">
           
          <a href="option_repository.html">repository
               »
            </a></span></div><div class="chapter"><div class="titlepage"><div><div><h2 class="title"><a id="option_rename_replacement"></a>rename_replacement<a xmlns="" href="https://github.com/elastic/curator/edit/5.8/docs/asciidoc/options.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h2></div></div></div><div xmlns="" class="note admon"><div class="icon"><img alt="Note" src="images/icons/note.png" /></div><div class="admon_content"><p xmlns="http://www.w3.org/1999/xhtml">This setting is only used by the <a class="link" href="restore.html" title="Restore">restore</a> action.</p></div></div><div xmlns="" class="tip admon"><div class="icon"><img alt="Tip" src="images/icons/tip.png" /></div><div class="admon_content"><h3>From the Elasticsearch documentation</h3><p xmlns="http://www.w3.org/1999/xhtml">The <a class="link" href="option_rename_pattern.html" title="rename_pattern">rename_pattern</a> and
<a class="link" href="option_rename_replacement.html" title="rename_replacement">rename_replacement</a> options can be also used to
rename indices on restore using regular expression that supports referencing the
original text as explained
<a class="ulink" href="http://docs.oracle.com/javase/6/docs/api/java/util/regex/Matcher.html#appendReplacement(java.lang.StringBuffer,%20java.lang.String)" target="_top">here</a>.</p></div></div><div xmlns="" class="pre_wrapper lang-yaml"><pre xmlns="http://www.w3.org/1999/xhtml" class="programlisting prettyprint lang-yaml">actions:
  1:
    action: restore
    description: &gt;-
      Restore all indices in the most recent snapshot with state SUCCESS.  Wait
      for the restore to complete before continuing.  Do not skip the repository
      filesystem access check.  Use the other options to define the index/shard
      settings for the restore.
    options:
      repository:
      # If name is blank, the most recent snapshot by age will be selected
      name:
      # If indices is blank, all indices in the snapshot will be restored
      indices:
      rename_pattern: 'index(.+)'
      rename_replacement: 'restored_index$1'
      wait_for_completion: True
      max_wait: 3600
      wait_interval: 10
    filters:
    - filtertype: state
      state: SUCCESS
      exclude:
    - filtertype: ...</pre></div><p>In this configuration, Elasticsearch will capture whatever appears after <code class="literal">index</code>
and put it after <code class="literal">restored_index</code>.  For example, if I was restoring
<code class="literal">index-2017.03.01</code>, the resulting index would be renamed to
<code class="literal">restored_index-2017.03.01</code>.</p><p>Read more about this setting at <a class="ulink" href="http://www.elastic.co/guide/en/elasticsearch/reference/7.3/modules-snapshots.html#restore-snapshot" target="_top">http://www.elastic.co/guide/en/elasticsearch/reference/7.3/modules-snapshots.html#restore-snapshot</a></p><p>There is no default value.</p></div><div xmlns="" class="navfooter"><span class="prev"><a href="option_rename_pattern.html">
              « 
              rename_pattern</a>
           
        </span><span class="next">
           
          <a href="option_repository.html">repository
               »
            </a></span></div></body></html>