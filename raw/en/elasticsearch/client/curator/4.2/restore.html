<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title xmlns="">Restore
        | Curator Reference [4.2]
      | Elastic
    </title><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Curator Reference [4.2]" /><link rel="up" href="actions.html" title="Actions" /><link rel="prev" href="replicas.html" title="Replicas" /><link rel="next" href="snapshot.html" title="Snapshot" /><meta xmlns="" name="description" content="Get started with the documentation for Elasticsearch, Kibana, Logstash, Beats, X-Pack, Elastic Cloud, Elasticsearch for Apache Hadoop, and our language clients." /><meta xmlns="" name="DC.type" content="Learn/Docs/Clients/Curator/4.2" /><meta xmlns="" name="DC.subject" content="Clients" /><meta xmlns="" name="DC.identifier" content="4.2" /></head><body><div xmlns="" class="page_header">You are looking at documentation for an older release.
Not what you want? See the
<a href="../current/index.html">current release documentation</a>.
</div><div xmlns="" class="breadcrumbs"><span class="breadcrumb-link"><a href="index.html">Curator Reference
      [4.2]
    </a></span> » <span class="breadcrumb-link"><a href="actions.html">Actions</a></span> » <span class="breadcrumb-node">Restore</span></div><div xmlns="" class="navheader"><span class="prev"><a href="replicas.html">
              « 
              Replicas</a>
           
        </span><span class="next">
           
          <a href="snapshot.html">Snapshot
               »
            </a></span></div><div class="chapter"><div class="titlepage"><div><div><h2 class="title"><a id="restore"></a>Restore<a xmlns="" href="https://github.com/elastic/curator/edit/4.2/docs/asciidoc/actions.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h2></div></div></div><div xmlns="" class="pre_wrapper lang-yaml"><pre xmlns="http://www.w3.org/1999/xhtml" class="programlisting prettyprint lang-yaml">actions:
  1:
    action: restore
    description: &gt;-
      Restore all indices in the most recent snapshot with state SUCCESS.  Wait
      for the restore to complete before continuing.  Do not skip the repository
      filesystem access check.  Use the other options to define the index/shard
      settings for the restore.
    options:
      repository:
      # Leaving name blank will result in restoring the most recent snapshot by age
      name:
      # Leaving indices blank will result in restoring all indices in the snapshot
      indices:
      include_aliases: False
      ignore_unavailable: False
      include_global_state: True
      partial: False
      rename_pattern:
      rename_replacement:
      extra_settings:
      wait_for_completion: True
      skip_repo_fs_check: False
      timeout_override:
      continue_if_exception: False
      disable_action: False
    filters:
    - filtertype: state
      state: SUCCESS
      exclude:
    - filtertype: ...</pre></div><div xmlns="" class="note admon"><div class="icon"><img alt="Note" src="images/icons/note.png" /></div><div class="admon_content"><p xmlns="http://www.w3.org/1999/xhtml">Empty values and commented lines will result in the default value, if any,
    being selected.  If a setting is set, but not used by a given action, it
    will be ignored.</p></div></div><p>This action will restore indices from the indicated
<a class="link" href="option_repository.html" title="repository">repository</a>, from the most recent snapshot identified by
the applied filters, or the snapshot identified by <a class="link" href="option_name.html" title="name">name</a>.</p><p>The other options are usually okay to leave at the defaults, but feel free to
read about them and change them accordingly.</p><p>The <a class="link" href="option_extra_settings.html" title="extra_settings">extra_settings</a> option allows the addition of extra
settings, such as index settings and mappings.  An example of how these settings
can be used to change settings for an index being restored might be:</p><div xmlns="" class="pre_wrapper lang-yaml"><pre xmlns="http://www.w3.org/1999/xhtml" class="programlisting prettyprint lang-yaml">extra_settings:
  settings:
    number_of_shards: 1
    number_of_replicas: 0
  mappings:
    type1 :
      properties:
        field1:
          type: string
          index: not_analyzed</pre></div><h3><a id="_required_settings_8"></a>Required settings<a xmlns="" href="https://github.com/elastic/curator/edit/4.2/docs/asciidoc/actions.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><a class="link" href="option_repository.html" title="repository">repository</a> (required)</li></ul></div><h3><a id="_optional_settings_11"></a>Optional settings<a xmlns="" href="https://github.com/elastic/curator/edit/4.2/docs/asciidoc/actions.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><a class="link" href="option_name.html" title="name">name</a> (has no default value)</li><li class="listitem"><a class="link" href="option_include_aliases.html" title="include_aliases">include_aliases</a> (has a default value which can
optionally be changed)</li><li class="listitem"><a class="link" href="option_indices.html" title="indices">indices</a> (has a default value which can optionally be
changed)</li><li class="listitem"><a class="link" href="option_ignore.html" title="ignore_unavailable">ignore_unavailable</a> (has a default value which can optionally
be changed)</li><li class="listitem"><a class="link" href="option_include_gs.html" title="include_global_state">include_global_state</a> (has a default value which can
optionally be changed)</li><li class="listitem"><a class="link" href="option_partial.html" title="partial">partial</a> (has a default value which can optionally be
changed)</li><li class="listitem"><a class="link" href="option_rename_pattern.html" title="rename_pattern">rename_pattern</a> (has no default value)</li><li class="listitem"><a class="link" href="option_rename_replacement.html" title="rename_replacement">rename_replacement</a> (has no default value)</li><li class="listitem"><a class="link" href="option_extra_settings.html" title="extra_settings">extra_settings</a> (has no default value.)</li><li class="listitem"><a class="link" href="option_wfc.html" title="wait_for_completion">wait_for_completion</a> (has a default value which can optionally
be changed)</li><li class="listitem"><a class="link" href="option_skip_fsck.html" title="skip_repo_fs_check">skip_repo_fs_check</a> (has a default value which can
optionally be changed)</li><li class="listitem"><a class="link" href="option_ignore_empty.html" title="ignore_empty_list">ignore_empty_list</a> (can override the default)</li><li class="listitem"><a class="link" href="option_timeout_override.html" title="timeout_override">timeout_override</a> (can override the default
<a class="link" href="configfile.html#timeout" title="timeout">timeout</a>)</li><li class="listitem"><a class="link" href="option_continue.html" title="continue_if_exception">continue_if_exception</a> (has a default value which can
optionally be changed)</li><li class="listitem"><a class="link" href="option_disable.html" title="disable_action">disable_action</a> (has a default value which can optionally
be changed)</li></ul></div><div xmlns="" class="tip admon"><div class="icon"><img alt="Tip" src="images/icons/tip.png" /></div><div class="admon_content"><p xmlns="http://www.w3.org/1999/xhtml">See an example of this action in an <a class="link" href="actionfile.html" title="Action File">actionfile</a>
    <a class="link" href="ex_restore.html" title="restore">here</a>.</p></div></div></div><div xmlns="" class="navfooter"><span class="prev"><a href="replicas.html">
              « 
              Replicas</a>
           
        </span><span class="next">
           
          <a href="snapshot.html">Snapshot
               »
            </a></span></div></body></html>