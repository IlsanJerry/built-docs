<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>7.14 Release notes | Ruby and Rails Integrations [7.x] | Elastic</title>
<link rel="home" href="index.html" title="Ruby and Rails Integrations [7.x]"/>
<link rel="up" href="release_notes.html" title="Release Notes"/>
<link rel="prev" href="release_notes.html" title="Release Notes"/>
<link rel="next" href="release_notes_713.html" title="7.13 Release notes"/>
<meta name="DC.type" content="Learn/Docs/Clients/Ruby/7.x"/>
<meta name="DC.subject" content="Clients"/>
<meta name="DC.identifier" content="7.x"/>
</head>
<body>
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="index.html">Ruby and Rails Integrations [7.x]</a></span>
»
<span class="breadcrumb-link"><a href="release_notes.html">Release Notes</a></span>
»
<span class="breadcrumb-node">7.14 Release notes</span>
</div>
<div class="navheader">
<span class="prev">
<a href="release_notes.html">« Release Notes</a>
</span>
<span class="next">
<a href="release_notes_713.html">7.13 Release notes »</a>
</span>
</div>
<div class="section">
<div class="titlepage"><div><div>
<h2 class="title"><a id="release_notes_714"></a>7.14 Release notes<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch-ruby/edit/7.x/docs/release_notes/714.asciidoc">edit</a></h2>
</div></div></div>
<h4><a id="_client"></a>Client<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch-ruby/edit/7.x/docs/release_notes/714.asciidoc">edit</a></h4>
<p>This release changes the way in which the transport layer and the client interact. Previously, when using <code class="literal">elasticsearch-transport</code>, <code class="literal">Elasticsearch::Transport::Client</code> had a convenient wrapper, so it could be used as <code class="literal">Elasticsearch::Client</code>. Now, we are decoupling the transport layer from the Elasticsearch client. If you&#8217;re using the <code class="literal">elasticsearch</code> gem, not much will change. It will instantiate a new <code class="literal">Elasticsearch::Transport::Client</code> when you instantiate <code class="literal">Elasticsearch::Client</code> and the endpoints from <code class="literal">elasticsearch-api</code> will be available.</p>
<p><code class="literal">Elasticsearch::Client</code> has an <code class="literal">attr_accessor</code> for the transport instance:</p>
<div class="pre_wrapper lang-ruby">
<pre class="programlisting prettyprint lang-ruby">&gt; client = Elasticsearch::Client.new
&gt; client.transport.class
=&gt; Elasticsearch::Transport::Client
&gt; client.transport.transport.class
=&gt; Elasticsearch::Transport::Transport::HTTP::Faraday</pre>
</div>
<p>The interaction with <code class="literal">elasticsearch-api</code> remains unchanged. You can use the API endpoints just like before:</p>
<div class="pre_wrapper lang-ruby">
<pre class="programlisting prettyprint lang-ruby">&gt; client.info
=&gt; {"name"=&gt;"instance",
 "cluster_name"=&gt;"elasticsearch",
 "cluster_uuid"=&gt;"id",
 "version"=&gt;
  {"number"=&gt;"7.14.0",
  ...
},
 "tagline"=&gt;"You Know, for Search"}</pre>
</div>
<p>Or perform request directly from the client which will return an <code class="literal">Elasticsearch::Transport::Response</code> object:</p>
<div class="pre_wrapper lang-ruby">
<pre class="programlisting prettyprint lang-ruby">&gt; client.perform_request('GET', '/')
# This is the same as doing client.transport.perform_request('GET', '/')
=&gt; #&lt;Elasticsearch::Transport::Transport::Response:0x000055c80bf94bc8
 @body=
  {"name"=&gt;"instance",
   "cluster_name"=&gt;"elasticsearch",
   "cluster_uuid"=&gt;"id",
   "version"=&gt;
    {"number"=&gt;"7.14.0-SNAPSHOT",
    ...
    },
   "tagline"=&gt;"You Know, for Search"},
 @headers=
  {"content-type"=&gt;"application/json; charset=UTF-8",
   "content-length"=&gt;"571",
   ...
   },
 @status=200&gt;</pre>
</div>
<p>If you have any problems, please report them in <a href="https://github.com/elastic/elasticsearch-ruby/issues/1344" class="ulink" target="_top">this issue</a>.</p>
</div>
<div class="navfooter">
<span class="prev">
<a href="release_notes.html">« Release Notes</a>
</span>
<span class="next">
<a href="release_notes_713.html">7.13 Release notes »</a>
</span>
</div>
</div>
</body>
</html>
