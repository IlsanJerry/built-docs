<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title xmlns="">Search API
        | Java API [2.1]
      | Elastic
    </title><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Java API [2.1]" /><link rel="up" href="index.html" title="Java API [2.1]" /><link rel="prev" href="java-docs-bulk-processor.html" title="Using Bulk Processor" /><link rel="next" href="java-search-scrolling.html" title="Using scrolls in Java" /><meta xmlns="" name="description" content="Get started with the documentation for Elasticsearch, Kibana, Logstash, Beats, X-Pack, Elastic Cloud, Elasticsearch for Apache Hadoop, and our language clients." /><meta xmlns="" name="DC.type" content="Learn/Docs/Clients/Java/2.1" /><meta xmlns="" name="DC.subject" content="Clients" /><meta xmlns="" name="DC.identifier" content="2.1" /></head><body><div xmlns="" class="page_header">You are looking at documentation for an older release.
Not what you want? See the
<a href="../current/index.html">current release documentation</a>.
</div><div xmlns="" class="breadcrumbs"><span class="breadcrumb-link"><a href="index.html">Java API
      [2.1]
    </a></span> » <span class="breadcrumb-node">Search API</span></div><div xmlns="" class="navheader"><span class="prev"><a href="java-docs-bulk-processor.html">
              « 
              Using Bulk Processor</a>
           
        </span><span class="next">
           
          <a href="java-search-scrolling.html">Using scrolls in Java
               »
            </a></span></div><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a id="java-search"></a>Search API<a xmlns="" href="https://github.com/elastic/elasticsearch/edit/2.1/docs/java-api/search.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h1></div></div></div><p>The search API allows one to execute a search query and get back search hits
that match the query. It can be executed across one or more indices and
across one or more types. The query can provided using the <a class="link" href="java-query-dsl.html" title="Query DSL">query Java API</a>.
The body of the search request is built using the <code class="literal">SearchSourceBuilder</code>. Here is an example:</p><div xmlns="" class="pre_wrapper lang-java"><pre xmlns="http://www.w3.org/1999/xhtml" class="programlisting prettyprint lang-java">import org.elasticsearch.action.search.SearchResponse;
import org.elasticsearch.action.search.SearchType;
import org.elasticsearch.index.query.QueryBuilders.*;</pre></div><div xmlns="" class="pre_wrapper lang-java"><pre xmlns="http://www.w3.org/1999/xhtml" class="programlisting prettyprint lang-java">SearchResponse response = client.prepareSearch("index1", "index2")
        .setTypes("type1", "type2")
        .setSearchType(SearchType.DFS_QUERY_THEN_FETCH)
        .setQuery(QueryBuilders.termQuery("multi", "test"))                 // Query
        .setPostFilter(QueryBuilders.rangeQuery("age").from(12).to(18))     // Filter
        .setFrom(0).setSize(60).setExplain(true)
        .execute()
        .actionGet();</pre></div><p>Note that all parameters are optional. Here is the smallest search call
you can write:</p><div xmlns="" class="pre_wrapper lang-java"><pre xmlns="http://www.w3.org/1999/xhtml" class="programlisting prettyprint lang-java">// MatchAll on the whole cluster with all default options
SearchResponse response = client.prepareSearch().execute().actionGet();</pre></div><div xmlns="" class="note admon"><div class="icon"><img alt="Note" src="images/icons/note.png" /></div><div class="admon_content"><p xmlns="http://www.w3.org/1999/xhtml">Although the Java API defines the additional search types QUERY_AND_FETCH and
        DFS_QUERY_AND_FETCH, these modes are internal optimizations and should not
        be specified explicitly by users of the API.</p></div></div><p>For more information on the search operation, check out the REST
<a class="ulink" href="http://www.elastic.co/guide/en/elasticsearch/reference/2.1/search.html" target="_top">search</a> docs.</p></div><div xmlns="" class="navfooter"><span class="prev"><a href="java-docs-bulk-processor.html">
              « 
              Using Bulk Processor</a>
           
        </span><span class="next">
           
          <a href="java-search-scrolling.html">Using scrolls in Java
               »
            </a></span></div></body></html>