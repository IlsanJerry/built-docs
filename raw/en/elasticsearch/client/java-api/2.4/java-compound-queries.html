<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title xmlns="">Compound queries
        | Java API [2.4]
      | Elastic
    </title><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Java API [2.4]" /><link rel="up" href="java-query-dsl.html" title="Query DSL" /><link rel="prev" href="java-term-level-queries.html" title="Term level queries" /><link rel="next" href="java-joining-queries.html" title="Joining queries" /><meta xmlns="" name="description" content="Get started with the documentation for Elasticsearch, Kibana, Logstash, Beats, X-Pack, Elastic Cloud, Elasticsearch for Apache Hadoop, and our language clients." /><meta xmlns="" name="DC.type" content="Learn/Docs/Clients/Java/2.4" /><meta xmlns="" name="DC.subject" content="Clients" /><meta xmlns="" name="DC.identifier" content="2.4" /></head><body><div xmlns="" class="page_header">You are looking at documentation for an older release.
Not what you want? See the
<a href="../current/index.html">current release documentation</a>.
</div><div xmlns="" class="breadcrumbs"><span class="breadcrumb-link"><a href="index.html">Java API
      [2.4]
    </a></span> » <span class="breadcrumb-link"><a href="java-query-dsl.html">Query DSL</a></span> » <span class="breadcrumb-node">Compound queries</span></div><div xmlns="" class="navheader"><span class="prev"><a href="java-term-level-queries.html">
              « 
              Term level queries</a>
           
        </span><span class="next">
           
          <a href="java-joining-queries.html">Joining queries
               »
            </a></span></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="java-compound-queries"></a>Compound queries<a xmlns="" href="https://github.com/elastic/elasticsearch/edit/2.4/docs/java-api/query-dsl/compound-queries.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h2></div></div></div><p>Compound queries wrap other compound or leaf queries, either to combine their
results and scores, to change their behaviour, or to switch from query to
filter context.</p><p>The queries in this group are:</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><a class="link" href="java-compound-queries.html#java-query-dsl-constant-score-query" title="Constant Score Query"><code class="literal">constant_score</code> query</a></span></dt><dd>A query which wraps another query, but executes it in filter context.  All
matching documents are given the same <span class="quote">“<span class="quote">constant</span>”</span> <code class="literal">_score</code>.</dd><dt><span class="term"><a class="link" href="java-compound-queries.html#java-query-dsl-bool-query" title="Bool Query"><code class="literal">bool</code> query</a></span></dt><dd>The default query for combining multiple leaf or compound query clauses, as
<code class="literal">must</code>, <code class="literal">should</code>, <code class="literal">must_not</code>, or <code class="literal">filter</code> clauses.  The <code class="literal">must</code> and <code class="literal">should</code>
clauses have their scores combined — the more matching clauses, the better — while the <code class="literal">must_not</code> and <code class="literal">filter</code> clauses are executed in filter context.</dd><dt><span class="term"><a class="link" href="java-compound-queries.html#java-query-dsl-dis-max-query" title="Dis Max Query"><code class="literal">dis_max</code> query</a></span></dt><dd>A query which accepts multiple queries, and returns any documents which match
any of the query clauses.  While the <code class="literal">bool</code> query combines the scores from all
matching queries, the <code class="literal">dis_max</code> query uses the score of the single best-
matching query clause.</dd><dt><span class="term"><a class="link" href="java-compound-queries.html#java-query-dsl-function-score-query" title="Function Score Query"><code class="literal">function_score</code> query</a></span></dt><dd>Modify the scores returned by the main query with functions to take into
account factors like popularity, recency, distance, or custom algorithms
implemented with scripting.</dd><dt><span class="term"><a class="link" href="java-compound-queries.html#java-query-dsl-boosting-query" title="Boosting Query"><code class="literal">boosting</code> query</a></span></dt><dd>Return documents which match a <code class="literal">positive</code> query, but reduce the score of
documents which also match a <code class="literal">negative</code> query.</dd><dt><span class="term"><a class="link" href="java-compound-queries.html#java-query-dsl-indices-query" title="Indices Query"><code class="literal">indices</code> query</a></span></dt><dd>Execute one query for the specified indices, and another for other indices.</dd><dt><span class="term"><a class="link" href="java-compound-queries.html#java-query-dsl-and-query" title="And Query"><code class="literal">and</code></a>, <a class="link" href="java-compound-queries.html#java-query-dsl-or-query" title="Or Query"><code class="literal">or</code></a>, <a class="link" href="java-compound-queries.html#java-query-dsl-not-query" title="Not Query"><code class="literal">not</code></a></span></dt><dd>Synonyms for the <code class="literal">bool</code> query.</dd><dt><span class="term"><a class="link" href="java-compound-queries.html#java-query-dsl-filtered-query" title="Filtered Query"><code class="literal">filtered</code> query</a></span></dt><dd>Combine a query clause in query context with another in filter context. <span xmlns="" class="Admonishment">
      [<span class="Admonishment-version u-mono u-strikethrough">2.0.0</span>]
      <span class="Admonishment-detail">Deprecated in 2.0.0. 
  Use the <code xmlns="http://www.w3.org/1999/xhtml" class="literal">bool</code> query instead
</span></span>
</dd><dt><span class="term"><a class="link" href="java-compound-queries.html#java-query-dsl-limit-query" title="Limit Query"><code class="literal">limit</code> query</a></span></dt><dd>Limits the number of documents examined per shard.</dd></dl></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="java-query-dsl-constant-score-query"></a>Constant Score Query<a xmlns="" href="https://github.com/elastic/elasticsearch/edit/2.4/docs/java-api/query-dsl/constant-score-query.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p>See <a class="ulink" href="http://www.elastic.co/guide/en/elasticsearch/reference/2.4/query-dsl-constant-score-query.html" target="_top">Constant Score Query</a></p><div xmlns="" class="pre_wrapper lang-java"><pre xmlns="http://www.w3.org/1999/xhtml" class="programlisting prettyprint lang-java">QueryBuilder qb = constantScoreQuery(
        termQuery("name","kimchy")      <a id="CO23-1"></a><i xmlns="" class="conum" data-value="1"></i>
    )
    .boost(2.0f);                       <a id="CO23-2"></a><i xmlns="" class="conum" data-value="2"></i></pre></div><div class="calloutlist"><table border="0" summary="Callout list"><tr><td width="5%" valign="top" align="left"><p><a href="#CO23-1"><i xmlns="" class="conum" data-value="1"></i></a> </p></td><td valign="top" align="left"><p>your query</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO23-2"><i xmlns="" class="conum" data-value="2"></i></a> </p></td><td valign="top" align="left"><p>query score</p></td></tr></table></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="java-query-dsl-bool-query"></a>Bool Query<a xmlns="" href="https://github.com/elastic/elasticsearch/edit/2.4/docs/java-api/query-dsl/bool-query.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p>See <a class="ulink" href="http://www.elastic.co/guide/en/elasticsearch/reference/2.4/query-dsl-bool-query.html" target="_top">Bool Query</a></p><div xmlns="" class="pre_wrapper lang-java"><pre xmlns="http://www.w3.org/1999/xhtml" class="programlisting prettyprint lang-java">QueryBuilder qb = boolQuery()
    .must(termQuery("content", "test1"))    <a id="CO24-1"></a><i xmlns="" class="conum" data-value="1"></i>
    .must(termQuery("content", "test4"))    <a id="CO24-2"></a><i xmlns="" class="conum" data-value="2"></i>
    .mustNot(termQuery("content", "test2")) <a id="CO24-3"></a><i xmlns="" class="conum" data-value="3"></i>
    .should(termQuery("content", "test3")); <a id="CO24-4"></a><i xmlns="" class="conum" data-value="4"></i></pre></div><div class="calloutlist"><table border="0" summary="Callout list"><tr><td width="5%" valign="top" align="left"><p><a href="#CO24-1"><i xmlns="" class="conum" data-value="1"></i></a> <a href="#CO24-2"><i xmlns="" class="conum" data-value="2"></i></a> </p></td><td valign="top" align="left"><p>must query</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO24-3"><i xmlns="" class="conum" data-value="3"></i></a> </p></td><td valign="top" align="left"><p>must not query</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO24-4"><i xmlns="" class="conum" data-value="4"></i></a> </p></td><td valign="top" align="left"><p>should query</p></td></tr></table></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="java-query-dsl-dis-max-query"></a>Dis Max Query<a xmlns="" href="https://github.com/elastic/elasticsearch/edit/2.4/docs/java-api/query-dsl/dis-max-query.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p>See <a class="ulink" href="http://www.elastic.co/guide/en/elasticsearch/reference/2.4/query-dsl-dis-max-query.html" target="_top">Dis Max Query</a></p><div xmlns="" class="pre_wrapper lang-java"><pre xmlns="http://www.w3.org/1999/xhtml" class="programlisting prettyprint lang-java">QueryBuilder qb = disMaxQuery()
    .add(termQuery("name", "kimchy"))        <a id="CO25-1"></a><i xmlns="" class="conum" data-value="1"></i>
    .add(termQuery("name", "elasticsearch")) <a id="CO25-2"></a><i xmlns="" class="conum" data-value="2"></i>
    .boost(1.2f)                             <a id="CO25-3"></a><i xmlns="" class="conum" data-value="3"></i>
    .tieBreaker(0.7f);                       <a id="CO25-4"></a><i xmlns="" class="conum" data-value="4"></i></pre></div><div class="calloutlist"><table border="0" summary="Callout list"><tr><td width="5%" valign="top" align="left"><p><a href="#CO25-1"><i xmlns="" class="conum" data-value="1"></i></a> </p></td><td valign="top" align="left"><p>add your queries</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO25-2"><i xmlns="" class="conum" data-value="2"></i></a> </p></td><td valign="top" align="left"><p>add your queries</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO25-3"><i xmlns="" class="conum" data-value="3"></i></a> </p></td><td valign="top" align="left"><p>boost factor</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO25-4"><i xmlns="" class="conum" data-value="4"></i></a> </p></td><td valign="top" align="left"><p>tie breaker</p></td></tr></table></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="java-query-dsl-function-score-query"></a>Function Score Query<a xmlns="" href="https://github.com/elastic/elasticsearch/edit/2.4/docs/java-api/query-dsl/function-score-query.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p>See <a class="ulink" href="http://www.elastic.co/guide/en/elasticsearch/reference/2.4/query-dsl-function-score-query.html" target="_top">Function Score Query</a>.</p><p>To use <code class="literal">ScoreFunctionBuilders</code> just import them in your class:</p><div xmlns="" class="pre_wrapper lang-java"><pre xmlns="http://www.w3.org/1999/xhtml" class="programlisting prettyprint lang-java">import static org.elasticsearch.index.query.functionscore.ScoreFunctionBuilders.*;</pre></div><div xmlns="" class="pre_wrapper lang-java"><pre xmlns="http://www.w3.org/1999/xhtml" class="programlisting prettyprint lang-java">QueryBuilder qb = functionScoreQuery()
    .add(
        matchQuery("name", "kimchy"),             <a id="CO26-1"></a><i xmlns="" class="conum" data-value="1"></i>
        randomFunction("ABCDEF")                  <a id="CO26-2"></a><i xmlns="" class="conum" data-value="2"></i>
    )
    .add(
        exponentialDecayFunction("age", 0L, 1L)   <a id="CO26-3"></a><i xmlns="" class="conum" data-value="3"></i>
    );</pre></div><div class="calloutlist"><table border="0" summary="Callout list"><tr><td width="5%" valign="top" align="left"><p><a href="#CO26-1"><i xmlns="" class="conum" data-value="1"></i></a> </p></td><td valign="top" align="left"><p>Add a first function based on a query</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO26-2"><i xmlns="" class="conum" data-value="2"></i></a> </p></td><td valign="top" align="left"><p>And randomize the score based on a given seed</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO26-3"><i xmlns="" class="conum" data-value="3"></i></a> </p></td><td valign="top" align="left"><p>Add another function based on the age field</p></td></tr></table></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="java-query-dsl-boosting-query"></a>Boosting Query<a xmlns="" href="https://github.com/elastic/elasticsearch/edit/2.4/docs/java-api/query-dsl/boosting-query.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p>See <a class="ulink" href="http://www.elastic.co/guide/en/elasticsearch/reference/2.4/query-dsl-boosting-query.html" target="_top">Boosting Query</a></p><div xmlns="" class="pre_wrapper lang-java"><pre xmlns="http://www.w3.org/1999/xhtml" class="programlisting prettyprint lang-java">QueryBuilder qb = boostingQuery()
    .positive(termQuery("name","kimchy"))   <a id="CO27-1"></a><i xmlns="" class="conum" data-value="1"></i>
    .negative(termQuery("name","dadoonet")) <a id="CO27-2"></a><i xmlns="" class="conum" data-value="2"></i>
    .negativeBoost(0.2f);                   <a id="CO27-3"></a><i xmlns="" class="conum" data-value="3"></i></pre></div><div class="calloutlist"><table border="0" summary="Callout list"><tr><td width="5%" valign="top" align="left"><p><a href="#CO27-1"><i xmlns="" class="conum" data-value="1"></i></a> </p></td><td valign="top" align="left"><p>query that will promote documents</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO27-2"><i xmlns="" class="conum" data-value="2"></i></a> </p></td><td valign="top" align="left"><p>query that will demote documents</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO27-3"><i xmlns="" class="conum" data-value="3"></i></a> </p></td><td valign="top" align="left"><p>negative boost</p></td></tr></table></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="java-query-dsl-indices-query"></a>Indices Query<a xmlns="" href="https://github.com/elastic/elasticsearch/edit/2.4/docs/java-api/query-dsl/indices-query.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p>See <a class="ulink" href="http://www.elastic.co/guide/en/elasticsearch/reference/2.4/query-dsl-indices-query.html" target="_top">Indices Query</a></p><div xmlns="" class="pre_wrapper lang-java"><pre xmlns="http://www.w3.org/1999/xhtml" class="programlisting prettyprint lang-java">// Using another query when no match for the main one
QueryBuilder qb = indicesQuery(
        termQuery("tag", "wow"),             <a id="CO28-1"></a><i xmlns="" class="conum" data-value="1"></i>
        "index1", "index2"                   <a id="CO28-2"></a><i xmlns="" class="conum" data-value="2"></i>
    ).noMatchQuery(termQuery("tag", "kow")); <a id="CO28-3"></a><i xmlns="" class="conum" data-value="3"></i></pre></div><div class="calloutlist"><table border="0" summary="Callout list"><tr><td width="5%" valign="top" align="left"><p><a href="#CO28-1"><i xmlns="" class="conum" data-value="1"></i></a> </p></td><td valign="top" align="left"><p>query to be executed on selected indices</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO28-2"><i xmlns="" class="conum" data-value="2"></i></a> </p></td><td valign="top" align="left"><p>selected indices</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO28-3"><i xmlns="" class="conum" data-value="3"></i></a> </p></td><td valign="top" align="left"><p>query to be executed on non matching indices</p></td></tr></table></div><div xmlns="" class="pre_wrapper lang-java"><pre xmlns="http://www.w3.org/1999/xhtml" class="programlisting prettyprint lang-java">// Using all (match all) or none (match no documents)
QueryBuilder qb = indicesQuery(
        termQuery("tag", "wow"),            <a id="CO29-1"></a><i xmlns="" class="conum" data-value="1"></i>
        "index1", "index2"                  <a id="CO29-2"></a><i xmlns="" class="conum" data-value="2"></i>
    ).noMatchQuery("all");                  <a id="CO29-3"></a><i xmlns="" class="conum" data-value="3"></i></pre></div><div class="calloutlist"><table border="0" summary="Callout list"><tr><td width="5%" valign="top" align="left"><p><a href="#CO29-1"><i xmlns="" class="conum" data-value="1"></i></a> </p></td><td valign="top" align="left"><p>query to be executed on selected indices</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO29-2"><i xmlns="" class="conum" data-value="2"></i></a> </p></td><td valign="top" align="left"><p>selected indices</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO29-3"><i xmlns="" class="conum" data-value="3"></i></a> </p></td><td valign="top" align="left"><p><code class="literal">none</code> (to match no documents), and <code class="literal">all</code> (to match all documents). Defaults to <code class="literal">all</code>.</p></td></tr></table></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="java-query-dsl-and-query"></a>And Query<a xmlns="" href="https://github.com/elastic/elasticsearch/edit/2.4/docs/java-api/query-dsl/and-query.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><div xmlns="" class="warning admon"><div class="icon"><img alt="Warning" src="images/icons/warning.png" /></div><div class="admon_content"><h3>Deprecated in 2.0.0. </h3><p xmlns="http://www.w3.org/1999/xhtml">Use the <code class="literal">bool</code> query instead</p></div></div><p>See <a class="ulink" href="http://www.elastic.co/guide/en/elasticsearch/reference/2.4/query-dsl-and-query.html" target="_top">And Query</a></p><div xmlns="" class="pre_wrapper lang-java"><pre xmlns="http://www.w3.org/1999/xhtml" class="programlisting prettyprint lang-java">QueryBuilder query = andQuery(
    rangeQuery("postDate").from("2010-03-01").to("2010-04-01"),    <a id="CO30-1"></a><i xmlns="" class="conum" data-value="1"></i>
    prefixQuery("name.second", "ba"));                             <a id="CO30-2"></a><i xmlns="" class="conum" data-value="2"></i></pre></div><div class="calloutlist"><table border="0" summary="Callout list"><tr><td width="5%" valign="top" align="left"><p><a href="#CO30-1"><i xmlns="" class="conum" data-value="1"></i></a> <a href="#CO30-2"><i xmlns="" class="conum" data-value="2"></i></a> </p></td><td valign="top" align="left"><p>queries</p></td></tr></table></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="java-query-dsl-not-query"></a>Not Query<a xmlns="" href="https://github.com/elastic/elasticsearch/edit/2.4/docs/java-api/query-dsl/not-query.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><div xmlns="" class="warning admon"><div class="icon"><img alt="Warning" src="images/icons/warning.png" /></div><div class="admon_content"><h3>Deprecated in 2.1.0. </h3><p xmlns="http://www.w3.org/1999/xhtml">Use <code class="literal">boolQuery()</code> with added <code class="literal">mustNot()</code> clause instead</p></div></div><p>See <a class="ulink" href="http://www.elastic.co/guide/en/elasticsearch/reference/2.4/query-dsl-not-query.html" target="_top">Not Query</a></p><div xmlns="" class="pre_wrapper lang-java"><pre xmlns="http://www.w3.org/1999/xhtml" class="programlisting prettyprint lang-java">QueryBuilder qb = notQuery(
    rangeQuery("price").from("1").to("2")  <a id="CO31-1"></a><i xmlns="" class="conum" data-value="1"></i>
);</pre></div><div class="calloutlist"><table border="0" summary="Callout list"><tr><td width="5%" valign="top" align="left"><p><a href="#CO31-1"><i xmlns="" class="conum" data-value="1"></i></a> </p></td><td valign="top" align="left"><p>query</p></td></tr></table></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="java-query-dsl-or-query"></a>Or Query<a xmlns="" href="https://github.com/elastic/elasticsearch/edit/2.4/docs/java-api/query-dsl/or-query.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><div xmlns="" class="warning admon"><div class="icon"><img alt="Warning" src="images/icons/warning.png" /></div><div class="admon_content"><h3>Deprecated in 2.0.0. </h3><p xmlns="http://www.w3.org/1999/xhtml">Use the <code class="literal">bool</code> query instead</p></div></div><p>See <a class="ulink" href="http://www.elastic.co/guide/en/elasticsearch/reference/2.4/query-dsl-or-query.html" target="_top">Or Query</a></p><div xmlns="" class="pre_wrapper lang-java"><pre xmlns="http://www.w3.org/1999/xhtml" class="programlisting prettyprint lang-java">QueryBuilder qb = orQuery(
    rangeQuery("price").from(1).to(2),  <a id="CO32-1"></a><i xmlns="" class="conum" data-value="1"></i>
    matchQuery("name", "joe")           <a id="CO32-2"></a><i xmlns="" class="conum" data-value="2"></i>
);</pre></div><div class="calloutlist"><table border="0" summary="Callout list"><tr><td width="5%" valign="top" align="left"><p><a href="#CO32-1"><i xmlns="" class="conum" data-value="1"></i></a> <a href="#CO32-2"><i xmlns="" class="conum" data-value="2"></i></a> </p></td><td valign="top" align="left"><p>queries</p></td></tr></table></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="java-query-dsl-filtered-query"></a>Filtered Query<a xmlns="" href="https://github.com/elastic/elasticsearch/edit/2.4/docs/java-api/query-dsl/filtered-query.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><div xmlns="" class="warning admon"><div class="icon"><img alt="Warning" src="images/icons/warning.png" /></div><div class="admon_content"><h3>Deprecated in 2.0.0. </h3><p xmlns="http://www.w3.org/1999/xhtml">Use the <code class="literal">bool</code> query instead with a <code class="literal">must</code> clause for the query and a <code class="literal">filter</code> clause for the filter</p></div></div><p>See <a class="ulink" href="http://www.elastic.co/guide/en/elasticsearch/reference/2.4/query-dsl-filtered-query.html" target="_top">Filtered Query</a>.</p><div xmlns="" class="pre_wrapper lang-java"><pre xmlns="http://www.w3.org/1999/xhtml" class="programlisting prettyprint lang-java">QueryBuilder qb = filteredQuery(
        matchQuery("name", "kimchy"),                       <a id="CO33-1"></a><i xmlns="" class="conum" data-value="1"></i>
        rangeQuery("dateOfBirth").from("1900").to("2100")   <a id="CO33-2"></a><i xmlns="" class="conum" data-value="2"></i>
);</pre></div><div class="calloutlist"><table border="0" summary="Callout list"><tr><td width="5%" valign="top" align="left"><p><a href="#CO33-1"><i xmlns="" class="conum" data-value="1"></i></a> </p></td><td valign="top" align="left"><p>query which will be used for scoring</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO33-2"><i xmlns="" class="conum" data-value="2"></i></a> </p></td><td valign="top" align="left"><p>query which will only be used for filtering the result set</p></td></tr></table></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="java-query-dsl-limit-query"></a>Limit Query<a xmlns="" href="https://github.com/elastic/elasticsearch/edit/2.4/docs/java-api/query-dsl/limit-query.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p>See <a class="ulink" href="http://www.elastic.co/guide/en/elasticsearch/reference/2.4/query-dsl-limit-query.html" target="_top">Limit Query</a></p><div xmlns="" class="pre_wrapper lang-java"><pre xmlns="http://www.w3.org/1999/xhtml" class="programlisting prettyprint lang-java">QueryBuilder qb = limitQuery(100);   <a id="CO34-1"></a><i xmlns="" class="conum" data-value="1"></i></pre></div><div class="calloutlist"><table border="0" summary="Callout list"><tr><td width="5%" valign="top" align="left"><p><a href="#CO34-1"><i xmlns="" class="conum" data-value="1"></i></a> </p></td><td valign="top" align="left"><p>number of documents per shard</p></td></tr></table></div></div></div><div xmlns="" class="navfooter"><span class="prev"><a href="java-term-level-queries.html">
              « 
              Term level queries</a>
           
        </span><span class="next">
           
          <a href="java-joining-queries.html">Joining queries
               »
            </a></span></div></body></html>