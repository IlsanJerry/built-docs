<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Aliases API | Elasticsearch Guide [7.x] | Elastic</title>
<link rel="home" href="index.html" title="Elasticsearch Guide [7.x]"/>
<link rel="up" href="indices.html" title="Index APIs"/>
<link rel="prev" href="indices-alias-exists.html" title="Alias exists API"/>
<link rel="next" href="indices-analyze.html" title="Analyze API"/>
<meta name="DC.type" content="Learn/Docs/Elasticsearch/Reference/7.x"/>
<meta name="DC.subject" content="Elasticsearch"/>
<meta name="DC.identifier" content="7.x"/>
</head>
<body><div class="page_header">
You are looking at preliminary documentation for a future release.
Not what you want? See the
<a href="../current/index.html">current release documentation</a>.
</div>
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="index.html">Elasticsearch Guide [7.x]</a></span>
»
<span class="breadcrumb-link"><a href="rest-apis.html">REST APIs</a></span>
»
<span class="breadcrumb-link"><a href="indices.html">Index APIs</a></span>
»
<span class="breadcrumb-node">Aliases API</span>
</div>
<div class="navheader">
<span class="prev">
<a href="indices-alias-exists.html">« Alias exists API</a>
</span>
<span class="next">
<a href="indices-analyze.html">Analyze API »</a>
</span>
</div>
<div class="section">
<div class="titlepage"><div><div>
<h2 class="title"><a id="indices-aliases"></a>Aliases API<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.x/docs/reference/indices/aliases.asciidoc">edit</a></h2>
</div></div></div>

<p>Performs one or more <a class="xref" href="alias.html" title="Aliases">alias</a> actions in a single atomic operation.</p>
<div class="pre_wrapper lang-console">
<pre class="programlisting prettyprint lang-console">POST /_aliases
{
  "actions" : [
    { "add" : { "index" : "my-index-000001", "alias" : "alias1" } }
  ]
}</pre>
</div>
<div class="console_widget" data-snippet="snippets/1961.console"></div>
<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="indices-aliases-api-request"></a>Request<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.x/docs/reference/indices/aliases.asciidoc">edit</a></h3>
</div></div></div>
<p><code class="literal">POST /_aliases</code></p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="indices-aliases-api-prereqs"></a>Prerequisites<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.x/docs/reference/indices/aliases.asciidoc">edit</a></h3>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p>If the Elasticsearch security features are enabled, you must have the following
<a class="xref" href="security-privileges.html#privileges-list-indices" title="Indices privileges">index privileges</a>:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
To use the <code class="literal">add</code> or <code class="literal">remove</code> action, you must have the <code class="literal">manage</code> index
privilege for both the index and index alias.
</li>
<li class="listitem">
To use the <code class="literal">remove_index</code> action, you must have the <code class="literal">manage</code> index privilege
for the index.
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="indices-aliases-api-desc"></a>Description<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.x/docs/reference/indices/aliases.asciidoc">edit</a></h3>
</div></div></div>
<p>APIs in Elasticsearch accept an index name when working against a
specific index, and several indices when applicable. The index aliases
API allows aliasing an index with a name, with all APIs automatically
converting the alias name to the actual index name. An alias can also be
mapped to more than one index, and when specifying it, the alias will
automatically expand to the aliased indices. An alias can also be
associated with a filter that will automatically be applied when
searching, and routing values. An alias cannot have the same name as an index.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="indices-aliases-api-query-params"></a>Query parameters<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.x/docs/reference/indices/aliases.asciidoc">edit</a></h3>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">master_timeout</code>
</span>
</dt>
<dd>
(Optional, <a class="xref" href="common-options.html#time-units" title="Time units">time units</a>)
Period to wait for a connection to the master node. If no response is received
before the timeout expires, the request fails and returns an error. Defaults to
<code class="literal">30s</code>.
</dd>
<dt>
<span class="term">
<code class="literal">timeout</code>
</span>
</dt>
<dd>
(Optional, <a class="xref" href="common-options.html#time-units" title="Time units">time units</a>)
Period to wait for a response. If no response is received before the timeout
expires, the request fails and returns an error. Defaults to <code class="literal">30s</code>.
</dd>
</dl>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="indices-aliases-api-request-body"></a>Request body<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.x/docs/reference/indices/aliases.asciidoc">edit</a></h3>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">actions</code>
</span>
</dt>
<dd>
<p>(Required, array of actions)
Set of actions to perform.
Valid actions include:</p>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">add</code>
</span>
</dt>
<dd>
Adds an alias to an index.
</dd>
<dt>
<span class="term">
<code class="literal">remove</code>
</span>
</dt>
<dd>
Removes an alias from an index.
</dd>
<dt>
<span class="term">
<code class="literal">remove_index</code>
</span>
</dt>
<dd>
Deletes a concrete index, similar to the <a class="xref" href="indices-delete-index.html" title="Delete index API">delete index
API</a>. Attempts to remove an index alias will fail.
</dd>
</dl>
</div>
<p>You can perform these actions on alias objects.
Valid parameters for alias objects include:</p>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">index</code>
</span>
</dt>
<dd>
<p>
(String)
Wildcard expression of index names
used to perform the action.
</p>
<p>If the <code class="literal">indices</code> parameter is not specified,
this parameter is required.</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>You cannot add <a class="xref" href="data-streams.html" title="Data streams">data streams</a> to an index alias.</p>
</div>
</div>
</dd>
<dt>
<span class="term">
<code class="literal">indices</code>
</span>
</dt>
<dd>
<p>
(Array)
Array of index names
used to perform the action.
</p>
<p>If the <code class="literal">index</code> parameter is not specified,
this parameter is required.</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>You cannot add <a class="xref" href="data-streams.html" title="Data streams">data streams</a> to an index alias.</p>
</div>
</div>
</dd>
<dt>
<span class="term">
<code class="literal">alias</code>
</span>
</dt>
<dd>
<p>
(String)
Comma-separated list or wildcard expression of index alias names to add, remove,
or delete. Supports <a class="xref" href="date-math-index-names.html" title="Date math support in index and index alias names">date math</a>.
</p>
<p>If the <code class="literal">aliases</code> parameter is not specified,
this parameter is required for the <code class="literal">add</code> or <code class="literal">remove</code> action.</p>
</dd>
<dt>
<span class="term">
<code class="literal">aliases</code>
</span>
</dt>
<dd>
<p>
(Array of strings)
Array of index alias names to add, remove, or delete. Supports
<a class="xref" href="date-math-index-names.html" title="Date math support in index and index alias names">date math</a>.
</p>
<p>If the <code class="literal">alias</code> parameter is not specified, this parameter is required for the
<code class="literal">add</code> or <code class="literal">remove</code> action.</p>
</dd>
<dt>
<span class="term">
<code class="literal">filter</code>
</span>
</dt>
<dd>
<p>
(Optional, query object)
<a class="xref" href="query-dsl-bool-query.html" title="Boolean query">Filter query</a>
used to limit the index alias.
</p>
<p>If specified,
the index alias only applies to documents returned by the filter.</p>
<p>See <a class="xref" href="alias.html#filter-alias" title="Filter an alias">Filter an alias</a> for an example.</p>
</dd>
<dt>
<span class="term">
<code class="literal">is_hidden</code>
</span>
</dt>
<dd>
(Optional, Boolean)
If <code class="literal">true</code>, the alias will be excluded from wildcard expressions by default,
unless overridden in the request using the <code class="literal">expand_wildcards</code> parameter,
similar to <a class="xref" href="index-modules.html#index-hidden">hidden indices</a>. This property must be set to the
same value on all indices that share an alias. Defaults to <code class="literal">false</code>.
</dd>
<dt>
<span class="term">
<code class="literal">must_exist</code>
</span>
</dt>
<dd>
(Optional, Boolean)
If <code class="literal">true</code>, the alias to remove must exist. Defaults to <code class="literal">false</code>.
</dd>
<dt>
<span class="term">
<code class="literal">is_write_index</code>
</span>
</dt>
<dd>
<p>
(Optional, Boolean)
If <code class="literal">true</code>, assigns the index as an alias&#8217;s write index.
Defaults to <code class="literal">false</code>.
</p>
<p>An alias can have one write index at a time.</p>
<p>See <a class="xref" href="alias.html#write-index" title="Write index">Write index</a> for an example.</p>
<div class="important admon">
<div class="icon"></div>
<div class="admon_content">
<p>Aliases that do not explicitly set <code class="literal">is_write_index: true</code> for an index, and
only reference one index, will have that referenced index behave as if it is the write index
until an additional index is referenced. At that point, there will be no write index and
writes will be rejected.</p>
</div>
</div>
</dd>
<dt>
<span class="term">
<code class="literal">routing</code>
</span>
</dt>
<dd>
<p>
(Optional, string)
Custom value used to route operations to a specific shard.
</p>
<p>See <a class="xref" href="alias.html#alias-routing" title="Routing">Routing</a> for an example.</p>
</dd>
<dt>
<span class="term">
<code class="literal">index_routing</code>
</span>
</dt>
<dd>
<p>
(Optional, string)
Custom <a class="xref" href="mapping-routing-field.html" title="_routing field">routing value</a> used
for the alias&#8217;s indexing operations.
</p>
<p>See <a class="xref" href="alias.html#alias-routing" title="Routing">Routing</a> for an example.</p>
</dd>
<dt>
<span class="term">
<code class="literal">search_routing</code>
</span>
</dt>
<dd>
<p>
(Optional, string)
Custom <a class="xref" href="mapping-routing-field.html" title="_routing field">routing value</a> used
for the alias&#8217;s search operations.
</p>
<p>See <a class="xref" href="alias.html#alias-routing" title="Routing">Routing</a> for an example.</p>
</dd>
</dl>
</div>
</dd>
</dl>
</div>
</div>

</div>
<div class="navfooter">
<span class="prev">
<a href="indices-alias-exists.html">« Alias exists API</a>
</span>
<span class="next">
<a href="indices-analyze.html">Analyze API »</a>
</span>
</div>
</div>
</body>
</html>
