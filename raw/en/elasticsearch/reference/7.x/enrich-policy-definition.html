<!DOCTYPE html>
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Enrich policy definition
        | Elasticsearch Reference [7.x]
      | Elastic
    </title><link rel="home" href="index.html" title="Elasticsearch Reference [7.x]" /><link rel="up" href="ingest-enriching-data.html" title="Enrich your data" /><link rel="prev" href="enrich-setup.html" title="Set up an enrich processor" /><link rel="next" href="geo-match-enrich-policy-type.html" title="Example: Enrich your data based on geolocation" /><meta name="DC.type" content="Learn/Docs/Elasticsearch/Reference/7.x" /><meta name="DC.subject" content="Elasticsearch" /><meta name="DC.identifier" content="7.x" /></head><body><div class="page_header">You are looking at preliminary documentation for a future release.
Not what you want? See the
<a href="../current/index.html">current release documentation</a>.
</div><div class="breadcrumbs"><span class="breadcrumb-link"><a href="index.html">Elasticsearch Reference
      [7.x]
    </a></span> » <span class="breadcrumb-link"><a href="ingest.html">Ingest node</a></span> » <span class="breadcrumb-link"><a href="ingest-enriching-data.html">Enrich your data</a></span> » <span class="breadcrumb-node">Enrich policy definition</span></div><div class="navheader"><span class="prev"><a href="enrich-setup.html">
              « 
              Set up an enrich processor</a>
           
        </span><span class="next">
           
          <a href="geo-match-enrich-policy-type.html">Example: Enrich your data based on geolocation
               »
            </a></span></div><div class="xpack section"><div class="titlepage"><div><div><h2 class="title"><a id="enrich-policy-definition"></a>Enrich policy definition<a href="https://github.com/elastic/elasticsearch/edit/7.x/docs/reference/ingest/enrich.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a><a class="xpack_tag" href="/subscriptions"></a></h2></div></div></div><p><a class="link" href="ingest-enriching-data.html#enrich-policy">Enrich policies</a> are defined as JSON objects like the
following:</p><div class="pre_wrapper lang-js"><pre class="programlisting prettyprint lang-js">{
    "&lt;enrich_policy_type&gt;": {
        "indices": ["..."],
        "match_field": "...",
        "enrich_fields": ["..."],
        "query": "..."
    }
  }
}</pre></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="enrich-policy-parms"></a>Parameters<a href="https://github.com/elastic/elasticsearch/edit/7.x/docs/reference/ingest/enrich.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="literal">&lt;enrich_policy_type&gt;</code></span></dt><dd><p class="simpara">(Required, enrich policy object)
The enrich policy type determines how enrich data is matched to incoming
documents.</p><p class="simpara">Supported enrich policy types include:</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><a class="link" href="geo-match-enrich-policy-type.html" title="Example: Enrich your data based on geolocation"><code class="literal">geo_match</code></a></span></dt><dd>Matches enrich data to incoming documents based on a geographic location using
a <a class="link" href="query-dsl-geo-shape-query.html" title="Geo-shape query"><code class="literal">geo_shape</code> query</a>. For an example, see
<a class="xref" href="geo-match-enrich-policy-type.html" title="Example: Enrich your data based on geolocation">Example: Enrich your data based on geolocation</a>.</dd><dt><span class="term"><a class="link" href="match-enrich-policy-type.html" title="Example: Enrich your data based on exact values"><code class="literal">match</code></a></span></dt><dd>Matches enrich data to incoming documents based on a precise value, such as an
email address or ID, using a <a class="link" href="query-dsl-term-query.html" title="Term query"><code class="literal">term</code> query</a>. For an
example, see <a class="xref" href="match-enrich-policy-type.html" title="Example: Enrich your data based on exact values">Example: Enrich your data based on exact values</a>.</dd></dl></div></dd><dt><span class="term"><code class="literal">indices</code></span></dt><dd><p class="simpara">(Required, String or array of strings)
Source indices used to create the enrich index.</p><p class="simpara">If multiple indices are provided, they must share a common <code class="literal">match_field</code>, which
the enrich processor can use to match incoming documents.</p></dd><dt><span class="term"><code class="literal">match_field</code></span></dt><dd>(Required, string)
Field in the source indices used to match incoming documents.</dd><dt><span class="term"><code class="literal">enrich_fields</code></span></dt><dd>(Required, Array of strings)
Fields to add to matching incoming documents. These fields must be present in
the source indices.</dd><dt><span class="term"><code class="literal">query</code></span></dt><dd>(Optional, string)
Query type used to filter documents in the enrich index for matching. Valid
value is <a class="link" href="query-dsl-match-all-query.html" title="Match all query"><code class="literal">match_all</code></a> (default).</dd></dl></div></div></div><div class="navfooter"><span class="prev"><a href="enrich-setup.html">
              « 
              Set up an enrich processor</a>
           
        </span><span class="next">
           
          <a href="geo-match-enrich-policy-type.html">Example: Enrich your data based on geolocation
               »
            </a></span></div></body></html>
