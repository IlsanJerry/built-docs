<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title xmlns="">Number of threads
        | Elasticsearch Reference [7.x]
      | Elastic
    </title><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Elasticsearch Reference [7.x]" /><link rel="up" href="system-config.html" title="Important System Configuration" /><link rel="prev" href="vm-max-map-count.html" title="Virtual memory" /><link rel="next" href="networkaddress-cache-ttl.html" title="DNS cache settings" /><meta xmlns="" name="description" content="Get started with the documentation for Elasticsearch, Kibana, Logstash, Beats, X-Pack, Elastic Cloud, Elasticsearch for Apache Hadoop, and our language clients." /><meta xmlns="" name="DC.type" content="Learn/Docs/Elasticsearch/Reference/7.x" /><meta xmlns="" name="DC.subject" content="Elasticsearch" /><meta xmlns="" name="DC.identifier" content="7.x" /></head><body><div xmlns="" class="page_header">You are looking at preliminary documentation for a future release.
Not what you want? See the
<a href="../current/index.html">current release documentation</a>.
</div><div xmlns="" class="breadcrumbs"><span class="breadcrumb-link"><a href="index.html">Elasticsearch Reference
      [7.x]
    </a></span> » <span class="breadcrumb-link"><a href="setup.html">Set up Elasticsearch</a></span> » <span class="breadcrumb-link"><a href="system-config.html">Important System Configuration</a></span> » <span class="breadcrumb-node">Number of threads</span></div><div xmlns="" class="navheader"><span class="prev"><a href="vm-max-map-count.html">
              « 
              Virtual memory</a>
           
        </span><span class="next">
           
          <a href="networkaddress-cache-ttl.html">DNS cache settings
               »
            </a></span></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="max-number-of-threads"></a>Number of threads<a xmlns="" href="https://github.com/elastic/elasticsearch/edit/7.x/docs/reference/setup/sysconfig/threads.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h2></div></div></div><p>Elasticsearch uses a number of thread pools for different types of operations.
It is important that it is able to create new threads whenever needed. Make
sure that the number of threads that the Elasticsearch user can create is at
least 4096.</p><p>This can be done by setting <a class="link" href="setting-system-settings.html#ulimit" title="ulimit"><code class="literal">ulimit -u 4096</code></a> as root before
starting Elasticsearch, or by setting <code class="literal">nproc</code> to <code class="literal">4096</code> in
<a class="link" href="setting-system-settings.html#limits.conf" title="/etc/security/limits.conf"><code class="literal">/etc/security/limits.conf</code></a>.</p><p>The package distributions when run as services under <code class="literal">systemd</code> will configure
the number of threads for the Elasticsearch process automatically. No
additional configuration is required.</p></div><div xmlns="" class="navfooter"><span class="prev"><a href="vm-max-map-count.html">
              « 
              Virtual memory</a>
           
        </span><span class="next">
           
          <a href="networkaddress-cache-ttl.html">DNS cache settings
               »
            </a></span></div></body></html>