<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title xmlns="">Indices Query
        | Elasticsearch Reference [2.2]
      | Elastic
    </title><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Elasticsearch Reference [2.2]" /><link rel="up" href="compound-queries.html" title="Compound queries" /><link rel="prev" href="query-dsl-boosting-query.html" title="Boosting Query" /><link rel="next" href="query-dsl-and-query.html" title="And Query" /><meta xmlns="" name="description" content="Get started with the documentation for Elasticsearch, Kibana, Logstash, Beats, X-Pack, Elastic Cloud, Elasticsearch for Apache Hadoop, and our language clients." /><meta xmlns="" name="DC.type" content="Learn/Docs/Elasticsearch/Reference/2.2" /><meta xmlns="" name="DC.subject" content="Elasticsearch" /><meta xmlns="" name="DC.identifier" content="2.2" /></head><body><div xmlns="" class="page_header">You are looking at documentation for an older release.
Not what you want? See the
<a href="../current/index.html">current release documentation</a>.
</div><div xmlns="" class="breadcrumbs"><span class="breadcrumb-link"><a href="index.html">Elasticsearch Reference
      [2.2]
    </a></span> » <span class="breadcrumb-link"><a href="query-dsl.html">Query DSL</a></span> » <span class="breadcrumb-link"><a href="compound-queries.html">Compound queries</a></span> » <span class="breadcrumb-node">Indices Query</span></div><div xmlns="" class="navheader"><span class="prev"><a href="query-dsl-boosting-query.html">
              « 
              Boosting Query</a>
           
        </span><span class="next">
           
          <a href="query-dsl-and-query.html">And Query
               »
            </a></span></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="query-dsl-indices-query"></a>Indices Query<a xmlns="" href="https://github.com/elastic/elasticsearch/edit/2.2/docs/reference/query-dsl/indices-query.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h2></div></div></div><p>The <code class="literal">indices</code> query is useful in cases where a search is executed across
multiple indices. It allows to specify a list of index names and an inner
query that is only executed for indices matching names on that list.
For other indices that are searched, but that don’t match entries
on the list, the alternative <code class="literal">no_match_query</code> is executed.</p><div xmlns="" class="pre_wrapper lang-js"><pre xmlns="http://www.w3.org/1999/xhtml" class="programlisting prettyprint lang-js">{
    "indices" : {
        "indices" : ["index1", "index2"],
        "query" : {
            "term" : { "tag" : "wow" }
        },
        "no_match_query" : {
            "term" : { "tag" : "kow" }
        }
    }
}</pre></div><p>You can use the <code class="literal">index</code> field to provide a single index.</p><p><code class="literal">no_match_query</code> can also have "string" value of <code class="literal">none</code> (to match no
documents), and <code class="literal">all</code> (to match all). Defaults to <code class="literal">all</code>.</p><p><code class="literal">query</code> is mandatory, as well as <code class="literal">indices</code> (or <code class="literal">index</code>).</p><div xmlns="" class="tip admon"><div class="icon"><img alt="Tip" src="images/icons/tip.png" /></div><div class="admon_content"><p xmlns="http://www.w3.org/1999/xhtml">The fields order is important: if the <code class="literal">indices</code> are provided before <code class="literal">query</code>
or <code class="literal">no_match_query</code>, the related queries get parsed only against the indices
that they are going to be executed on. This is useful to avoid parsing queries
when it is not necessary and prevent potential mapping errors.</p></div></div></div><div xmlns="" class="navfooter"><span class="prev"><a href="query-dsl-boosting-query.html">
              « 
              Boosting Query</a>
           
        </span><span class="next">
           
          <a href="query-dsl-and-query.html">And Query
               »
            </a></span></div></body></html>