<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title xmlns="">Removed features
        | Elasticsearch Reference [2.2]
      | Elastic
    </title><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Elasticsearch Reference [2.2]" /><link rel="up" href="breaking-changes-2.0.html" title="Breaking changes in 2.0" /><link rel="prev" href="breaking-changes-2.0.html" title="Breaking changes in 2.0" /><link rel="next" href="breaking_20_network_changes.html" title="Network changes" /><meta xmlns="" name="description" content="Get started with the documentation for Elasticsearch, Kibana, Logstash, Beats, X-Pack, Elastic Cloud, Elasticsearch for Apache Hadoop, and our language clients." /><meta xmlns="" name="DC.type" content="Learn/Docs/Elasticsearch/Reference/2.2" /><meta xmlns="" name="DC.subject" content="Elasticsearch" /><meta xmlns="" name="DC.identifier" content="2.2" /></head><body><div xmlns="" class="page_header">You are looking at documentation for an older release.
Not what you want? See the
<a href="../current/index.html">current release documentation</a>.
</div><div xmlns="" class="breadcrumbs"><span class="breadcrumb-link"><a href="index.html">Elasticsearch Reference
      [2.2]
    </a></span> » <span class="breadcrumb-link"><a href="breaking-changes.html">Breaking changes</a></span> » <span class="breadcrumb-link"><a href="breaking-changes-2.0.html">Breaking changes in 2.0</a></span> » <span class="breadcrumb-node">Removed features</span></div><div xmlns="" class="navheader"><span class="prev"><a href="breaking-changes-2.0.html">
              « 
              Breaking changes in 2.0</a>
           
        </span><span class="next">
           
          <a href="breaking_20_network_changes.html">Network changes
               »
            </a></span></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="breaking_20_removed_features"></a>Removed features<a xmlns="" href="https://github.com/elastic/elasticsearch/edit/2.2/docs/reference/migration/migrate_2_0/removals.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h2></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_rivers_have_been_removed"></a>Rivers have been removed<a xmlns="" href="https://github.com/elastic/elasticsearch/edit/2.2/docs/reference/migration/migrate_2_0/removals.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p>Elasticsearch does not support rivers anymore. While we had first planned to
keep them around to ease migration, keeping support for rivers proved to be
challenging as it conflicted with other important changes that we wanted to
bring to 2.0 like synchronous dynamic mappings updates, so we eventually
decided to remove them entirely. See
<a class="ulink" href="/blog/deprecating_rivers" target="_top">Deprecating Rivers</a> for more background about
why we took this decision.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_facets_have_been_removed"></a>Facets have been removed<a xmlns="" href="https://github.com/elastic/elasticsearch/edit/2.2/docs/reference/migration/migrate_2_0/removals.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p>Facets, deprecated since 1.0, have now been removed.  Instead, use the much
more powerful and flexible <a class="link" href="search-aggregations.html" title="Aggregations">aggregations</a> framework.
This also means that Kibana 3 will not work with Elasticsearch 2.0.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_mvel_has_been_removed"></a>MVEL has been removed<a xmlns="" href="https://github.com/elastic/elasticsearch/edit/2.2/docs/reference/migration/migrate_2_0/removals.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p>The MVEL scripting language has been removed.  The default scripting language
is now Groovy.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_delete_by_query_is_now_a_plugin"></a>Delete-by-query is now a plugin<a xmlns="" href="https://github.com/elastic/elasticsearch/edit/2.2/docs/reference/migration/migrate_2_0/removals.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p>The old delete-by-query functionality was fast but unsafe.  It could lead to
document differences between the primary and replica shards, and could even
produce out of memory exceptions and cause the cluster to crash.</p><p>This feature has been reimplemented using the <a class="link" href="search-request-scroll.html" title="Scroll">scroll</a> and
<a class="link" href="docs-bulk.html" title="Bulk API"><code class="literal">bulk</code></a> APIs, which may be slower for queries which match
large numbers of documents, but is safe.</p><p>Currently, a long running delete-by-query job cannot be cancelled, which is
one of the reasons that this functionality is only available as a plugin.  You
can install the plugin with:</p><div xmlns="" class="pre_wrapper lang-sh"><pre xmlns="http://www.w3.org/1999/xhtml" class="programlisting prettyprint lang-sh">./bin/plugin install delete-by-query</pre></div><p>See <a class="ulink" href="https://www.elastic.co/guide/en/elasticsearch/plugins/2.2/plugins-delete-by-query.html" target="_top">https://www.elastic.co/guide/en/elasticsearch/plugins/2.2/plugins-delete-by-query.html</a> for more information.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_multicast_discovery_is_now_a_plugin"></a>Multicast Discovery is now a plugin<a xmlns="" href="https://github.com/elastic/elasticsearch/edit/2.2/docs/reference/migration/migrate_2_0/removals.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p>Support for multicast is very patchy. Linux doesn’t allow multicast listening on localhost,
while OS/X sends multicast broadcasts across all interfaces regardless of the configured
bind address. On top of that, some networks have multicast disabled by default.</p><p>This feature has been moved to a plugin. The default discovery mechanism now uses
unicast, with a default setup which looks for the first 5 ports on localhost. If you
still need to use multicast discovery, you can install the plugin with:</p><div xmlns="" class="pre_wrapper lang-sh"><pre xmlns="http://www.w3.org/1999/xhtml" class="programlisting prettyprint lang-sh">./bin/plugin install discovery-multicast</pre></div><p>See <a class="ulink" href="https://www.elastic.co/guide/en/elasticsearch/plugins/2.2/discovery-multicast.html" target="_top">https://www.elastic.co/guide/en/elasticsearch/plugins/2.2/discovery-multicast.html</a> for more information.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_literal__shutdown_literal_api"></a><code class="literal">_shutdown</code> API<a xmlns="" href="https://github.com/elastic/elasticsearch/edit/2.2/docs/reference/migration/migrate_2_0/removals.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p>The <code class="literal">_shutdown</code> API has been removed without a replacement. Nodes should be
managed via the operating system and the provided start/stop scripts.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_literal_murmur3_literal_is_now_a_plugin"></a><code class="literal">murmur3</code> is now a plugin<a xmlns="" href="https://github.com/elastic/elasticsearch/edit/2.2/docs/reference/migration/migrate_2_0/removals.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p>The <code class="literal">murmur3</code> field, which indexes hashes of the field values, has been moved
out of core and is available as a plugin. It can be installed as:</p><div xmlns="" class="pre_wrapper lang-sh"><pre xmlns="http://www.w3.org/1999/xhtml" class="programlisting prettyprint lang-sh">./bin/plugin install mapper-murmur3</pre></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_literal__size_literal_is_now_a_plugin"></a><code class="literal">_size</code> is now a plugin<a xmlns="" href="https://github.com/elastic/elasticsearch/edit/2.2/docs/reference/migration/migrate_2_0/removals.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p>The <code class="literal">_size</code> meta-data field, which indexes the size in bytes of the original
JSON document, has been moved out of core and is available as a plugin.  It
can be installed as:</p><div xmlns="" class="pre_wrapper lang-sh"><pre xmlns="http://www.w3.org/1999/xhtml" class="programlisting prettyprint lang-sh">./bin/plugin install mapper-size</pre></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_thrift_and_memcached_transport"></a>Thrift and memcached transport<a xmlns="" href="https://github.com/elastic/elasticsearch/edit/2.2/docs/reference/migration/migrate_2_0/removals.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p>The thrift and memcached transport plugins are no longer supported.  Instead, use
either the HTTP transport (enabled by default) or the node or transport Java client.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_bulk_udp"></a>Bulk UDP<a xmlns="" href="https://github.com/elastic/elasticsearch/edit/2.2/docs/reference/migration/migrate_2_0/removals.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p>The bulk UDP API has been removed.  Instead, use the standard
<a class="link" href="docs-bulk.html" title="Bulk API"><code class="literal">bulk</code></a> API, or use UDP to send documents to Logstash first.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_mergescheduler_pluggability"></a>MergeScheduler pluggability<a xmlns="" href="https://github.com/elastic/elasticsearch/edit/2.2/docs/reference/migration/migrate_2_0/removals.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p>The merge scheduler is no longer pluggable.</p></div></div><div xmlns="" class="navfooter"><span class="prev"><a href="breaking-changes-2.0.html">
              « 
              Breaking changes in 2.0</a>
           
        </span><span class="next">
           
          <a href="breaking_20_network_changes.html">Network changes
               »
            </a></span></div></body></html>