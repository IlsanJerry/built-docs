<!DOCTYPE html>
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>6.1.2 Release Notes
        | Elasticsearch Reference [6.1]
      | Elastic
    </title><link rel="home" href="index.html" title="Elasticsearch Reference [6.1]" /><link rel="up" href="es-release-notes.html" title="Release Notes" /><link rel="prev" href="release-notes-6.1.3.html" title="6.1.3 Release Notes" /><link rel="next" href="release-notes-6.1.1.html" title="6.1.1 Release Notes" /><meta name="DC.type" content="Learn/Docs/Elasticsearch/Reference/6.1" /><meta name="DC.subject" content="Elasticsearch" /><meta name="DC.identifier" content="6.1" /><meta name="robots" content="noindex,nofollow" /></head><body><div class="page_header">You are looking at documentation for an older release.
Not what you want? See the
<a href="../current/index.html">current release documentation</a>.
</div><div class="breadcrumbs"><span class="breadcrumb-link"><a href="index.html">Elasticsearch Reference
      [6.1]
    </a></span> » <span class="breadcrumb-link"><a href="es-release-notes.html">Release Notes</a></span> » <span class="breadcrumb-node">6.1.2 Release Notes</span></div><div class="navheader"><span class="prev"><a href="release-notes-6.1.3.html">
              « 
              6.1.3 Release Notes</a>
           
        </span><span class="next">
           
          <a href="release-notes-6.1.1.html">6.1.1 Release Notes
               »
            </a></span></div><div class="chapter"><div class="titlepage"><div><div><h2 class="title"><a id="release-notes-6.1.2"></a>6.1.2 Release Notes<a href="https://github.com/elastic/elasticsearch/edit/6.1/docs/reference/release-notes/6.1.2.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h2></div></div></div><p>Also see <a class="xref" href="breaking-changes-6.1.html" title="Breaking changes in 6.1"><em>Breaking changes in 6.1</em></a>.</p><h3><a id="enhancement-6.1.2"></a>Enhancements<a href="https://github.com/elastic/elasticsearch/edit/6.1/docs/reference/release-notes/6.1.2.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3><div class="variablelist"><dl class="variablelist"><dt><span class="term">Internal</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">Make AbstractQueryBuilder.declareStandardFields to be protected (#27865) <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/27894" target="_top">#27894</a> (issue: <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/27865" target="_top">#27865</a>)</li></ul></div></dd></dl></div><h3><a id="bug-6.1.2"></a>Bug fixes<a href="https://github.com/elastic/elasticsearch/edit/6.1/docs/reference/release-notes/6.1.2.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3><div class="variablelist"><dl class="variablelist"><dt><span class="term">Aggregations</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">Fix incorrect results for aggregations nested under a nested aggregation <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/27946" target="_top">#27946</a> (issue: <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/27912" target="_top">#27912</a>)</li><li class="listitem">Fix composite aggregation when after term is missing in the shard <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/27936" target="_top">#27936</a></li><li class="listitem">Fix preserving FiltersAggregationBuilder#keyed field on rewrite <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/27900" target="_top">#27900</a> (issue: <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/27841" target="_top">#27841</a>)</li></ul></div></dd><dt><span class="term">Engine</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">Use <code class="literal">_refresh</code> to shrink the version map on inactivity <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/27918" target="_top">#27918</a> (issue: <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/27852" target="_top">#27852</a>)</li><li class="listitem">Allow resize version map under lock even if there are pending operations <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/27870" target="_top">#27870</a> (issue: <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/27852" target="_top">#27852</a>)</li></ul></div></dd><dt><span class="term">Network</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">Only bind loopback addresses when binding to local <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/28029" target="_top">#28029</a></li></ul></div></dd><dt><span class="term">Recovery</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">Allow shrinking of indices from a previous major <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/28076" target="_top">#28076</a> (issue: <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/28061" target="_top">#28061</a>)</li></ul></div></dd><dt><span class="term">Search</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">Use the underlying connection version for CCS connections  <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/28093" target="_top">#28093</a></li><li class="listitem">Carry forward weights, etc on rescore rewrite <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/27981" target="_top">#27981</a> (issue: <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/27979" target="_top">#27979</a>)</li></ul></div></dd><dt><span class="term">Snapshot/Restore</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">Fail restore when the shard allocations max retries count is reached <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/27493" target="_top">#27493</a> (issue: <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/26865" target="_top">#26865</a>)</li></ul></div></dd><dt><span class="term">Translog</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">Only sync translog when global checkpoint increased <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/27973" target="_top">#27973</a> (issues: <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/27837" target="_top">#27837</a>, <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/27970" target="_top">#27970</a>)</li></ul></div></dd></dl></div></div><div class="navfooter"><span class="prev"><a href="release-notes-6.1.3.html">
              « 
              6.1.3 Release Notes</a>
           
        </span><span class="next">
           
          <a href="release-notes-6.1.1.html">6.1.1 Release Notes
               »
            </a></span></div></body></html>
