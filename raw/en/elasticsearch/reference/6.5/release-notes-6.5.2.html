<!DOCTYPE html>
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Elasticsearch version 6.5.2
        | Elasticsearch Reference [6.5]
      | Elastic
    </title><link rel="home" href="index.html" title="Elasticsearch Reference [6.5]" /><link rel="up" href="es-release-notes.html" title="Release Notes" /><link rel="prev" href="release-notes-6.5.3.html" title="Elasticsearch version 6.5.3" /><link rel="next" href="release-notes-6.5.1.html" title="Elasticsearch version 6.5.1" /><meta name="DC.type" content="Learn/Docs/Elasticsearch/Reference/6.5" /><meta name="DC.subject" content="Elasticsearch" /><meta name="DC.identifier" content="6.5" /><meta name="robots" content="noindex,nofollow" /></head><body><div class="page_header">You are looking at documentation for an older release.
Not what you want? See the
<a href="../current/index.html">current release documentation</a>.
</div><div class="breadcrumbs"><span class="breadcrumb-link"><a href="index.html">Elasticsearch Reference
      [6.5]
    </a></span> » <span class="breadcrumb-link"><a href="es-release-notes.html">Release Notes</a></span> » <span class="breadcrumb-node">Elasticsearch version 6.5.2</span></div><div class="navheader"><span class="prev"><a href="release-notes-6.5.3.html">
              « 
              Elasticsearch version 6.5.3</a>
           
        </span><span class="next">
           
          <a href="release-notes-6.5.1.html">Elasticsearch version 6.5.1
               »
            </a></span></div><div class="chapter"><div class="titlepage"><div><div><h2 class="title"><a id="release-notes-6.5.2"></a>Elasticsearch version 6.5.2<a href="https://github.com/elastic/elasticsearch/edit/6.5/docs/reference/release-notes/6.5.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h2></div></div></div><p>Also see <a class="link" href="breaking-changes-6.5.html" title="Breaking changes in 6.5">Breaking changes in 6.5</a>.</p><h3><a id="enhancement-6.5.2"></a>Enhancements<a href="https://github.com/elastic/elasticsearch/edit/6.5/docs/reference/release-notes/6.5.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3><div class="variablelist"><dl class="variablelist"><dt><span class="term">Aggregations</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">Handles exists query in composite aggs <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/35758" target="_top">#35758</a></li></ul></div></dd><dt><span class="term">SQL</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">Improve validation of unsupported fields <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/35675" target="_top">#35675</a> (issue: <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/35673" target="_top">#35673</a>)</li></ul></div></dd></dl></div><h3><a id="bug-6.5.2"></a>Bug fixes<a href="https://github.com/elastic/elasticsearch/edit/6.5/docs/reference/release-notes/6.5.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3><div class="variablelist"><dl class="variablelist"><dt><span class="term">CCR</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">Only auto follow indices when all primary shards have started <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/35814" target="_top">#35814</a> (issue: <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/35480" target="_top">#35480</a>)</li><li class="listitem">Avoid NPE in follower stats when no tasks metadata <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/35802" target="_top">#35802</a></li></ul></div></dd><dt><span class="term">Features/Watcher</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">Only trigger a watch if new or schedule/changed <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/35908" target="_top">#35908</a></li></ul></div></dd><dt><span class="term">Infra/Build</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">Fix jdbc jar pom to not include deps <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/36036" target="_top">#36036</a> (issue: <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/32014" target="_top">#32014</a>)</li></ul></div></dd><dt><span class="term">Infra/Packaging</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">Add missing entries to conffiles  <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/35810" target="_top">#35810</a> (issue: <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/35691" target="_top">#35691</a>)</li></ul></div></dd><dt><span class="term">Infra/Scripting</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">Actually add joda time back to whitelist <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/35965" target="_top">#35965</a></li><li class="listitem">Add back joda to whitelist <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/35915" target="_top">#35915</a> (issue: <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/35913" target="_top">#35913</a>)</li></ul></div></dd><dt><span class="term">Machine Learning</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">Adjust file structure finder parser config <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/35935" target="_top">#35935</a></li><li class="listitem">Prevent potential NPE when reading the model memory limit <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/35827" target="_top">#35827</a></li></ul></div></dd><dt><span class="term">SQL</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">Fix issue with wrong data type for scripted Grouping keys <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/35969" target="_top">#35969</a> (issue: <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/35662" target="_top">#35662</a>)</li><li class="listitem">Fix translation of math functions to painless <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/35910" target="_top">#35910</a> (issue: <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/35654" target="_top">#35654</a>)</li><li class="listitem">Fix jdbc jar to include deps <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/35602" target="_top">#35602</a></li></ul></div></dd><dt><span class="term">Search</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">Fix analyzed prefix query in query_string <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/35756" target="_top">#35756</a> (issue: <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/31702" target="_top">#31702</a>)</li><li class="listitem">Add a More Like This query routing requirement check (#29678) <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/33974" target="_top">#33974</a></li></ul></div></dd><dt><span class="term">Snapshot/Restore</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">Revert "Use more precise does S3 bucket exist method" <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/35732" target="_top">#35732</a> (issues: <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/34123" target="_top">#34123</a>, <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/35703" target="_top">#35703</a>, <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/35731" target="_top">#35731</a>)</li></ul></div></dd></dl></div><h3><a id="regression-6.5.2"></a>Regressions<a href="https://github.com/elastic/elasticsearch/edit/6.5/docs/reference/release-notes/6.5.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3><div class="variablelist"><dl class="variablelist"><dt><span class="term">Infra/Scripting</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">Use Number as a return value for BucketAggregationScript <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/35653" target="_top">#35653</a> (issue: <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/35351" target="_top">#35351</a>)</li></ul></div></dd></dl></div></div><div class="navfooter"><span class="prev"><a href="release-notes-6.5.3.html">
              « 
              Elasticsearch version 6.5.3</a>
           
        </span><span class="next">
           
          <a href="release-notes-6.5.1.html">Elasticsearch version 6.5.1
               »
            </a></span></div></body></html>
