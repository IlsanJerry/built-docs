<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title xmlns="">Get follower stats API
        | Elasticsearch Reference [6.5]
      | Elastic
    </title><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Elasticsearch Reference [6.5]" /><link rel="up" href="ccr-apis.html" title="Cross-cluster replication APIs" /><link rel="prev" href="ccr-post-unfollow.html" title="Unfollow API" /><link rel="next" href="ccr-put-auto-follow-pattern.html" title="Create auto-follow pattern API" /><meta xmlns="" name="description" content="Get started with the documentation for Elasticsearch, Kibana, Logstash, Beats, X-Pack, Elastic Cloud, Elasticsearch for Apache Hadoop, and our language clients." /><meta xmlns="" name="DC.type" content="Learn/Docs/Elasticsearch/Reference/6.5" /><meta xmlns="" name="DC.subject" content="Elasticsearch" /><meta xmlns="" name="DC.identifier" content="6.5" /></head><body><div xmlns="" class="page_header">You are looking at documentation for an older release.
Not what you want? See the
<a href="../current/index.html">current release documentation</a>.
</div><div xmlns="" class="breadcrumbs"><span class="breadcrumb-link"><a href="index.html">Elasticsearch Reference
      [6.5]
    </a></span> » <span class="breadcrumb-link"><a href="xpack-api.html">X-Pack APIs</a></span> » <span class="breadcrumb-link"><a href="ccr-apis.html">Cross-cluster replication APIs</a></span> » <span class="breadcrumb-node">Get follower stats API</span></div><div xmlns="" class="navheader"><span class="prev"><a href="ccr-post-unfollow.html">
              « 
              Unfollow API</a>
           
        </span><span class="next">
           
          <a href="ccr-put-auto-follow-pattern.html">Create auto-follow pattern API
               »
            </a></span></div><div class="xpack section"><div class="titlepage"><div><div><h2 class="title"><a id="ccr-get-follow-stats"></a>Get follower stats API<a xmlns="" href="https://github.com/elastic/elasticsearch/edit/6.5/docs/reference/ccr/apis/follow/get-follow-stats.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a><a xmlns="" class="xpack_tag" href="/subscriptions"></a></h2></div></div></div><div xmlns="" class="warning admon"><div class="icon"><img alt="Warning" src="images/icons/warning.png" /></div><div class="admon_content"><p>This functionality is in beta and is subject to change. The design and code is less mature than official GA features and is being provided as-is with no warranties. Beta features are not subject to the support SLA of official GA features.</p></div></div><p>Get follower stats.</p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_description_7"></a>Description<a xmlns="" href="https://github.com/elastic/elasticsearch/edit/6.5/docs/reference/ccr/apis/follow/get-follow-stats.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p>This API gets follower stats. This API will return shard-level stats about the
following tasks associated with each shard for the specified indices.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_request_7"></a>Request<a xmlns="" href="https://github.com/elastic/elasticsearch/edit/6.5/docs/reference/ccr/apis/follow/get-follow-stats.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><div xmlns="" class="pre_wrapper lang-console"><pre xmlns="http://www.w3.org/1999/xhtml" class="programlisting prettyprint lang-console">GET /&lt;index&gt;/_ccr/stats</pre></div><div xmlns="" class="console_widget" data-snippet="snippets/1390.console"></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_path_parmeters_2"></a>Path Parmeters<a xmlns="" href="https://github.com/elastic/elasticsearch/edit/6.5/docs/reference/ccr/apis/follow/get-follow-stats.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="literal">index</code> </span></dt><dd>(string) a comma-delimited list of index patterns</dd></dl></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_results_2"></a>Results<a xmlns="" href="https://github.com/elastic/elasticsearch/edit/6.5/docs/reference/ccr/apis/follow/get-follow-stats.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p>This API returns the following information:</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="literal">indices</code></span></dt><dd>(array) an array of follower index statistics</dd></dl></div><p>The <code class="literal">indices</code> array consists of objects containing two fields:</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="literal">indices[].index</code></span></dt><dd>(string) the name of the follower index</dd><dt><span class="term"><code class="literal">indices[].shards</code></span></dt><dd>(array) an array of shard-level following task statistics</dd></dl></div><p>The <code class="literal">shards</code> array consists of objects containing the following fields:</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="literal">indices[].shards[].remote_cluster</code></span></dt><dd>(string) The <a class="link" href="modules-remote-clusters.html" title="Remote clusters">remote cluster</a> containing the leader
index.</dd><dt><span class="term"><code class="literal">indices[].shards[].leader_index</code></span></dt><dd>(string) the name of the index in the leader cluster being followed</dd><dt><span class="term"><code class="literal">indices[].shards[].follower_index</code></span></dt><dd>(string) the name of the follower index</dd><dt><span class="term"><code class="literal">indices[].shards[].shard_id</code></span></dt><dd>(integer) the numerical shard ID, with values from 0 to one less than the
number of replicas</dd><dt><span class="term"><code class="literal">indices[].shards[].leader_global_checkpoint</code></span></dt><dd>(long) the current global checkpoint on the leader known to the follower task</dd><dt><span class="term"><code class="literal">indices[].shards[].leader_max_seq_no</code></span></dt><dd>(long) the current maximum sequence number on the leader known to the follower
task</dd><dt><span class="term"><code class="literal">indices[].shards[].follower_global_checkpoint</code></span></dt><dd>(long) the current global checkpoint on the follower; the difference between the
<code class="literal">leader_global_checkpoint</code> and the <code class="literal">follower_global_checkpoint</code> is an
indication of how much the follower is lagging the leader</dd><dt><span class="term"><code class="literal">indices[].shards[].follower_max_seq_no</code></span></dt><dd>(long) the current maximum sequence number on the follower</dd><dt><span class="term"><code class="literal">indices[].shards[].last_requested_seq_no</code></span></dt><dd>(long) the starting sequence number of the last batch of operations requested
from the leader</dd><dt><span class="term"><code class="literal">indices[].shards[].outstanding_read_requests</code></span></dt><dd>(integer) the number of active read requests from the follower</dd><dt><span class="term"><code class="literal">indices[].shards[].outstanding_write_requests</code></span></dt><dd>(integer) the number of active bulk write requests on the follower</dd><dt><span class="term"><code class="literal">indices[].shards[].write_buffer_operation_count</code></span></dt><dd>(integer) the number of write operations queued on the follower</dd><dt><span class="term"><code class="literal">indices[].shards[].follower_mapping_version</code></span></dt><dd>(long) the mapping version the follower is synced up to</dd><dt><span class="term"><code class="literal">indices[].shards[].follower_settings_version</code></span></dt><dd>(long) the index settings version the follower is synced up to</dd><dt><span class="term"><code class="literal">indices[].shards[].total_read_time_millis</code></span></dt><dd>(long) the total time reads were outstanding, measured from the time a read
was sent to the leader to the time a reply was returned to the follower</dd><dt><span class="term"><code class="literal">indices[].shards[].total_read_remote_exec_time_millis</code></span></dt><dd>(long) the total time reads spent executing on the remote cluster</dd><dt><span class="term"><code class="literal">indices[].shards[].successful_read_requests</code></span></dt><dd>(long) the number of successful fetches</dd><dt><span class="term"><code class="literal">indices[].shards[].failed_read_requests</code></span></dt><dd>(long) the number of failed reads</dd><dt><span class="term"><code class="literal">indices[].shards[].operations_read</code></span></dt><dd>(long) the total number of operations read from the leader</dd><dt><span class="term"><code class="literal">indices[].shards[].bytes_read</code></span></dt><dd>(long) the total of transferred bytes read from the leader (note this is only
an estimate, and does not account for compression if enabled)</dd><dt><span class="term"><code class="literal">indices[].shards[].total_write_time_millis</code></span></dt><dd>(long) the total time spent writing on the follower</dd><dt><span class="term"><code class="literal">indices[].shards[].write_buffer_size_in_bytes</code></span></dt><dd>(long) the total number of bytes of operations currently queued for writing</dd><dt><span class="term"><code class="literal">indices[].shards[].successful_write_requests</code></span></dt><dd>(long) the number of bulk write requests executed on the follower</dd><dt><span class="term"><code class="literal">indices[].shards[].failed_write_requests</code></span></dt><dd>(long) the number of failed bulk write requests executed on the follower</dd><dt><span class="term"><code class="literal">indices[].shards[].operations_written</code></span></dt><dd>(long) the number of operations written on the follower</dd><dt><span class="term"><code class="literal">indices[].shards[].read_exceptions</code></span></dt><dd>(array) an array of objects representing failed reads</dd></dl></div><p>The <code class="literal">read_exceptions</code> array consists of objects containing the following
fields:</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="literal">indices[].shards[].read_exceptions[].from_seq_no</code></span></dt><dd>(long) the starting sequence number of the batch requested from the leader</dd><dt><span class="term"><code class="literal">indices[].shards[].read_exceptions[].retries</code></span></dt><dd>(integer) the number of times the batch has been retried</dd><dt><span class="term"><code class="literal">indices[].shards[].read_exceptions[].exception</code></span></dt><dd>(object) represents the exception that caused the read to fail</dd></dl></div><p>Continuing with the fields from <code class="literal">shards</code>:</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="literal">indices[].shards[].time_since_last_read_millis</code></span></dt><dd>(long) the number of milliseconds since a read request was sent to the leader;
note that when the follower is caught up to the leader, this number will
increase up to the configured <code class="literal">read_poll_timeout</code> at which point another read
request will be sent to the leader</dd><dt><span class="term"><code class="literal">indices[].fatal_exception</code></span></dt><dd>(object) an object representing a fatal exception that cancelled the following
task; in this situation, the following task must be resumed manually with the
<a class="link" href="ccr-post-resume-follow.html" title="Resume follower API">resume follower API</a></dd></dl></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_authorization_6"></a>Authorization<a xmlns="" href="https://github.com/elastic/elasticsearch/edit/6.5/docs/reference/ccr/apis/follow/get-follow-stats.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p>If the Elasticsearch security features are enabled, you must have <code class="literal">monitor</code> cluster
privileges on the cluster that contains the follower index. For more information,
see <a class="ulink" href="https://www.elastic.co/guide/en/elastic-stack-overview/6.5/security-privileges.html" target="_top">Security privileges</a>.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_example_10"></a>Example<a xmlns="" href="https://github.com/elastic/elasticsearch/edit/6.5/docs/reference/ccr/apis/follow/get-follow-stats.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p>This example retrieves follower stats:</p><div xmlns="" class="pre_wrapper lang-console"><pre xmlns="http://www.w3.org/1999/xhtml" class="programlisting prettyprint lang-console">GET /follower_index/_ccr/stats</pre></div><div xmlns="" class="console_widget" data-snippet="snippets/1391.console"></div><p>The API returns the following results:</p><div xmlns="" class="pre_wrapper lang-js"><pre xmlns="http://www.w3.org/1999/xhtml" class="programlisting prettyprint lang-js">{
  "indices" : [
    {
      "index" : "follower_index",
      "shards" : [
        {
          "remote_cluster" : "remote_cluster",
          "leader_index" : "leader_index",
          "follower_index" : "follower_index",
          "shard_id" : 0,
          "leader_global_checkpoint" : 1024,
          "leader_max_seq_no" : 1536,
          "follower_global_checkpoint" : 768,
          "follower_max_seq_no" : 896,
          "last_requested_seq_no" : 897,
          "outstanding_read_requests" : 8,
          "outstanding_write_requests" : 2,
          "write_buffer_operation_count" : 64,
          "follower_mapping_version" : 4,
          "follower_settings_version" : 2,
          "total_read_time_millis" : 32768,
          "total_read_remote_exec_time_millis" : 16384,
          "successful_read_requests" : 32,
          "failed_read_requests" : 0,
          "operations_read" : 896,
          "bytes_read" : 32768,
          "total_write_time_millis" : 16384,
          "write_buffer_size_in_bytes" : 1536,
          "successful_write_requests" : 16,
          "failed_write_requests" : 0,
          "operations_written" : 832,
          "read_exceptions" : [ ],
          "time_since_last_read_millis" : 8
        }
      ]
    }
  ]
}</pre></div></div></div><div xmlns="" class="navfooter"><span class="prev"><a href="ccr-post-unfollow.html">
              « 
              Unfollow API</a>
           
        </span><span class="next">
           
          <a href="ccr-put-auto-follow-pattern.html">Create auto-follow pattern API
               »
            </a></span></div></body></html>