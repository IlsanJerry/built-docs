<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Elasticsearch version 8.5.0 | Elasticsearch Guide [master] | Elastic</title>
<link rel="home" href="index.html" title="Elasticsearch Guide [master]"/>
<link rel="up" href="es-release-notes.html" title="Release notes"/>
<link rel="prev" href="release-notes-8.6.0.html" title="Elasticsearch version 8.6.0"/>
<link rel="next" href="release-notes-8.4.3.html" title="Elasticsearch version 8.4.3"/>
<meta name="DC.type" content="Learn/Docs/Elasticsearch/Reference/master"/>
<meta name="DC.subject" content="Elasticsearch"/>
<meta name="DC.identifier" content="master"/>
</head>
<body><div class="page_header">
You are looking at preliminary documentation for a future release.
Not what you want? See the
<a href="../current/index.html">current release documentation</a>.
</div>
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span><span class="chevron-right">›</span>
<span class="breadcrumb-link"><a href="index.html">Elasticsearch Guide [master]</a></span><span class="chevron-right">›</span>
<span class="breadcrumb-link"><a href="es-release-notes.html">Release notes</a></span>
</div>
<div class="navheader">
<span class="prev">
<a href="release-notes-8.6.0.html">« Elasticsearch version 8.6.0</a>
</span>
<span class="next">
<a href="release-notes-8.4.3.html">Elasticsearch version 8.4.3 »</a>
</span>
</div>
<div class="chapter">
<div class="titlepage"><div><div>
<h2 class="title"><a id="release-notes-8.5.0"></a>Elasticsearch version 8.5.0<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/main/docs/reference/release-notes/8.5.0.asciidoc">edit</a></h2>
</div></div></div>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>Coming in 8.5.0.</p>
</div>
</div>
<p>Also see <a class="xref" href="migrating-8.5.html#breaking-changes-8.5" title="Breaking changes">Breaking changes in 8.5</a>.</p>
<h3><a id="breaking-8.5.0"></a>Breaking changes<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/main/docs/reference/release-notes/8.5.0.asciidoc">edit</a></h3>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
CRUD
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Reject unknown bulk actions <a href="https://github.com/elastic/elasticsearch/pull/89450" class="ulink" target="_top">#89450</a>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<h3><a id="bug-8.5.0"></a>Bug fixes<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/main/docs/reference/release-notes/8.5.0.asciidoc">edit</a></h3>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
Aggregations
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Fix <code class="literal">auto_date_histogram</code> &gt; <code class="literal">ip_range</code> <a href="https://github.com/elastic/elasticsearch/pull/90317" class="ulink" target="_top">#90317</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/90121" class="ulink" target="_top">#90121</a>)
</li>
<li class="listitem">
Fail when rebuilding scorer in <code class="literal">breadth_first</code> mode and query context has changed <a href="https://github.com/elastic/elasticsearch/pull/89993" class="ulink" target="_top">#89993</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/37650" class="ulink" target="_top">#37650</a>)
</li>
<li class="listitem">
Fix merging with empty results <a href="https://github.com/elastic/elasticsearch/pull/86939" class="ulink" target="_top">#86939</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/84622" class="ulink" target="_top">#84622</a>)
</li>
<li class="listitem">
Fix partial reduce bug in <code class="literal">ip_prefix</code> <a href="https://github.com/elastic/elasticsearch/pull/89734" class="ulink" target="_top">#89734</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/89686" class="ulink" target="_top">#89686</a>)
</li>
<li class="listitem">
Remove unexpected meta param in agg&#8217;s response <a href="https://github.com/elastic/elasticsearch/pull/89467" class="ulink" target="_top">#89467</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/89455" class="ulink" target="_top">#89455</a>)
</li>
<li class="listitem">
Top_metrics: consistently allow sorting by size&gt;1 <a href="https://github.com/elastic/elasticsearch/pull/89974" class="ulink" target="_top">#89974</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/86663" class="ulink" target="_top">#86663</a>)
</li>
<li class="listitem">
check parent circuit breaker when allocating empty bucket <a href="https://github.com/elastic/elasticsearch/pull/89568" class="ulink" target="_top">#89568</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/80789" class="ulink" target="_top">#80789</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Authorization
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Remove magic string for the empty Role <a href="https://github.com/elastic/elasticsearch/pull/89766" class="ulink" target="_top">#89766</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Cluster Coordination
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Capture deprecation warnings in batched master tasks <a href="https://github.com/elastic/elasticsearch/pull/85525" class="ulink" target="_top">#85525</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/85506" class="ulink" target="_top">#85506</a>)
</li>
<li class="listitem">
Check circuit breaker before sending join request <a href="https://github.com/elastic/elasticsearch/pull/89318" class="ulink" target="_top">#89318</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/85003" class="ulink" target="_top">#85003</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Engine
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
fix "path.conf'" typo in Security.java <a href="https://github.com/elastic/elasticsearch/pull/89248" class="ulink" target="_top">#89248</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/89327" class="ulink" target="_top">#89327</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Geo
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Buffer H3Polygon2D bounding boxes to avoid edge precision issues <a href="https://github.com/elastic/elasticsearch/pull/89196" class="ulink" target="_top">#89196</a> (issues: <a href="https://github.com/elastic/elasticsearch/issues/89868" class="ulink" target="_top">#89868</a>, <a href="https://github.com/elastic/elasticsearch/issues/87391" class="ulink" target="_top">#87391</a>)
</li>
<li class="listitem">
Date histogram range edge case fix <a href="https://github.com/elastic/elasticsearch/pull/88957" class="ulink" target="_top">#88957</a>
</li>
<li class="listitem">
Format runtime <code class="literal">geo_points</code> <a href="https://github.com/elastic/elasticsearch/pull/85449" class="ulink" target="_top">#85449</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/85245" class="ulink" target="_top">#85245</a>)
</li>
<li class="listitem">
Synthetic _source error on script loads <a href="https://github.com/elastic/elasticsearch/pull/88334" class="ulink" target="_top">#88334</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Graph
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Graph: fix race condition in timeout <a href="https://github.com/elastic/elasticsearch/pull/88946" class="ulink" target="_top">#88946</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/55396" class="ulink" target="_top">#55396</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Health
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Disk indicator change details <a href="https://github.com/elastic/elasticsearch/pull/90189" class="ulink" target="_top">#90189</a>
</li>
<li class="listitem">
Fix disk indicator impacts and diagnosis <a href="https://github.com/elastic/elasticsearch/pull/90262" class="ulink" target="_top">#90262</a>
</li>
<li class="listitem">
Update min version for health node reporting to 8.5 <a href="https://github.com/elastic/elasticsearch/pull/90365" class="ulink" target="_top">#90365</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/90359" class="ulink" target="_top">#90359</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Indices APIs
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Fix shard splitting for <code class="literal">nested</code> <a href="https://github.com/elastic/elasticsearch/pull/89351" class="ulink" target="_top">#89351</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/88109" class="ulink" target="_top">#88109</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Infra/Core
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Fix <code class="literal">allow_no_indices</code> request option in special cases <a href="https://github.com/elastic/elasticsearch/pull/89622" class="ulink" target="_top">#89622</a>
</li>
<li class="listitem">
Fix repeated error save loops in File Settings Service <a href="https://github.com/elastic/elasticsearch/pull/90271" class="ulink" target="_top">#90271</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/90222" class="ulink" target="_top">#90222</a>)
</li>
<li class="listitem">
Support camel case dates on 7.x indices <a href="https://github.com/elastic/elasticsearch/pull/88914" class="ulink" target="_top">#88914</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/84199" class="ulink" target="_top">#84199</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Machine Learning
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Return 408 instead of 500 when open/start APIs time out <a href="https://github.com/elastic/elasticsearch/pull/89775" class="ulink" target="_top">#89775</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/89585" class="ulink" target="_top">#89585</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Mapping
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Fix duplication bug for source fallback in numeric types <a href="https://github.com/elastic/elasticsearch/pull/89352" class="ulink" target="_top">#89352</a>
</li>
<li class="listitem">
Include runtime fields in total fields count <a href="https://github.com/elastic/elasticsearch/pull/89251" class="ulink" target="_top">#89251</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/88265" class="ulink" target="_top">#88265</a>)
</li>
<li class="listitem">
Fix <code class="literal">aggregate_metric_double</code> multi-values exception <a href="https://github.com/elastic/elasticsearch/pull/90290" class="ulink" target="_top">#90290</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Search
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add support for predefined char class regexp on wildcard fields <a href="https://github.com/elastic/elasticsearch/pull/90064" class="ulink" target="_top">#90064</a>
</li>
<li class="listitem">
Deduplicate fetching doc-values fields <a href="https://github.com/elastic/elasticsearch/pull/89094" class="ulink" target="_top">#89094</a>
</li>
<li class="listitem">
Safeguard <code class="literal">RegExp</code> use against <code class="literal">StackOverflowError</code> <a href="https://github.com/elastic/elasticsearch/pull/84624" class="ulink" target="_top">#84624</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/82923" class="ulink" target="_top">#82923</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Snapshot/Restore
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Fix incorrect failed shards count in APIs for current snapshots <a href="https://github.com/elastic/elasticsearch/pull/89534" class="ulink" target="_top">#89534</a>
</li>
<li class="listitem">
Fix over-allocation of mounted indices on a cold/frozen node <a href="https://github.com/elastic/elasticsearch/pull/86331" class="ulink" target="_top">#86331</a>
</li>
<li class="listitem">
Make sure listener is resolved when file queue is cleared <a href="https://github.com/elastic/elasticsearch/pull/89929" class="ulink" target="_top">#89929</a>
</li>
<li class="listitem">
Re-registering corrupt repository unblocks it <a href="https://github.com/elastic/elasticsearch/pull/89719" class="ulink" target="_top">#89719</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/89130" class="ulink" target="_top">#89130</a>)
</li>
<li class="listitem">
Reject unknown request body fields in Mount API <a href="https://github.com/elastic/elasticsearch/pull/88987" class="ulink" target="_top">#88987</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/75982" class="ulink" target="_top">#75982</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
TSDS
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Fix segment stats in tsdb <a href="https://github.com/elastic/elasticsearch/pull/89754" class="ulink" target="_top">#89754</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/89609" class="ulink" target="_top">#89609</a>)
</li>
<li class="listitem">
Synthetic _source: fix extra fields in GET <a href="https://github.com/elastic/elasticsearch/pull/89778" class="ulink" target="_top">#89778</a>
</li>
<li class="listitem">
Synthetic _source: fix <code class="literal">scaled_float</code> rounding <a href="https://github.com/elastic/elasticsearch/pull/88916" class="ulink" target="_top">#88916</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/88854" class="ulink" target="_top">#88854</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Transform
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Fix NPE in transform scheduling <a href="https://github.com/elastic/elasticsearch/pull/90347" class="ulink" target="_top">#90347</a> (issues: <a href="https://github.com/elastic/elasticsearch/issues/90356" class="ulink" target="_top">#90356</a>, <a href="https://github.com/elastic/elasticsearch/issues/88203" class="ulink" target="_top">#88203</a>, <a href="https://github.com/elastic/elasticsearch/issues/90301" class="ulink" target="_top">#90301</a>, <a href="https://github.com/elastic/elasticsearch/issues/90255" class="ulink" target="_top">#90255</a>)
</li>
<li class="listitem">
Improve error handling in state persistence <a href="https://github.com/elastic/elasticsearch/pull/88910" class="ulink" target="_top">#88910</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/88905" class="ulink" target="_top">#88905</a>)
</li>
<li class="listitem">
Return 408 instead of 500 when start api times out <a href="https://github.com/elastic/elasticsearch/pull/89774" class="ulink" target="_top">#89774</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Vector Search
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Fix bug for kNN with filtered aliases <a href="https://github.com/elastic/elasticsearch/pull/89621" class="ulink" target="_top">#89621</a>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<h3><a id="deprecation-8.5.0"></a>Deprecations<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/main/docs/reference/release-notes/8.5.0.asciidoc">edit</a></h3>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
Infra/Plugins
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Deprecate network plugins <a href="https://github.com/elastic/elasticsearch/pull/88924" class="ulink" target="_top">#88924</a>
</li>
<li class="listitem">
Deprecate overriding <code class="literal">DiscoveryPlugin</code> internals <a href="https://github.com/elastic/elasticsearch/pull/88925" class="ulink" target="_top">#88925</a>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<h3><a id="enhancement-8.5.0"></a>Enhancements<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/main/docs/reference/release-notes/8.5.0.asciidoc">edit</a></h3>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
Authentication
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
More accurate error message for LDAP user modes <a href="https://github.com/elastic/elasticsearch/pull/89492" class="ulink" target="_top">#89492</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Authorization
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add indices permissions to Enterprise Search service account <a href="https://github.com/elastic/elasticsearch/pull/89869" class="ulink" target="_top">#89869</a>
</li>
<li class="listitem">
Add info of resolved roles in denial messages <a href="https://github.com/elastic/elasticsearch/pull/89680" class="ulink" target="_top">#89680</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Autoscaling
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Centralize the concept of processors configuration <a href="https://github.com/elastic/elasticsearch/pull/89662" class="ulink" target="_top">#89662</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Cluster Coordination
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Preemptively compute <code class="literal">RoutingNodes</code> and the indices lookup during publication <a href="https://github.com/elastic/elasticsearch/pull/89005" class="ulink" target="_top">#89005</a>
</li>
<li class="listitem">
Preemptively initialize routing nodes and indices lookup on all node types <a href="https://github.com/elastic/elasticsearch/pull/89032" class="ulink" target="_top">#89032</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Distributed
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Batch index delete cluster state updates <a href="https://github.com/elastic/elasticsearch/pull/90033" class="ulink" target="_top">#90033</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/90022" class="ulink" target="_top">#90022</a>)
</li>
<li class="listitem">
Increase the minimum size of the management pool to 2 <a href="https://github.com/elastic/elasticsearch/pull/90193" class="ulink" target="_top">#90193</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Health
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add IDs to health API diagnoses and impacts <a href="https://github.com/elastic/elasticsearch/pull/90072" class="ulink" target="_top">#90072</a>
</li>
<li class="listitem">
Adding a check to the master stability health API when there is no master and the current node is not master eligible <a href="https://github.com/elastic/elasticsearch/pull/89219" class="ulink" target="_top">#89219</a>
</li>
<li class="listitem">
Adding logic to <code class="literal">master_is_stable</code> indicator to check for discovery problems <a href="https://github.com/elastic/elasticsearch/pull/88020" class="ulink" target="_top">#88020</a>
</li>
<li class="listitem">
Polling for cluster diagnostics information <a href="https://github.com/elastic/elasticsearch/pull/89014" class="ulink" target="_top">#89014</a>
</li>
<li class="listitem">
Update SLM health diagnosis message to include unhealthy policy details <a href="https://github.com/elastic/elasticsearch/pull/89138" class="ulink" target="_top">#89138</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Highlighting
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Improve efficiency of <code class="literal">BoundedBreakIteratorScanner</code> fragmentation algorithm <a href="https://github.com/elastic/elasticsearch/pull/89041" class="ulink" target="_top">#89041</a> (issues: <a href="https://github.com/elastic/elasticsearch/issues/73569" class="ulink" target="_top">#73569</a>, <a href="https://github.com/elastic/elasticsearch/issues/73785" class="ulink" target="_top">#73785</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
ILM+SLM
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add validations for the downsampling ILM action <a href="https://github.com/elastic/elasticsearch/pull/90295" class="ulink" target="_top">#90295</a>
</li>
<li class="listitem">
ILM must not rollover empty indices <a href="https://github.com/elastic/elasticsearch/pull/89557" class="ulink" target="_top">#89557</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/86203" class="ulink" target="_top">#86203</a>)
</li>
<li class="listitem">
Reuse Info in lifecycle step <a href="https://github.com/elastic/elasticsearch/pull/89419" class="ulink" target="_top">#89419</a>
</li>
<li class="listitem">
move log-related logic into log block in IndexLifecycleRunner <a href="https://github.com/elastic/elasticsearch/pull/89292" class="ulink" target="_top">#89292</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Infra/Core
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add reserved snapshot/repo action <a href="https://github.com/elastic/elasticsearch/pull/89601" class="ulink" target="_top">#89601</a>
</li>
<li class="listitem">
Fleet: Add <code class="literal">upgrade_status</code> attributes to agents <a href="https://github.com/elastic/elasticsearch/pull/89845" class="ulink" target="_top">#89845</a>
</li>
<li class="listitem">
Operator/autoscaling <a href="https://github.com/elastic/elasticsearch/pull/89708" class="ulink" target="_top">#89708</a>
</li>
<li class="listitem">
Operator/role mapping <a href="https://github.com/elastic/elasticsearch/pull/89667" class="ulink" target="_top">#89667</a>
</li>
<li class="listitem">
Operator/slm policy <a href="https://github.com/elastic/elasticsearch/pull/89567" class="ulink" target="_top">#89567</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Infra/Node Lifecycle
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Distinguish no shutdowns case in <code class="literal">NodeShutdownAllocationDecider</code> <a href="https://github.com/elastic/elasticsearch/pull/89851" class="ulink" target="_top">#89851</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/89823" class="ulink" target="_top">#89823</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Infra/Plugins
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add deprecation message for deprecated plugin APIs <a href="https://github.com/elastic/elasticsearch/pull/88961" class="ulink" target="_top">#88961</a>
</li>
<li class="listitem">
Register stable plugins in <code class="literal">ActionModule</code> <a href="https://github.com/elastic/elasticsearch/pull/90067" class="ulink" target="_top">#90067</a>
</li>
<li class="listitem">
[Stable plugin API] Load plugin named components <a href="https://github.com/elastic/elasticsearch/pull/89969" class="ulink" target="_top">#89969</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Infra/Scripting
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Initial code to support binary expression scripts <a href="https://github.com/elastic/elasticsearch/pull/89895" class="ulink" target="_top">#89895</a>
</li>
<li class="listitem">
Script: Protected <code class="literal">_source</code> inside update scripts <a href="https://github.com/elastic/elasticsearch/pull/88733" class="ulink" target="_top">#88733</a>
</li>
<li class="listitem">
Script: Reindex &amp; <code class="literal">UpdateByQuery</code> Metadata <a href="https://github.com/elastic/elasticsearch/pull/88665" class="ulink" target="_top">#88665</a>
</li>
<li class="listitem">
Script: Write Field API <code class="literal">NestedDocument</code> support <a href="https://github.com/elastic/elasticsearch/pull/90021" class="ulink" target="_top">#90021</a>
</li>
<li class="listitem">
Script: Write Field API path manipulation <a href="https://github.com/elastic/elasticsearch/pull/89889" class="ulink" target="_top">#89889</a>
</li>
<li class="listitem">
Script: Write Field API with basic path resolution <a href="https://github.com/elastic/elasticsearch/pull/89738" class="ulink" target="_top">#89738</a>
</li>
<li class="listitem">
Script: Write Fields API for reindex, update, update by query <a href="https://github.com/elastic/elasticsearch/pull/90145" class="ulink" target="_top">#90145</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Infra/Settings
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Introduce max headroom for disk watermark stages <a href="https://github.com/elastic/elasticsearch/pull/88639" class="ulink" target="_top">#88639</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/81406" class="ulink" target="_top">#81406</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
License
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
License check for user profile collaboration feature <a href="https://github.com/elastic/elasticsearch/pull/89990" class="ulink" target="_top">#89990</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Machine Learning
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add new <code class="literal">text_similarity</code> nlp task <a href="https://github.com/elastic/elasticsearch/pull/88439" class="ulink" target="_top">#88439</a>
</li>
<li class="listitem">
Add new trained model deployment cache clear API <a href="https://github.com/elastic/elasticsearch/pull/89074" class="ulink" target="_top">#89074</a>
</li>
<li class="listitem">
Add processor autoscaling decider <a href="https://github.com/elastic/elasticsearch/pull/89645" class="ulink" target="_top">#89645</a>
</li>
<li class="listitem">
Distribute trained model allocations across availability zones <a href="https://github.com/elastic/elasticsearch/pull/89822" class="ulink" target="_top">#89822</a>
</li>
<li class="listitem">
Frequent Items: use a bitset for deduplication <a href="https://github.com/elastic/elasticsearch/pull/88943" class="ulink" target="_top">#88943</a>
</li>
<li class="listitem">
Optimize frequent items transaction lookup <a href="https://github.com/elastic/elasticsearch/pull/89062" class="ulink" target="_top">#89062</a>
</li>
<li class="listitem">
Return 408 when start deployment api times out <a href="https://github.com/elastic/elasticsearch/pull/89612" class="ulink" target="_top">#89612</a>
</li>
<li class="listitem">
Skip renormalization after node shutdown API called <a href="https://github.com/elastic/elasticsearch/pull/89347" class="ulink" target="_top">#89347</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Mapping
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add <code class="literal">synthetic_source</code> support to <code class="literal">aggregate_metric_double</code> fields <a href="https://github.com/elastic/elasticsearch/pull/88909" class="ulink" target="_top">#88909</a>
</li>
<li class="listitem">
Add source fallback for keyword fields using operation <a href="https://github.com/elastic/elasticsearch/pull/88735" class="ulink" target="_top">#88735</a>
</li>
<li class="listitem">
Add source fallback support for <code class="literal">match_only_text</code> mapped type <a href="https://github.com/elastic/elasticsearch/pull/89473" class="ulink" target="_top">#89473</a>
</li>
<li class="listitem">
Add source fallback support for date and <code class="literal">date_nanos</code> mapped types <a href="https://github.com/elastic/elasticsearch/pull/89440" class="ulink" target="_top">#89440</a>
</li>
<li class="listitem">
Add source fallback support for unsigned long mapped type <a href="https://github.com/elastic/elasticsearch/pull/89349" class="ulink" target="_top">#89349</a>
</li>
<li class="listitem">
Add support for source fallback with scaled float field type <a href="https://github.com/elastic/elasticsearch/pull/89053" class="ulink" target="_top">#89053</a>
</li>
<li class="listitem">
Add support for source fallback with the boolean field type <a href="https://github.com/elastic/elasticsearch/pull/89052" class="ulink" target="_top">#89052</a>
</li>
<li class="listitem">
Add text field support in the Painless scripting fields API <a href="https://github.com/elastic/elasticsearch/pull/89396" class="ulink" target="_top">#89396</a>
</li>
<li class="listitem">
Clarified fielddata not supported for text fields error message <a href="https://github.com/elastic/elasticsearch/pull/89770" class="ulink" target="_top">#89770</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/89485" class="ulink" target="_top">#89485</a>)
</li>
<li class="listitem">
Fleet: Add new mappings for .fleet-agents <code class="literal">last_checkin_message</code> and components fields <a href="https://github.com/elastic/elasticsearch/pull/89599" class="ulink" target="_top">#89599</a>
</li>
<li class="listitem">
Support source fallback for byte, short, and long fields <a href="https://github.com/elastic/elasticsearch/pull/88954" class="ulink" target="_top">#88954</a>
</li>
<li class="listitem">
Support source fallback for double, float, and <code class="literal">half_float</code> field types <a href="https://github.com/elastic/elasticsearch/pull/89010" class="ulink" target="_top">#89010</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Network
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Use chunked REST serialization for large REST responses <a href="https://github.com/elastic/elasticsearch/pull/88311" class="ulink" target="_top">#88311</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Recovery
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Do not use recovery from snapshots in searchable snapshots <a href="https://github.com/elastic/elasticsearch/pull/86388" class="ulink" target="_top">#86388</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
SQL
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Implement DATE_FORMAT function <a href="https://github.com/elastic/elasticsearch/pull/88388" class="ulink" target="_top">#88388</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/55065" class="ulink" target="_top">#55065</a>)
</li>
<li class="listitem">
Set <code class="literal">track_total_hits</code> to false when not needed <a href="https://github.com/elastic/elasticsearch/pull/89106" class="ulink" target="_top">#89106</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/88764" class="ulink" target="_top">#88764</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Search
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Enable <code class="literal">BloomFilter</code> for <code class="literal">_id</code> of non-datastream indices <a href="https://github.com/elastic/elasticsearch/pull/88409" class="ulink" target="_top">#88409</a>
</li>
<li class="listitem">
In the field capabilities API, re-add support for fields in the request body <a href="https://github.com/elastic/elasticsearch/pull/88972" class="ulink" target="_top">#88972</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/86875" class="ulink" target="_top">#86875</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Security
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add usage stats report for user profiles <a href="https://github.com/elastic/elasticsearch/pull/90123" class="ulink" target="_top">#90123</a>
</li>
<li class="listitem">
Grace period for user profile activation <a href="https://github.com/elastic/elasticsearch/pull/89566" class="ulink" target="_top">#89566</a>
</li>
<li class="listitem">
Limited-by role descriptors in Get/QueryApiKey response <a href="https://github.com/elastic/elasticsearch/pull/89273" class="ulink" target="_top">#89273</a>
</li>
<li class="listitem">
Option to return profile uid in <code class="literal">GetUser</code> response <a href="https://github.com/elastic/elasticsearch/pull/89570" class="ulink" target="_top">#89570</a>
</li>
<li class="listitem">
Return 400 error for <code class="literal">GetUserPrivileges</code> call with API keys <a href="https://github.com/elastic/elasticsearch/pull/89333" class="ulink" target="_top">#89333</a>
</li>
<li class="listitem">
Show assigned role descriptors in Get/QueryApiKey response <a href="https://github.com/elastic/elasticsearch/pull/89166" class="ulink" target="_top">#89166</a>
</li>
<li class="listitem">
User Profile - Detailed errors in <code class="literal">hasPrivileges</code> response <a href="https://github.com/elastic/elasticsearch/pull/89224" class="ulink" target="_top">#89224</a>
</li>
<li class="listitem">
User Profile - <code class="literal">GetProfile</code> API nows supports multiple UIDs <a href="https://github.com/elastic/elasticsearch/pull/89023" class="ulink" target="_top">#89023</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Snapshot/Restore
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Make <code class="literal">SnapshotsInProgress</code> Diffable <a href="https://github.com/elastic/elasticsearch/pull/89619" class="ulink" target="_top">#89619</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/88732" class="ulink" target="_top">#88732</a>)
</li>
<li class="listitem">
Prioritize shard snapshot tasks over file snapshot tasks and limit the number of the concurrently running snapshot tasks <a href="https://github.com/elastic/elasticsearch/pull/88209" class="ulink" target="_top">#88209</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/83408" class="ulink" target="_top">#83408</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Stats
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Introduce node mappings stats <a href="https://github.com/elastic/elasticsearch/pull/89807" class="ulink" target="_top">#89807</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
TSDS
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Synthetic _source: support <code class="literal">match_only_text</code> <a href="https://github.com/elastic/elasticsearch/pull/89516" class="ulink" target="_top">#89516</a>
</li>
<li class="listitem">
Synthetic _source: support histogram field <a href="https://github.com/elastic/elasticsearch/pull/89833" class="ulink" target="_top">#89833</a>
</li>
<li class="listitem">
Synthetic _source: support version field type <a href="https://github.com/elastic/elasticsearch/pull/89706" class="ulink" target="_top">#89706</a>
</li>
<li class="listitem">
TSDB: Build <code class="literal">_id</code> without reparsing <a href="https://github.com/elastic/elasticsearch/pull/88789" class="ulink" target="_top">#88789</a>
</li>
<li class="listitem">
[TSDB] Metric fields in the field caps API <a href="https://github.com/elastic/elasticsearch/pull/88695" class="ulink" target="_top">#88695</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Transform
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add an unattended mode setting to transform <a href="https://github.com/elastic/elasticsearch/pull/89212" class="ulink" target="_top">#89212</a>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<h3><a id="feature-8.5.0"></a>New features<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/main/docs/reference/release-notes/8.5.0.asciidoc">edit</a></h3>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
Authorization
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Introduce the new <code class="literal">read_security</code> cluster privilege <a href="https://github.com/elastic/elasticsearch/pull/89790" class="ulink" target="_top">#89790</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/89245" class="ulink" target="_top">#89245</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Health
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Enable the health node and the disk health indicator #84811 <a href="https://github.com/elastic/elasticsearch/pull/90085" class="ulink" target="_top">#90085</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Infra/Core
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Provide tracing implementation using OpenTelemetry and APM Java agent <a href="https://github.com/elastic/elasticsearch/pull/88443" class="ulink" target="_top">#88443</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/84369" class="ulink" target="_top">#84369</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Infra/Plugins
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Stable Plugin API module and analysis interfaces <a href="https://github.com/elastic/elasticsearch/pull/88775" class="ulink" target="_top">#88775</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Machine Learning
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Make <code class="literal">bucket_correlation</code> aggregation generally available <a href="https://github.com/elastic/elasticsearch/pull/88655" class="ulink" target="_top">#88655</a>
</li>
<li class="listitem">
Make <code class="literal">bucket_count_ks_test</code> aggregation generally available <a href="https://github.com/elastic/elasticsearch/pull/88657" class="ulink" target="_top">#88657</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Security
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Support bulk updates of API keys <a href="https://github.com/elastic/elasticsearch/pull/88856" class="ulink" target="_top">#88856</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
TSDB
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add a TSID global ordinal to <code class="literal">TimeSeriesIndexSearcher</code> <a href="https://github.com/elastic/elasticsearch/pull/90035" class="ulink" target="_top">#90035</a>
</li>
<li class="listitem">
Release time-series (TSDB) functionality <a href="https://github.com/elastic/elasticsearch/pull/90116" class="ulink" target="_top">#90116</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/74660" class="ulink" target="_top">#74660</a>)
</li>
<li class="listitem">
Synthetic _source: support <code class="literal">ignore_above</code> <a href="https://github.com/elastic/elasticsearch/pull/89466" class="ulink" target="_top">#89466</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Vector Search
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Synthetic _source: support <code class="literal">dense_vector</code> <a href="https://github.com/elastic/elasticsearch/pull/89840" class="ulink" target="_top">#89840</a>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<h3><a id="regression-8.5.0"></a>Regressions<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/main/docs/reference/release-notes/8.5.0.asciidoc">edit</a></h3>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
Infra/Scripting
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Fix Fields API Caching Regression <a href="https://github.com/elastic/elasticsearch/pull/90017" class="ulink" target="_top">#90017</a>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<h3><a id="upgrade-8.5.0"></a>Upgrades<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/main/docs/reference/release-notes/8.5.0.asciidoc">edit</a></h3>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
Client
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Upgrade Apache Commons Logging to 1.2 <a href="https://github.com/elastic/elasticsearch/pull/85745" class="ulink" target="_top">#85745</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/40305" class="ulink" target="_top">#40305</a>)
</li>
</ul>
</div>
</dd>
</dl>
</div>
<h3><a id="known-issues-8.5.0"></a>Known issues<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/main/docs/reference/release-notes/8.5.0.asciidoc">edit</a></h3>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
When using date range search with format that does not have all date fields (missing month or day)
an incorrectly parsed date could be used. The workaround is to use date pattern with all date fields (year, month, day)
(issue: <a href="https://github.com/elastic/elasticsearch/issues/90187" class="ulink" target="_top">#90187</a>)
</li>
</ul>
</div>
</div>
<div class="navfooter">
<span class="prev">
<a href="release-notes-8.6.0.html">« Elasticsearch version 8.6.0</a>
</span>
<span class="next">
<a href="release-notes-8.4.3.html">Elasticsearch version 8.4.3 »</a>
</span>
</div>
</div>
</body>
</html>
