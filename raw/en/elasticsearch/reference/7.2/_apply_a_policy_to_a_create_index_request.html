<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title xmlns="">Apply a policy to a create index request
        | Elasticsearch Reference [7.2]
      | Elastic
    </title><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Elasticsearch Reference [7.2]" /><link rel="up" href="set-up-lifecycle-policy.html" title="Set up index lifecycle management policy" /><link rel="prev" href="applying-policy-to-template.html" title="Applying a policy to an index template" /><link rel="next" href="using-policies-rollover.html" title="Using policies to manage index rollover" /><meta xmlns="" name="description" content="Get started with the documentation for Elasticsearch, Kibana, Logstash, Beats, X-Pack, Elastic Cloud, Elasticsearch for Apache Hadoop, and our language clients." /><meta xmlns="" name="DC.type" content="Learn/Docs/Elasticsearch/Reference/7.2" /><meta xmlns="" name="DC.subject" content="Elasticsearch" /><meta xmlns="" name="DC.identifier" content="7.2" /></head><body><div xmlns="" class="page_header">You are looking at documentation for an older release.
Not what you want? See the
<a href="../current/index.html">current release documentation</a>.
</div><div xmlns="" class="breadcrumbs"><span class="breadcrumb-link"><a href="index.html">Elasticsearch Reference
      [7.2]
    </a></span> » <span class="breadcrumb-link"><a href="index-lifecycle-management.html">Managing the index lifecycle</a></span> » <span class="breadcrumb-link"><a href="set-up-lifecycle-policy.html">Set up index lifecycle management policy</a></span> » <span class="breadcrumb-node">Apply a policy to a create index request</span></div><div xmlns="" class="navheader"><span class="prev"><a href="applying-policy-to-template.html">
              « 
              Applying a policy to an index template</a>
           
        </span><span class="next">
           
          <a href="using-policies-rollover.html">Using policies to manage index rollover
               »
            </a></span></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="_apply_a_policy_to_a_create_index_request"></a>Apply a policy to a create index request<a xmlns="" href="https://github.com/elastic/elasticsearch/edit/7.2/docs/reference/ilm/set-up-lifecycle-policy.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h2></div></div></div><p>The <code class="literal">index.lifecycle.name</code> setting can be set on an individual create index
request so index lifecycle management immediately starts managing the index:</p><div xmlns="" class="pre_wrapper lang-console"><pre xmlns="http://www.w3.org/1999/xhtml" class="programlisting prettyprint lang-console">PUT test-index
{
  "settings": {
    "number_of_shards": 1,
    "number_of_replicas": 1,
    "index.lifecycle.name": "my_policy"
  }
}</pre></div><div xmlns="" class="console_widget" data-snippet="snippets/1447.console"></div><div xmlns="" class="important admon"><div class="icon"><img alt="Important" src="images/icons/important.png" /></div><div class="admon_content"><p xmlns="http://www.w3.org/1999/xhtml">Its recommended not to use the create index API with a policy that
defines a rollover action. If you do so, the new index as the result of the
rollover will not carry forward the policy. Always use index templates to
define policies with rollover actions.</p></div></div></div><div xmlns="" class="navfooter"><span class="prev"><a href="applying-policy-to-template.html">
              « 
              Applying a policy to an index template</a>
           
        </span><span class="next">
           
          <a href="using-policies-rollover.html">Using policies to manage index rollover
               »
            </a></span></div></body></html>