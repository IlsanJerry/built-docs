<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title xmlns="">Move to lifecycle step API
        | Elasticsearch Reference [7.3]
      | Elastic
    </title><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Elasticsearch Reference [7.3]" /><link rel="up" href="index-lifecycle-management-api.html" title="Index lifecycle management API" /><link rel="prev" href="ilm-delete-lifecycle.html" title="Delete lifecycle policy API" /><link rel="next" href="ilm-remove-policy.html" title="Remove policy from index API" /><meta xmlns="" name="description" content="Get started with the documentation for Elasticsearch, Kibana, Logstash, Beats, X-Pack, Elastic Cloud, Elasticsearch for Apache Hadoop, and our language clients." /><meta xmlns="" name="DC.type" content="Learn/Docs/Elasticsearch/Reference/7.3" /><meta xmlns="" name="DC.subject" content="Elasticsearch" /><meta xmlns="" name="DC.identifier" content="7.3" /></head><body><div xmlns="" class="breadcrumbs"><span class="breadcrumb-link"><a href="index.html">Elasticsearch Reference
      [7.3]
    </a></span> » <span class="breadcrumb-link"><a href="rest-apis.html">REST APIs</a></span> » <span class="breadcrumb-link"><a href="index-lifecycle-management-api.html">Index lifecycle management API</a></span> » <span class="breadcrumb-node">Move to lifecycle step API</span></div><div xmlns="" class="navheader"><span class="prev"><a href="ilm-delete-lifecycle.html">
              « 
              Delete lifecycle policy API</a>
           
        </span><span class="next">
           
          <a href="ilm-remove-policy.html">Remove policy from index API
               »
            </a></span></div><div class="xpack section"><div class="titlepage"><div><div><h2 class="title"><a id="ilm-move-to-step"></a>Move to lifecycle step API<a xmlns="" href="https://github.com/elastic/elasticsearch/edit/7.3/docs/reference/ilm/apis/move-to-step.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a><a xmlns="" class="xpack_tag" href="/subscriptions"></a></h2></div></div></div><p>Triggers execution of a specific step in the lifecycle policy.</p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_request_5"></a>Request<a xmlns="" href="https://github.com/elastic/elasticsearch/edit/7.3/docs/reference/ilm/apis/move-to-step.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p><code class="literal">POST _ilm/move/&lt;index&gt;</code></p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_description_14"></a>Description<a xmlns="" href="https://github.com/elastic/elasticsearch/edit/7.3/docs/reference/ilm/apis/move-to-step.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><div xmlns="" class="warning admon"><div class="icon"><img alt="Warning" src="images/icons/warning.png" /></div><div class="admon_content"><p xmlns="http://www.w3.org/1999/xhtml">This operation can result in the loss of data. Manually moving an index
into a specific step executes that step even if it has already been performed.
This is a potentially destructive action and this should be considered an expert
level API.</p></div></div><p>Manually moves an index into the specified step and executes that step.
You must specify both the current step and the step to be executed in the
body of the request.</p><p>The request will fail if the current step does not match the step currently
being executed for the index. This is to prevent the index from being moved from
an unexpected step into the next step.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_path_parameters_4"></a>Path Parameters<a xmlns="" href="https://github.com/elastic/elasticsearch/edit/7.3/docs/reference/ilm/apis/move-to-step.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="literal">index</code> (required)</span></dt><dd>(string) Identifier for the index.</dd></dl></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_request_parameters_4"></a>Request Parameters<a xmlns="" href="https://github.com/elastic/elasticsearch/edit/7.3/docs/reference/ilm/apis/move-to-step.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="literal">timeout</code></span></dt><dd>(Optional, <a class="link" href="common-options.html#time-units" title="Time units">time units</a>) Specifies the period of time to wait for
a response. If no response is received before the timeout expires, the request
fails and returns an error. Defaults to <code class="literal">30s</code>.</dd><dt><span class="term"><code class="literal">master_timeout</code></span></dt><dd>(Optional, <a class="link" href="common-options.html#time-units" title="Time units">time units</a>) Specifies the period of time to wait for
a connection to the master node. If no response is received before the timeout
expires, the request fails and returns an error. Defaults to <code class="literal">30s</code>.</dd></dl></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_authorization_4"></a>Authorization<a xmlns="" href="https://github.com/elastic/elasticsearch/edit/7.3/docs/reference/ilm/apis/move-to-step.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p>You must have the <code class="literal">manage_ilm</code> privileges on the indices being managed to use this API.
For more information, see <a class="ulink" href="https://www.elastic.co/guide/en/elastic-stack-overview/7.3/security-privileges.html" target="_top">Security Privileges</a>.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_examples_18"></a>Examples<a xmlns="" href="https://github.com/elastic/elasticsearch/edit/7.3/docs/reference/ilm/apis/move-to-step.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p>The following example moves <code class="literal">my_index</code> from the initial step to the
<code class="literal">forcemerge</code> step:</p><div xmlns="" class="pre_wrapper lang-console"><pre xmlns="http://www.w3.org/1999/xhtml" class="programlisting prettyprint lang-console">POST _ilm/move/my_index
{
  "current_step": { <a id="CO506-1"></a><i xmlns="" class="conum" data-value="1"></i>
    "phase": "new",
    "action": "complete",
    "name": "complete"
  },
  "next_step": { <a id="CO506-2"></a><i xmlns="" class="conum" data-value="2"></i>
    "phase": "warm",
    "action": "forcemerge",
    "name": "forcemerge"
  }
}</pre></div><div xmlns="" class="console_widget" data-snippet="snippets/1410.console"></div><div class="calloutlist"><table border="0" summary="Callout list"><tr><td width="5%" valign="top" align="left"><p><a href="#CO506-1"><i xmlns="" class="conum" data-value="1"></i></a> </p></td><td valign="top" align="left"><p>The step that the index is expected to be in</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO506-2"><i xmlns="" class="conum" data-value="2"></i></a> </p></td><td valign="top" align="left"><p>The step that you want to execute</p></td></tr></table></div><p>If the request succeeds, you receive the following result:</p><div xmlns="" class="pre_wrapper lang-console"><pre xmlns="http://www.w3.org/1999/xhtml" class="programlisting prettyprint lang-console">{
  "acknowledged": true
}</pre></div><div xmlns="" class="console_widget" data-snippet="snippets/1411.console"></div><p>The request will fail if the index is not in the <code class="literal">new</code> phase as specified
by the <code class="literal">current_step</code>.</p></div></div><div xmlns="" class="navfooter"><span class="prev"><a href="ilm-delete-lifecycle.html">
              « 
              Delete lifecycle policy API</a>
           
        </span><span class="next">
           
          <a href="ilm-remove-policy.html">Remove policy from index API
               »
            </a></span></div></body></html>