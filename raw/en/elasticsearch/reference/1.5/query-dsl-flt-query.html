<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title xmlns="">Fuzzy Like This Query
        | Elasticsearch Reference [1.5]
      | Elastic
    </title><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Elasticsearch Reference [1.5]" /><link rel="up" href="query-dsl-queries.html" title="Queries" /><link rel="prev" href="query-dsl-filtered-query.html" title="Filtered Query" /><link rel="next" href="query-dsl-flt-field-query.html" title="Fuzzy Like This Field Query" /><meta xmlns="" name="description" content="Get started with the documentation for Elasticsearch, Kibana, Logstash, Beats, X-Pack, Elastic Cloud, Elasticsearch for Apache Hadoop, and our language clients." /><meta xmlns="" name="DC.type" content="Learn/Docs/Elasticsearch/Reference/1.5" /><meta xmlns="" name="DC.subject" content="Elasticsearch" /><meta xmlns="" name="DC.identifier" content="1.5" /></head><body><div xmlns="" class="page_header">You are looking at documentation for an older release.
Not what you want? See the
<a href="../current/index.html">current release documentation</a>.
</div><div xmlns="" class="breadcrumbs"><span class="breadcrumb-link"><a href="index.html">Elasticsearch Reference
      [1.5]
    </a></span> » <span class="breadcrumb-link"><a href="query-dsl.html">Query DSL</a></span> » <span class="breadcrumb-link"><a href="query-dsl-queries.html">Queries</a></span> » <span class="breadcrumb-node">Fuzzy Like This Query</span></div><div xmlns="" class="navheader"><span class="prev"><a href="query-dsl-filtered-query.html">
              « 
              Filtered Query</a>
           
        </span><span class="next">
           
          <a href="query-dsl-flt-field-query.html">Fuzzy Like This Field Query
               »
            </a></span></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="query-dsl-flt-query"></a>Fuzzy Like This Query<a xmlns="" href="https://github.com/elastic/elasticsearch/edit/1.5/docs/reference/query-dsl/queries/flt-query.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h2></div></div></div><p>Fuzzy like this query find documents that are "like" provided text by
running it against one or more fields.</p><div xmlns="" class="pre_wrapper lang-js"><pre xmlns="http://www.w3.org/1999/xhtml" class="programlisting prettyprint lang-js">{
    "fuzzy_like_this" : {
        "fields" : ["name.first", "name.last"],
        "like_text" : "text like this one",
        "max_query_terms" : 12
    }
}</pre></div><p><code class="literal">fuzzy_like_this</code> can be shortened to <code class="literal">flt</code>.</p><p>The <code class="literal">fuzzy_like_this</code> top level parameters include:</p><div class="informaltable"><table cellpadding="4px" border="1"><colgroup><col class="col_1" /><col class="col_2" /></colgroup><thead><tr><th align="left" valign="top">Parameter</th><th align="left" valign="top">Description</th></tr></thead><tbody><tr><td align="left" valign="top"><p><code class="literal">fields</code></p></td><td align="left" valign="top"><p>A list of the fields to run the more like this query against.
Defaults to the <code class="literal">_all</code> field.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">like_text</code></p></td><td align="left" valign="top"><p>The text to find documents like it, <span class="strong strong"><strong>required</strong></span>.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">ignore_tf</code></p></td><td align="left" valign="top"><p>Should term frequency be ignored. Defaults to <code class="literal">false</code>.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">max_query_terms</code></p></td><td align="left" valign="top"><p>The maximum number of query terms that will be
included in any generated query. Defaults to <code class="literal">25</code>.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">fuzziness</code></p></td><td align="left" valign="top"><p>The minimum similarity of the term variants. Defaults
to <code class="literal">0.5</code>. See  <a class="xref" href="common-options.html#fuzziness" title="Fuzziness">Fuzziness</a>.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">prefix_length</code></p></td><td align="left" valign="top"><p>Length of required common prefix on variant terms.
Defaults to <code class="literal">0</code>.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">boost</code></p></td><td align="left" valign="top"><p>Sets the boost value of the query. Defaults to <code class="literal">1.0</code>.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">analyzer</code></p></td><td align="left" valign="top"><p>The analyzer that will be used to analyze the text.
Defaults to the analyzer associated with the field.</p></td></tr></tbody></table></div><h4><a id="_how_it_works"></a>How it Works<a xmlns="" href="https://github.com/elastic/elasticsearch/edit/1.5/docs/reference/query-dsl/queries/flt-query.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4><p>Fuzzifies ALL terms provided as strings and then picks the best n
differentiating terms. In effect this mixes the behaviour of FuzzyQuery
and MoreLikeThis but with special consideration of fuzzy scoring
factors. This generally produces good results for queries where users
may provide details in a number of fields and have no knowledge of
boolean query syntax and also want a degree of fuzzy matching and a fast
query.</p><p>For each source term the fuzzy variants are held in a BooleanQuery with
no coord factor (because we are not looking for matches on multiple
variants in any one doc). Additionally, a specialized TermQuery is used
for variants and does not use that variant term’s IDF because this would
favor rarer terms, such as misspellings. Instead, all variants use the
same IDF ranking (the one for the source query term) and this is
factored into the variant’s boost. If the source query term does not
exist in the index the average IDF of the variants is used.</p></div><div xmlns="" class="navfooter"><span class="prev"><a href="query-dsl-filtered-query.html">
              « 
              Filtered Query</a>
           
        </span><span class="next">
           
          <a href="query-dsl-flt-field-query.html">Fuzzy Like This Field Query
               »
            </a></span></div></body></html>