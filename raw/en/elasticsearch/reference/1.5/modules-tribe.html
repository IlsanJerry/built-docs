<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title xmlns="">Tribe node
        | Elasticsearch Reference [1.5]
      | Elastic
    </title><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Elasticsearch Reference [1.5]" /><link rel="up" href="modules.html" title="Modules" /><link rel="prev" href="modules-node.html" title="Node" /><link rel="next" href="modules-plugins.html" title="Plugins" /><meta xmlns="" name="description" content="Get started with the documentation for Elasticsearch, Kibana, Logstash, Beats, X-Pack, Elastic Cloud, Elasticsearch for Apache Hadoop, and our language clients." /><meta xmlns="" name="DC.type" content="Learn/Docs/Elasticsearch/Reference/1.5" /><meta xmlns="" name="DC.subject" content="Elasticsearch" /><meta xmlns="" name="DC.identifier" content="1.5" /></head><body><div xmlns="" class="page_header">You are looking at documentation for an older release.
Not what you want? See the
<a href="../current/index.html">current release documentation</a>.
</div><div xmlns="" class="breadcrumbs"><span class="breadcrumb-link"><a href="index.html">Elasticsearch Reference
      [1.5]
    </a></span> » <span class="breadcrumb-link"><a href="modules.html">Modules</a></span> » <span class="breadcrumb-node">Tribe node</span></div><div xmlns="" class="navheader"><span class="prev"><a href="modules-node.html">
              « 
              Node</a>
           
        </span><span class="next">
           
          <a href="modules-plugins.html">Plugins
               »
            </a></span></div><div class="chapter"><div class="titlepage"><div><div><h2 class="title"><a id="modules-tribe"></a>Tribe node<a xmlns="" href="https://github.com/elastic/elasticsearch/edit/1.5/docs/reference/modules/tribe.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h2></div></div></div><p>The <span class="emphasis"><em>tribes</em></span> feature allows a <span class="emphasis"><em>tribe node</em></span> to act as a federated client across
multiple clusters.</p><p>The tribe node works by retrieving the cluster state from all connected
clusters and merging them into a global cluster state. With this information
at hand, it is able to perform read and write operations against the nodes in
all clusters as if they were local.</p><p>The <code class="literal">elasticsearch.yml</code> config file for a tribe node just needs to list the
clusters that should be joined, for instance:</p><div xmlns="" class="pre_wrapper lang-yaml"><pre xmlns="http://www.w3.org/1999/xhtml" class="programlisting prettyprint lang-yaml">tribe:
    t1: <a id="CO106-1"></a><i xmlns="" class="conum" data-value="1"></i>
        cluster.name:   cluster_one
    t2: <a id="CO106-2"></a><i xmlns="" class="conum" data-value="2"></i>
        cluster.name:   cluster_two</pre></div><div class="calloutlist"><table border="0" summary="Callout list"><tr><td width="5%" valign="top" align="left"><p><a href="#CO106-1"><i xmlns="" class="conum" data-value="1"></i></a> <a href="#CO106-2"><i xmlns="" class="conum" data-value="2"></i></a> </p></td><td valign="top" align="left"><p><code class="literal">t1</code> and <code class="literal">t2</code> are arbitrary names representing the connection to each
cluster.</p></td></tr></table></div><p>The example above configures connections to two clusters, name <code class="literal">t1</code> and <code class="literal">t2</code>
respectively.  The tribe node will create a <a class="link" href="modules-node.html" title="Node">node client</a> to
connect each cluster using <a class="link" href="modules-discovery-zen.html#multicast" title="Multicast">multicast discovery</a> by default. Any
other settings for the connection can be configured under <code class="literal">tribe.{name}</code>, just
like the <code class="literal">cluster.name</code> in the example.</p><p>The merged global cluster state means that almost all operations work in the
same way as a single cluster: distributed search, suggest, percolation,
indexing, etc.</p><p>However, there are a few exceptions:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">The merged view cannot handle indices with the same name in multiple
clusters. By default it will pick one of them, see later for on_conflict options.</li><li class="listitem">Master level read operations (eg <a class="xref" href="cluster-state.html" title="Cluster State"><em>Cluster State</em></a>, <a class="xref" href="cluster-health.html" title="Cluster Health"><em>Cluster Health</em></a>)
will automatically execute with a local flag set to true since there is
no master.</li><li class="listitem">Master level write operations (eg <a class="xref" href="indices-create-index.html" title="Create Index"><em>Create Index</em></a>) are not
allowed. These should be performed on a single cluster.</li></ul></div><p>The tribe node can be configured to block all write operations and all
metadata operations with:</p><div xmlns="" class="pre_wrapper lang-yaml"><pre xmlns="http://www.w3.org/1999/xhtml" class="programlisting prettyprint lang-yaml">tribe:
    blocks:
        write:    true
        metadata: true</pre></div><p>The tribe node can also configure blocks on indices explicitly:</p><div xmlns="" class="pre_wrapper lang-yaml"><pre xmlns="http://www.w3.org/1999/xhtml" class="programlisting prettyprint lang-yaml">tribe:
    blocks:
        indices.write: hk*,ldn*</pre></div><p>When there is a conflict and multiple clusters hold the same index, by default
the tribe node will pick one of them. This can be configured using the <code class="literal">tribe.on_conflict</code>
setting. It defaults to <code class="literal">any</code>, but can be set to <code class="literal">drop</code> (drop indices that have
a conflict), or <code class="literal">prefer_[tribeName]</code> to prefer the index from a specific tribe.</p></div><div xmlns="" class="navfooter"><span class="prev"><a href="modules-node.html">
              « 
              Node</a>
           
        </span><span class="next">
           
          <a href="modules-plugins.html">Plugins
               »
            </a></span></div></body></html>