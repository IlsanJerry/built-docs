<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title xmlns="">More Like This Query
        | Reference [0.90]
      | Elastic
    </title><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Reference [0.90]" /><link rel="up" href="query-dsl-queries.html" title="Queries" /><link rel="prev" href="query-dsl-match-all-query.html" title="Match All Query" /><link rel="next" href="query-dsl-mlt-field-query.html" title="More Like This Field Query" /><meta xmlns="" name="description" content="Get started with the documentation for Elasticsearch, Kibana, Logstash, Beats, X-Pack, Elastic Cloud, Elasticsearch for Apache Hadoop, and our language clients." /><meta xmlns="" name="DC.type" content="Learn/Docs/Elasticsearch/Reference/0.90" /><meta xmlns="" name="DC.subject" content="Elasticsearch" /><meta xmlns="" name="DC.identifier" content="0.90" /></head><body><div xmlns="" class="page_header">You are looking at documentation for an older release.
Not what you want? See the
<a href="../current/index.html">current release documentation</a>.
</div><div xmlns="" class="breadcrumbs"><span class="breadcrumb-link"><a href="index.html">Reference
      [0.90]
    </a></span> » <span class="breadcrumb-link"><a href="query-dsl.html">Query DSL</a></span> » <span class="breadcrumb-link"><a href="query-dsl-queries.html">Queries</a></span> » <span class="breadcrumb-node">More Like This Query</span></div><div xmlns="" class="navheader"><span class="prev"><a href="query-dsl-match-all-query.html">
              « 
              Match All Query</a>
           
        </span><span class="next">
           
          <a href="query-dsl-mlt-field-query.html">More Like This Field Query
               »
            </a></span></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="query-dsl-mlt-query"></a>More Like This Query<a xmlns="" href="https://github.com/elastic/elasticsearch/edit/0.90/docs/reference/query-dsl/queries/mlt-query.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h2></div></div></div><p>More like this query find documents that are "like" provided text by
running it against one or more fields.</p><div xmlns="" class="pre_wrapper lang-js"><pre xmlns="http://www.w3.org/1999/xhtml" class="programlisting prettyprint lang-js">{
    "more_like_this" : {
        "fields" : ["name.first", "name.last"],
        "like_text" : "text like this one",
        "min_term_freq" : 1,
        "max_query_terms" : 12
    }
}</pre></div><p><code class="literal">more_like_this</code> can be shortened to <code class="literal">mlt</code>.</p><p>The <code class="literal">more_like_this</code> top level parameters include:</p><div class="informaltable"><table cellpadding="4px" border="1"><colgroup><col class="col_1" /><col class="col_2" /></colgroup><thead><tr><th align="left" valign="top">Parameter</th><th align="left" valign="top">Description</th></tr></thead><tbody><tr><td align="left" valign="top"><p><code class="literal">fields</code></p></td><td align="left" valign="top"><p>A list of the fields to run the more like this query against.
Defaults to the <code class="literal">_all</code> field.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">like_text</code></p></td><td align="left" valign="top"><p>The text to find documents like it, <span class="strong strong"><strong>required</strong></span>.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">percent_terms_to_match</code></p></td><td align="left" valign="top"><p>The percentage of terms to match on (float
value). Defaults to <code class="literal">0.3</code> (30 percent).</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">min_term_freq</code></p></td><td align="left" valign="top"><p>The frequency below which terms will be ignored in the
source doc. The default frequency is <code class="literal">2</code>.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">max_query_terms</code></p></td><td align="left" valign="top"><p>The maximum number of query terms that will be
included in any generated query. Defaults to <code class="literal">25</code>.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">stop_words</code></p></td><td align="left" valign="top"><p>An array of stop words. Any word in this set is
considered "uninteresting" and ignored. Even if your Analyzer allows
stopwords, you might want to tell the MoreLikeThis code to ignore them,
as for the purposes of document similarity it seems reasonable to assume
that "a stop word is never interesting".</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">min_doc_freq</code></p></td><td align="left" valign="top"><p>The frequency at which words will be ignored which do
not occur in at least this many docs. Defaults to <code class="literal">5</code>.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">max_doc_freq</code></p></td><td align="left" valign="top"><p>The maximum frequency in which words may still appear.
Words that appear in more than this many docs will be ignored. Defaults
to unbounded.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">min_word_len</code></p></td><td align="left" valign="top"><p>The minimum word length below which words will be
ignored. Defaults to <code class="literal">0</code>.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">max_word_len</code></p></td><td align="left" valign="top"><p>The maximum word length above which words will be
ignored. Defaults to unbounded (<code class="literal">0</code>).</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">boost_terms</code></p></td><td align="left" valign="top"><p>Sets the boost factor to use when boosting terms.
Defaults to <code class="literal">1</code>.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">boost</code></p></td><td align="left" valign="top"><p>Sets the boost value of the query. Defaults to <code class="literal">1.0</code>.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">analyzer</code></p></td><td align="left" valign="top"><p>The analyzer that will be used to analyze the text.
Defaults to the analyzer associated with the field.</p></td></tr></tbody></table></div></div><div xmlns="" class="navfooter"><span class="prev"><a href="query-dsl-match-all-query.html">
              « 
              Match All Query</a>
           
        </span><span class="next">
           
          <a href="query-dsl-mlt-field-query.html">More Like This Field Query
               »
            </a></span></div></body></html>