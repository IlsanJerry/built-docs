<!DOCTYPE html>
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Upgrade Elasticsearch
        | Elasticsearch Reference [6.4]
      | Elastic
    </title><link rel="home" href="index.html" title="Elasticsearch Reference [6.4]" /><link rel="up" href="index.html" title="Elasticsearch Reference [6.4]" /><link rel="prev" href="bootstrap-checks-xpack.html" title="Bootstrap Checks for X-Pack" /><link rel="next" href="rolling-upgrades.html" title="Rolling upgrades" /><meta name="DC.type" content="Learn/Docs/Elasticsearch/Reference/6.4" /><meta name="DC.subject" content="Elasticsearch" /><meta name="DC.identifier" content="6.4" /><meta name="robots" content="noindex,nofollow" /></head><body><div class="page_header">You are looking at documentation for an older release.
Not what you want? See the
<a href="../current/index.html">current release documentation</a>.
</div><div class="breadcrumbs"><span class="breadcrumb-link"><a href="index.html">Elasticsearch Reference
      [6.4]
    </a></span> » <span class="breadcrumb-node">Upgrade Elasticsearch</span></div><div class="navheader"><span class="prev"><a href="bootstrap-checks-xpack.html">
              « 
              Bootstrap Checks for X-Pack</a>
           
        </span><span class="next">
           
          <a href="rolling-upgrades.html">Rolling upgrades
               »
            </a></span></div><div class="part"><div class="titlepage"><div><div><h1 class="title"><a id="setup-upgrade"></a>Upgrade Elasticsearch<a href="https://github.com/elastic/elasticsearch/edit/6.4/docs/reference/upgrade.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h1></div></div></div><div class="partintro"><div></div><p>Elasticsearch can usually be upgraded using a <a class="link" href="rolling-upgrades.html" title="Rolling upgrades">Rolling upgrade</a>
process so upgrading does not interrupt service. However, you might
need to <a class="link" href="reindex-upgrade.html" title="Reindex before upgrading">Reindex to upgrade</a> indices created in older versions.
Upgrades across major versions prior to 6.0 require a <a class="link" href="restart-upgrade.html" title="Full cluster restart upgrade">Full cluster restart</a>.</p><p>When upgrading to a new version of Elasticsearch, you need to upgrade each
of the products in your Elastic Stack. The steps you need to take to upgrade
differ depending on which products you are using. Want a list that’s tailored
to your stack? Try out our <a class="ulink" href="/products/upgrade_guide" target="_top">Interactive Upgrade Guide</a>. For
more information about upgrading your stack, see <a class="ulink" href="/guide/en/elastic-stack/6.4" target="_top">Upgrading the
Elastic Stack</a>.</p><div class="important admon"><div class="icon"></div><div class="admon_content"><p>Before upgrading Elasticsearch:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">Review the <a class="link" href="breaking-changes.html" title="Breaking changes">breaking changes</a> for changes that
affect your application.</li><li class="listitem">Check the <a class="link" href="logging.html#deprecation-logging" title="Deprecation logging">deprecation log</a> to see if you are using
any deprecated features.</li><li class="listitem">If you use custom plugins, make sure compatible versions are available.</li><li class="listitem">Test upgrades in a dev environment before upgrading your production cluster.</li><li class="listitem"><a class="link" href="modules-snapshots.html" title="Snapshot And Restore">Back up your data</a> before upgrading.
You <span class="strong strong"><strong>cannot roll back</strong></span> to an earlier version unless you have a backup of
your data.</li></ul></div></div></div><p>The following table shows when you can perform a rolling upgrade, when you
need to reindex or delete old indices, and when a full cluster restart is
required.</p><div class="informaltable"><a id="upgrade-paths"></a><table cellpadding="4px" border="1"><colgroup><col class="col_1" /><col class="col_2" /><col class="col_3" /></colgroup><thead><tr><th align="left" valign="top">Upgrade From</th><th align="left" valign="top">Upgrade To</th><th align="left" valign="top">Supported Upgrade Type</th></tr></thead><tbody><tr><td align="left" valign="top"><p><code class="literal">5.x</code></p></td><td align="left" valign="top"><p><code class="literal">5.y</code></p></td><td align="left" valign="top"><p><a class="link" href="rolling-upgrades.html" title="Rolling upgrades">Rolling upgrade</a> (where <code class="literal">y &gt; x</code>)</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">5.6</code></p></td><td align="left" valign="top"><p><code class="literal">6.x</code></p></td><td align="left" valign="top"><p><a class="link" href="rolling-upgrades.html" title="Rolling upgrades">Rolling upgrade</a> <a href="#ftn.reindexfn" class="footnote" id="reindexfn"><sup class="footnote">[a]</sup></a></p></td></tr><tr><td align="left" valign="top"><p><code class="literal">5.0-5.5</code></p></td><td align="left" valign="top"><p><code class="literal">6.x</code></p></td><td align="left" valign="top"><p><a class="link" href="restart-upgrade.html" title="Full cluster restart upgrade">Full cluster restart</a> <a href="setup-upgrade.html#ftn.reindexfn" class="footnoteref"><sup class="footnoteref">[a]</sup></a></p></td></tr><tr><td align="left" valign="top"><p><code class="literal">&lt;5.x</code></p></td><td align="left" valign="top"><p><code class="literal">6.x</code></p></td><td align="left" valign="top"><p><a class="link" href="reindex-upgrade.html" title="Reindex before upgrading">Reindex to upgrade</a></p></td></tr><tr><td align="left" valign="top"><p><code class="literal">6.x</code></p></td><td align="left" valign="top"><p><code class="literal">6.y</code></p></td><td align="left" valign="top"><p><a class="link" href="rolling-upgrades.html" title="Rolling upgrades">Rolling upgrade</a> (where <code class="literal">y &gt; x</code>)</p></td></tr></tbody><tbody class="footnotes"><tr><td colspan="3"><div id="ftn.reindexfn" class="footnote"><p><a href="#reindexfn" class="simpara"><sup class="simpara">[a] </sup></a>You must delete or reindex any indices created in 2.x before upgrading.</p></div></td></tr></tbody></table></div><div class="important admon"><div class="icon"></div><div class="admon_content"><p>Elasticsearch can read indices created in the <span class="strong strong"><strong>previous major version</strong></span>.
Older indices must be reindexed or deleted. Elasticsearch 6.x
can use indices created in Elasticsearch 5.x, but not those created in
Elasticsearch 2.x or before. Elasticsearch 5.x can use indices created in
Elasticsearch 2.x, but not those created in 1.x or before.</p><p>This also applies to indices backed up with <a class="link" href="modules-snapshots.html" title="Snapshot And Restore">snapshot
and restore</a>. If an index was originally created in 2.x, it cannot be
restored to a 6.x cluster even if the snapshot was created by a 5.x cluster.</p><p>Elasticsearch nodes will fail to start if incompatible indices are present.</p><p>For information about how to upgrade old indices, see <a class="link" href="reindex-upgrade.html" title="Reindex before upgrading">Reindex to upgrade</a>.</p></div></div></div></div><div class="navfooter"><span class="prev"><a href="bootstrap-checks-xpack.html">
              « 
              Bootstrap Checks for X-Pack</a>
           
        </span><span class="next">
           
          <a href="rolling-upgrades.html">Rolling upgrades
               »
            </a></span></div></body></html>
