<!DOCTYPE html>
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>2.2.1 Release Notes
        | Elasticsearch Reference [2.4]
      | Elastic
    </title><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Elasticsearch Reference [2.4]" /><link rel="up" href="es-release-notes.html" title="Release Notes" /><link rel="prev" href="release-notes-2.2.2.html" title="2.2.2 Release Notes" /><link rel="next" href="release-notes-2.2.0.html" title="2.2.0 Release Notes" /><meta name="description" content="Get started with the documentation for Elasticsearch, Kibana, Logstash, Beats, X-Pack, Elastic Cloud, Elasticsearch for Apache Hadoop, and our language clients." /><meta name="DC.type" content="Learn/Docs/Elasticsearch/Reference/2.4" /><meta name="DC.subject" content="Elasticsearch" /><meta name="DC.identifier" content="2.4" /></head><body><div class="page_header">You are looking at documentation for an older release.
Not what you want? See the
<a href="../current/index.html">current release documentation</a>.
</div><div class="breadcrumbs"><span class="breadcrumb-link"><a href="index.html">Elasticsearch Reference
      [2.4]
    </a></span> » <span class="breadcrumb-link"><a href="es-release-notes.html">Release Notes</a></span> » <span class="breadcrumb-node">2.2.1 Release Notes</span></div><div class="navheader"><span class="prev"><a href="release-notes-2.2.2.html">
              « 
              2.2.2 Release Notes</a>
           
        </span><span class="next">
           
          <a href="release-notes-2.2.0.html">2.2.0 Release Notes
               »
            </a></span></div><div class="chapter"><div class="titlepage"><div><div><h2 class="title"><a id="release-notes-2.2.1"></a>2.2.1 Release Notes<a href="https://github.com/elastic/elasticsearch/edit/2.4/docs/reference/release-notes/2.2.1.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h2></div></div></div><p>Also see <a class="xref" href="breaking-changes-2.2.html" title="Breaking changes in 2.2"><em>Breaking changes in 2.2</em></a>.</p><h3><a id="enhancement-2.2.1"></a>Enhancements<a href="https://github.com/elastic/elasticsearch/edit/2.4/docs/reference/release-notes/2.2.1.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3><div class="variablelist"><dl class="variablelist"><dt><span class="term">Cluster</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">Shard state action request logging <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/16396" target="_top">#16396</a></li></ul></div></dd><dt><span class="term">Core</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">Avoid cloning MessageDigest instances <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/16479" target="_top">#16479</a></li></ul></div></dd><dt><span class="term">Exceptions</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">Add Exception class name to message in <code class="literal">NotSerializableExceptionWrapper</code> <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/16325" target="_top">#16325</a></li></ul></div></dd><dt><span class="term">Network</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">Add additional fallback to http.publish_port and restrict fallback to transport.publish_port <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/16626" target="_top">#16626</a> (issue: <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/14535" target="_top">#14535</a>)</li></ul></div></dd><dt><span class="term">Packaging</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">Windows service: Use JAVA_HOME environment variable in registry <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/16552" target="_top">#16552</a> (issue: <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/13521" target="_top">#13521</a>)</li></ul></div></dd><dt><span class="term">Scripting</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">Class permission for Groovy references <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/16660" target="_top">#16660</a> (issue: <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/16657" target="_top">#16657</a>)</li></ul></div></dd><dt><span class="term">Settings</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">Log warning if max file descriptors too low <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/16506" target="_top">#16506</a></li></ul></div></dd></dl></div><h3><a id="bug-2.2.1"></a>Bug fixes<a href="https://github.com/elastic/elasticsearch/edit/2.4/docs/reference/release-notes/2.2.1.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3><div class="variablelist"><dl class="variablelist"><dt><span class="term">Aggregations</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">Set meta data for pipeline aggregations <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/16516" target="_top">#16516</a> (issue: <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/16484" target="_top">#16484</a>)</li></ul></div></dd><dt><span class="term">Aliases</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">Fix _aliases filter and null parameters <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/16553" target="_top">#16553</a> (issues: <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/16547" target="_top">#16547</a>, <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/16549" target="_top">#16549</a>)</li></ul></div></dd><dt><span class="term">Bulk</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">Bulk api: fail deletes when routing is required but not specified <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/16675" target="_top">#16675</a> (issues: <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/10136" target="_top">#10136</a>, <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/16645" target="_top">#16645</a>)</li></ul></div></dd><dt><span class="term">Inner Hits</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">Query and top level inner hit definitions shouldn’t overwrite each other <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/16222" target="_top">#16222</a> (issue: <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/16218" target="_top">#16218</a>)</li></ul></div></dd><dt><span class="term">Logging</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">Add missing index name to indexing slow log <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/17026" target="_top">#17026</a> (issue: <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/17025" target="_top">#17025</a>)</li></ul></div></dd><dt><span class="term">Parent/Child</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">Check that parent_type in Has Parent Query has child types <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/16923" target="_top">#16923</a> (issue: <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/16692" target="_top">#16692</a>)</li><li class="listitem">Has child query forces default similarity <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/16611" target="_top">#16611</a> (issues: <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/16550" target="_top">#16550</a>, <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/4977" target="_top">#4977</a>)</li></ul></div></dd><dt><span class="term">Percolator</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">Don’t replace found fields if map unmapped fields as string is enabled <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/16043" target="_top">#16043</a> (issue: <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/10500" target="_top">#10500</a>)</li></ul></div></dd><dt><span class="term">Plugin Cloud Azure</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">Fix calling ensureOpen() on the wrong directory <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/16383" target="_top">#16383</a></li></ul></div></dd><dt><span class="term">Plugin Discovery GCE</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">Add setFactory permission to GceDiscoveryPlugin <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/16860" target="_top">#16860</a> (issue: <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/16485" target="_top">#16485</a>)</li></ul></div></dd><dt><span class="term">Query DSL</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">Use MappedFieldType.termQuery to generate simple_query_string queries <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/16686" target="_top">#16686</a> (issue: <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/16577" target="_top">#16577</a>)</li></ul></div></dd><dt><span class="term">REST</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">Remove detect_noop from REST spec <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/16386" target="_top">#16386</a></li></ul></div></dd><dt><span class="term">Scripting</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">Add permission to access sun.reflect.MethodAccessorImpl from Groovy scripts <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/16540" target="_top">#16540</a> (issue: <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/16536" target="_top">#16536</a>)</li></ul></div></dd><dt><span class="term">Snapshot/Restore</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">Add node version check to shard allocation during restore <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/16520" target="_top">#16520</a> (issue: <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/16519" target="_top">#16519</a>)</li></ul></div></dd><dt><span class="term">Stats</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">Fix recovery translog stats totals when recovering from store <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/16493" target="_top">#16493</a> (issue: <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/15974" target="_top">#15974</a>)</li></ul></div></dd><dt><span class="term">Tribe Node</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">Passthrough environment and network settings to tribe client nodes <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/16893" target="_top">#16893</a></li></ul></div></dd></dl></div><h3><a id="regression-2.2.1"></a>Regressions<a href="https://github.com/elastic/elasticsearch/edit/2.4/docs/reference/release-notes/2.2.1.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3><div class="variablelist"><dl class="variablelist"><dt><span class="term">Plugin Cloud Azure</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">Fix Unknown [repository] type [azure] error with 2.2.0 <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/16747" target="_top">#16747</a> (issues: <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/13779" target="_top">#13779</a>, <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/16734" target="_top">#16734</a>)</li></ul></div></dd></dl></div><h3><a id="upgrade-2.2.1"></a>Upgrades<a href="https://github.com/elastic/elasticsearch/edit/2.4/docs/reference/release-notes/2.2.1.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3><div class="variablelist"><dl class="variablelist"><dt><span class="term">Plugin Repository Azure</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">Upgrade Azure Storage client to 4.0.0 <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/16084" target="_top">#16084</a> (issues: <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/12567" target="_top">#12567</a>, <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/15080" target="_top">#15080</a>, <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/15976" target="_top">#15976</a>)</li></ul></div></dd></dl></div></div><div class="navfooter"><span class="prev"><a href="release-notes-2.2.2.html">
              « 
              2.2.2 Release Notes</a>
           
        </span><span class="next">
           
          <a href="release-notes-2.2.0.html">2.2.0 Release Notes
               »
            </a></span></div></body></html>
