<!DOCTYPE html>
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Indices Query
        | Elasticsearch Reference [1.7]
      | Elastic
    </title><link rel="home" href="index.html" title="Elasticsearch Reference [1.7]" /><link rel="up" href="query-dsl-queries.html" title="Queries" /><link rel="prev" href="query-dsl-ids-query.html" title="Ids Query" /><link rel="next" href="query-dsl-match-all-query.html" title="Match All Query" /><meta name="DC.type" content="Learn/Docs/Elasticsearch/Reference/1.7" /><meta name="DC.subject" content="Elasticsearch" /><meta name="DC.identifier" content="1.7" /></head><body><div class="page_header">You are looking at documentation for an older release.
Not what you want? See the
<a href="../current/index.html">current release documentation</a>.
</div><div class="breadcrumbs"><span class="breadcrumb-link"><a href="index.html">Elasticsearch Reference
      [1.7]
    </a></span> » <span class="breadcrumb-link"><a href="query-dsl.html">Query DSL</a></span> » <span class="breadcrumb-link"><a href="query-dsl-queries.html">Queries</a></span> » <span class="breadcrumb-node">Indices Query</span></div><div class="navheader"><span class="prev"><a href="query-dsl-ids-query.html">
              « 
              Ids Query</a>
           
        </span><span class="next">
           
          <a href="query-dsl-match-all-query.html">Match All Query
               »
            </a></span></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="query-dsl-indices-query"></a>Indices Query<a href="https://github.com/elastic/elasticsearch/edit/1.7/docs/reference/query-dsl/queries/indices-query.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h2></div></div></div><p>The <code class="literal">indices</code> query can be used when executed across multiple indices,
allowing to have a query that executes only when executed on an index
that matches a specific list of indices, and another query that executes
when it is executed on an index that does not match the listed indices.</p><div class="pre_wrapper lang-js"><pre class="programlisting prettyprint lang-js">{
    "indices" : {
        "indices" : ["index1", "index2"],
        "query" : {
            "term" : { "tag" : "wow" }
        },
        "no_match_query" : {
            "term" : { "tag" : "kow" }
        }
    }
}</pre></div><p>You can use the <code class="literal">index</code> field to provide a single index.</p><p><code class="literal">no_match_query</code> can also have "string" value of <code class="literal">none</code> (to match no
documents), and <code class="literal">all</code> (to match all). Defaults to <code class="literal">all</code>.</p><p><code class="literal">query</code> is mandatory, as well as <code class="literal">indices</code> (or <code class="literal">index</code>).</p><div class="tip admon"><div class="icon"></div><div class="admon_content"><p>The fields order is important: if the <code class="literal">indices</code> are provided before <code class="literal">query</code>
or <code class="literal">no_match_query</code>, the related queries get parsed only against the indices
that they are going to be executed on. This is useful to avoid parsing queries
when it is not necessary and prevent potential mapping errors.</p></div></div></div><div class="navfooter"><span class="prev"><a href="query-dsl-ids-query.html">
              « 
              Ids Query</a>
           
        </span><span class="next">
           
          <a href="query-dsl-match-all-query.html">Match All Query
               »
            </a></span></div></body></html>
