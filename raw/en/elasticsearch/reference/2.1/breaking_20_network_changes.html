<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title xmlns="">Network changes
        | Elasticsearch Reference [2.1]
      | Elastic
    </title><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Elasticsearch Reference [2.1]" /><link rel="up" href="breaking-changes-2.0.html" title="Breaking changes in 2.0" /><link rel="prev" href="breaking_20_removed_features.html" title="Removed features" /><link rel="next" href="breaking_20_multiple_literal_data_path_literal_striping.html" title="Multiple path.data striping" /><meta xmlns="" name="description" content="Get started with the documentation for Elasticsearch, Kibana, Logstash, Beats, X-Pack, Elastic Cloud, Elasticsearch for Apache Hadoop, and our language clients." /><meta xmlns="" name="DC.type" content="Learn/Docs/Elasticsearch/Reference/2.1" /><meta xmlns="" name="DC.subject" content="Elasticsearch" /><meta xmlns="" name="DC.identifier" content="2.1" /></head><body><div xmlns="" class="page_header">You are looking at documentation for an older release.
Not what you want? See the
<a href="../current/index.html">current release documentation</a>.
</div><div xmlns="" class="breadcrumbs"><span class="breadcrumb-link"><a href="index.html">Elasticsearch Reference
      [2.1]
    </a></span> » <span class="breadcrumb-link"><a href="breaking-changes.html">Breaking changes</a></span> » <span class="breadcrumb-link"><a href="breaking-changes-2.0.html">Breaking changes in 2.0</a></span> » <span class="breadcrumb-node">Network changes</span></div><div xmlns="" class="navheader"><span class="prev"><a href="breaking_20_removed_features.html">
              « 
              Removed features</a>
           
        </span><span class="next">
           
          <a href="breaking_20_multiple_literal_data_path_literal_striping.html">Multiple <code xmlns="http://www.w3.org/1999/xhtml" class="literal">path.data</code> striping
               »
            </a></span></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="breaking_20_network_changes"></a>Network changes<a xmlns="" href="https://github.com/elastic/elasticsearch/edit/2.1/docs/reference/migration/migrate_2_0/network.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h2></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_bind_to_localhost"></a>Bind to localhost<a xmlns="" href="https://github.com/elastic/elasticsearch/edit/2.1/docs/reference/migration/migrate_2_0/network.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p>Elasticsearch 2.x will only bind to localhost by default. It will try to bind
to both 127.0.0.1 (IPv4) and [::1] (IPv6), but will work happily in
environments where only IPv4 or IPv6 is available. This change prevents
Elasticsearch from trying to connect to other nodes on your network unless you
specifically tell it to do so. When moving to production you should configure
the <code class="literal">network.host</code> parameter, either in the <code class="literal">elasticsearch.yml</code> config file or
on the command line:</p><div xmlns="" class="pre_wrapper lang-sh"><pre xmlns="http://www.w3.org/1999/xhtml" class="programlisting prettyprint lang-sh">bin/elasticsearch --network.host 192.168.1.5
bin/elasticsearch --network.host _non_loopback_</pre></div><p>The full list of options that network.host accepts can be found in the <a class="xref" href="modules-network.html" title="Network Settings"><em>Network Settings</em></a>.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_multicast_removed"></a>Multicast removed<a xmlns="" href="https://github.com/elastic/elasticsearch/edit/2.1/docs/reference/migration/migrate_2_0/network.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p>Multicast has been removed (although it is still
<a class="ulink" href="https://www.elastic.co/guide/en/elasticsearch/plugins/2.1/discovery-multicast.html" target="_top">provided as a plugin</a> for now). Instead,
and only when bound to localhost, Elasticsearch will use unicast to contact
the first 5 ports in the <code class="literal">transport.tcp.port</code> range, which defaults to
<code class="literal">9300-9400</code>.</p><p>This preserves the zero-config auto-clustering experience for the developer,
but it means that you will have to provide a list of <a class="link" href="modules-discovery-zen.html#unicast" title="Unicast">unicast hosts</a>
when moving to production, for instance:</p><div xmlns="" class="pre_wrapper lang-yaml"><pre xmlns="http://www.w3.org/1999/xhtml" class="programlisting prettyprint lang-yaml">discovery.zen.ping.unicast.hosts: [ 192.168.1.2,  192.168.1.3 ]</pre></div><p>You don’t need to list all of the nodes in your cluster as unicast hosts, but
you should specify at least a quorum (majority) of master-eligible nodes. A
big cluster will typically have three dedicated master nodes, in which case we
recommend listing all three of them as unicast hosts.</p></div></div><div xmlns="" class="navfooter"><span class="prev"><a href="breaking_20_removed_features.html">
              « 
              Removed features</a>
           
        </span><span class="next">
           
          <a href="breaking_20_multiple_literal_data_path_literal_striping.html">Multiple <code xmlns="http://www.w3.org/1999/xhtml" class="literal">path.data</code> striping
               »
            </a></span></div></body></html>