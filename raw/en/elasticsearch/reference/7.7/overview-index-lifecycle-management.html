<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Index lifecycle management overview | Elasticsearch Reference [7.7] | Elastic</title>
<link rel="home" href="index.html" title="Elasticsearch Reference [7.7]"/>
<link rel="up" href="index-lifecycle-management.html" title="Manage the index lifecycle"/>
<link rel="prev" href="index-lifecycle-management.html" title="Manage the index lifecycle"/>
<link rel="next" href="getting-started-index-lifecycle-management.html" title="Get started: Automate rollover with ILM"/>
<meta name="DC.type" content="Learn/Docs/Elasticsearch/Reference/7.7"/>
<meta name="DC.subject" content="Elasticsearch"/>
<meta name="DC.identifier" content="7.7"/>
</head>
<body><div class="page_header">
You are looking at preliminary documentation for a future release.
Not what you want? See the
<a href="../current/index.html">current release documentation</a>.
</div>
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="index.html">Elasticsearch Reference [7.7]</a></span>
»
<span class="breadcrumb-link"><a href="index-lifecycle-management.html">Manage the index lifecycle</a></span>
»
<span class="breadcrumb-node">Index lifecycle management overview</span>
</div>
<div class="navheader">
<span class="prev">
<a href="index-lifecycle-management.html">« Manage the index lifecycle</a>
</span>
<span class="next">
<a href="getting-started-index-lifecycle-management.html">Get started: Automate rollover with ILM »</a>
</span>
</div>
<div class="chapter xpack">
<div class="titlepage"><div><div>
<h2 class="title"><a id="overview-index-lifecycle-management"></a>Index lifecycle management overview<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.7/docs/reference/ilm/overview-ilm.asciidoc">edit</a><a class="xpack_tag" href="/subscriptions"></a></h2>
</div></div></div>

<p>You can create and apply Index lifecycle management (ILM) policies to automatically manage your indices
according to your performance, resiliency, and retention requirements.
Index lifecycle policies can trigger actions such as:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong>Rollover</strong></span> -
Redirect an alias to begin writing to a new index when the existing index reaches a certain age, number of docs, or size.
</li>
<li class="listitem">
<span class="strong strong"><strong>Shrink</strong></span> -
Reduce the number of primary shards in an index.
</li>
<li class="listitem">
<span class="strong strong"><strong>Force merge</strong></span> -
Manually trigger a merge to reduce the number of segments in each shard of an index
and free up the space used by deleted documents.
</li>
<li class="listitem">
<span class="strong strong"><strong>Freeze</strong></span> -
Make an index read-only and minimize its memory footprint.
</li>
<li class="listitem">
<span class="strong strong"><strong>Delete</strong></span> - Permanently remove an index, including all of its data and metadata.
</li>
</ul>
</div>
<p>Typically, you associate a lifecycle policy with an index template so it is automatically applied
to new indices.
You can also apply a policy manually when you create an index.</p>
<p>ILM simplifies managing indices in hot-warm-cold architectures,
which are common when you&#8217;re working with time-series data such as logs and metrics.</p>
<p>As an index ages, it moves through four possible phases:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Hot&#8212;&#8203;the index is actively being updated and queried.
</li>
<li class="listitem">
Warm&#8212;&#8203;the index is no longer being updated, but is still being queried.
</li>
<li class="listitem">
Cold&#8212;&#8203;the index is no longer being updated and is seldom queried. The
information still needs to be searchable, but it&#8217;s okay if those queries are
slower.
</li>
<li class="listitem">
Delete&#8212;&#8203;the index is no longer needed and can safely be deleted.
</li>
</ul>
</div>
<p>A lifecycle policy controls how an index moves between phases and
what actions to perform during each phase. You can specify:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
The maximum size or age at which you want to roll over to a new index.
</li>
<li class="listitem">
The point at which the index is no longer being updated and the number of
primary shards can be reduced.
</li>
<li class="listitem">
When to force a merge to permanently delete documents marked for deletion.
</li>
<li class="listitem">
The point at which the index can be moved to less performant hardware.
</li>
<li class="listitem">
The point at which the availability is not as critical and the number of
replicas can be reduced.
</li>
<li class="listitem">
When the index can be safely deleted.
</li>
</ul>
</div>
<p>For example, if you are indexing metrics data from a fleet of ATMs into
Elasticsearch, you might define a policy that says:</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
When the index reaches 50GB, roll over to a new index.
</li>
<li class="listitem">
Move the old index into the warm stage, mark it read only, and shrink it down
to a single shard.
</li>
<li class="listitem">
After 7 days, move the index into the cold stage and move it to less expensive
hardware.
</li>
<li class="listitem">
Delete the index once the required 30 day retention period is reached.
</li>
</ol>
</div>
<div class="important admon">
<div class="icon"></div>
<div class="admon_content">
<p>To use ILM, all nodes in a cluster must run the same version.
Although it might be possible to create and apply policies in a mixed-version cluster,
there is no guarantee they will work as intended.
Attempting to use a policy that contains actions that aren&#8217;t
supported on all nodes in a cluster will cause errors.</p>
</div>
</div>
</div>
<div class="navfooter">
<span class="prev">
<a href="index-lifecycle-management.html">« Manage the index lifecycle</a>
</span>
<span class="next">
<a href="getting-started-index-lifecycle-management.html">Get started: Automate rollover with ILM »</a>
</span>
</div>
</div>
</body>
</html>
