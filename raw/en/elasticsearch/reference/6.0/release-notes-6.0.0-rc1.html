<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title xmlns="">6.0.0-rc1 Release Notes
        | Elasticsearch Reference [6.0]
      | Elastic
    </title><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Elasticsearch Reference [6.0]" /><link rel="up" href="es-release-notes.html" title="Release Notes" /><link rel="prev" href="release-notes-6.0.0-rc2.html" title="6.0.0-rc2 Release Notes" /><link rel="next" href="release-notes-6.0.0-beta2.html" title="6.0.0-beta2 Release Notes" /><meta xmlns="" name="description" content="Get started with the documentation for Elasticsearch, Kibana, Logstash, Beats, X-Pack, Elastic Cloud, Elasticsearch for Apache Hadoop, and our language clients." /><meta xmlns="" name="DC.type" content="Learn/Docs/Elasticsearch/Reference/6.0" /><meta xmlns="" name="DC.subject" content="Elasticsearch" /><meta xmlns="" name="DC.identifier" content="6.0" /></head><body><div xmlns="" class="page_header">You are looking at documentation for an older release.
Not what you want? See the
<a href="../current/index.html">current release documentation</a>.
</div><div xmlns="" class="breadcrumbs"><span class="breadcrumb-link"><a href="index.html">Elasticsearch Reference
      [6.0]
    </a></span> » <span class="breadcrumb-link"><a href="es-release-notes.html">Release Notes</a></span> » <span class="breadcrumb-node">6.0.0-rc1 Release Notes</span></div><div xmlns="" class="navheader"><span class="prev"><a href="release-notes-6.0.0-rc2.html">
              « 
              6.0.0-rc2 Release Notes</a>
           
        </span><span class="next">
           
          <a href="release-notes-6.0.0-beta2.html">6.0.0-beta2 Release Notes
               »
            </a></span></div><div class="chapter"><div class="titlepage"><div><div><h2 class="title"><a id="release-notes-6.0.0-rc1"></a>6.0.0-rc1 Release Notes<a xmlns="" href="https://github.com/elastic/elasticsearch/edit/6.0/docs/reference/release-notes/6.0.0-rc1.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h2></div></div></div><p>Also see <a class="xref" href="breaking-changes-6.0.html" title="Breaking changes in 6.0"><em>Breaking changes in 6.0</em></a>.</p><h3><a id="breaking-6.0.0-rc1"></a>Breaking changes<a xmlns="" href="https://github.com/elastic/elasticsearch/edit/6.0/docs/reference/release-notes/6.0.0-rc1.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3><div class="variablelist"><dl class="variablelist"><dt><span class="term">Packaging</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">Configure heap dump path out of the box <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/26755" target="_top">#26755</a> (issue: <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/26665" target="_top">#26665</a>)</li></ul></div></dd><dt><span class="term">Query DSL</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">Remove deprecated <code class="literal">type</code> and <code class="literal">slop</code> field in <code class="literal">match</code> query <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/26720" target="_top">#26720</a></li><li class="listitem">Remove several parse field deprecations in query builders <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/26711" target="_top">#26711</a></li><li class="listitem">Remove deprecated parameters from <code class="literal">ids_query</code> <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/26508" target="_top">#26508</a></li></ul></div></dd></dl></div><h3><a id="deprecation-6.0.0-rc1"></a>Deprecations<a xmlns="" href="https://github.com/elastic/elasticsearch/edit/6.0/docs/reference/release-notes/6.0.0-rc1.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3><div class="variablelist"><dl class="variablelist"><dt><span class="term">Plugins</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">Plugins: Add backcompat for sha1 checksums <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/26748" target="_top">#26748</a> (issue: <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/26746" target="_top">#26746</a>)</li></ul></div></dd></dl></div><h3><a id="enhancement-6.0.0-rc1"></a>Enhancements<a xmlns="" href="https://github.com/elastic/elasticsearch/edit/6.0/docs/reference/release-notes/6.0.0-rc1.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3><div class="variablelist"><dl class="variablelist"><dt><span class="term">Core</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">Allow <code class="literal">InputStreamStreamInput</code> array size validation where applicable <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/26692" target="_top">#26692</a></li><li class="listitem">Refactor bootstrap check results and error messages <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/26637" target="_top">#26637</a></li><li class="listitem">Add BootstrapContext to expose settings and recovered state to bootstrap checks <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/26628" target="_top">#26628</a></li><li class="listitem">Unit testable index creation task on MetaDataCreateIndexService <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/25961" target="_top">#25961</a></li></ul></div></dd><dt><span class="term">Discovery</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">Allow plugins to validate cluster-state on join <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/26595" target="_top">#26595</a></li></ul></div></dd><dt><span class="term">Mapping</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">More efficient encoding of range fields. <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/26470" target="_top">#26470</a> (issue: <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/26443" target="_top">#26443</a>)</li></ul></div></dd><dt><span class="term">Plugin Repository HDFS</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">Add permission checks before reading from HDFS stream <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/26716" target="_top">#26716</a> (issue: <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/26714" target="_top">#26714</a>)</li></ul></div></dd><dt><span class="term">Recovery</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">Introduce a History UUID as a requirement for ops based recovery  <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/26577" target="_top">#26577</a> (issue: <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/10708" target="_top">#10708</a>)</li></ul></div></dd><dt><span class="term">Scripting</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">ScriptService: Replace max compilation per minute setting with max compilation rate <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/26399" target="_top">#26399</a></li></ul></div></dd><dt><span class="term">Search</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">Add soft limit on allowed number of script fields in request <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/26598" target="_top">#26598</a> (issue: <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/26390" target="_top">#26390</a>)</li><li class="listitem">Add a soft limit for the number of requested doc-value fields <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/26574" target="_top">#26574</a> (issue: <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/26390" target="_top">#26390</a>)</li></ul></div></dd><dt><span class="term">Sequence IDs</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">Restoring from snapshot should force generation of a new history uuid <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/26694" target="_top">#26694</a> (issues: <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/10708" target="_top">#10708</a>, <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/26544" target="_top">#26544</a>, <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/26557" target="_top">#26557</a>, <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/26577" target="_top">#26577</a>)</li><li class="listitem">Add global checkpoint tracking on the primary <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/26666" target="_top">#26666</a> (issue: <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/26591" target="_top">#26591</a>)</li><li class="listitem">Introduce global checkpoint background sync <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/26591" target="_top">#26591</a> (issues: <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/26573" target="_top">#26573</a>, <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/26630" target="_top">#26630</a>, <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/26666" target="_top">#26666</a>)</li><li class="listitem">Move <code class="literal">UNASSIGNED_SEQ_NO</code> and <code class="literal">NO_OPS_PERFORMED</code> to SequenceNumbers` <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/26494" target="_top">#26494</a> (issue: <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/10708" target="_top">#10708</a>)</li></ul></div></dd></dl></div><h3><a id="bug-6.0.0-rc1"></a>Bug fixes<a xmlns="" href="https://github.com/elastic/elasticsearch/edit/6.0/docs/reference/release-notes/6.0.0-rc1.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3><div class="variablelist"><dl class="variablelist"><dt><span class="term">Aggregations</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">Do not delegate a null scorer to LeafBucketCollectors <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/26747" target="_top">#26747</a> (issue: <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/26611" target="_top">#26611</a>)</li></ul></div></dd><dt><span class="term">Core</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">Fix cache compute if absent for expired entries <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/26516" target="_top">#26516</a></li></ul></div></dd><dt><span class="term">Dates</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">Fix typo in date format <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/26503" target="_top">#26503</a> (issue: <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/26500" target="_top">#26500</a>)</li></ul></div></dd><dt><span class="term">Highlighting</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">Fix percolator highlight sub fetch phase to not highlight query twice <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/26622" target="_top">#26622</a></li></ul></div></dd><dt><span class="term">Inner Hits</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">Do not allow inner hits that fetch _source and have a non nested object field as parent <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/25749" target="_top">#25749</a> (issue: <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/25315" target="_top">#25315</a>)</li></ul></div></dd><dt><span class="term">Internal</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><code class="literal">IndexShard.routingEntry</code> should only be updated once all internal state is ready <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/26776" target="_top">#26776</a></li><li class="listitem">Catch exceptions and inform handler in RemoteClusterConnection#collectNodes <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/26725" target="_top">#26725</a> (issue: <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/26700" target="_top">#26700</a>)</li><li class="listitem">Internal: Add versionless alias for rest client codebase in policy files <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/26521" target="_top">#26521</a></li></ul></div></dd><dt><span class="term">Java API</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">BulkProcessor flush runnable preserves the thread context from creation time <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/26718" target="_top">#26718</a> (issue: <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/26596" target="_top">#26596</a>)</li></ul></div></dd><dt><span class="term">Java High Level REST Client</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">Make RestHighLevelClient’s Request class public <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/26627" target="_top">#26627</a> (issue: <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/26455" target="_top">#26455</a>)</li><li class="listitem">Forbid direct usage of ContentType.create() methods <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/26457" target="_top">#26457</a> (issues: <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/22769" target="_top">#22769</a>, <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/26438" target="_top">#26438</a>)</li></ul></div></dd><dt><span class="term">Java REST Client</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">Better message text for ResponseException <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/26564" target="_top">#26564</a></li></ul></div></dd><dt><span class="term">Mapping</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">Allow copying from a field to another field that belongs to the same nested object. <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/26774" target="_top">#26774</a> (issue: <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/26763" target="_top">#26763</a>)</li></ul></div></dd><dt><span class="term">Plugin Analysis Kuromoji</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">Fix kuromoji default stoptags <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/26600" target="_top">#26600</a> (issue: <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/26519" target="_top">#26519</a>)</li></ul></div></dd><dt><span class="term">Plugin Discovery File</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">Fix discovery-file plugin to use custom config path <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/26662" target="_top">#26662</a> (issue: <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/26660" target="_top">#26660</a>)</li></ul></div></dd><dt><span class="term">Plugin Repository Azure</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">Azure snapshots can not be restored anymore <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/26778" target="_top">#26778</a> (issues: <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/22858" target="_top">#22858</a>, <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/26751" target="_top">#26751</a>, <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/26777" target="_top">#26777</a>)</li><li class="listitem">Snapshot : azure module - accelerate the listing of files (used in delete snapshot) <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/25710" target="_top">#25710</a> (issue: <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/25424" target="_top">#25424</a>)</li></ul></div></dd><dt><span class="term">Plugin Repository HDFS</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">Add Log4j to SLF4J binding for repository-hdfs <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/26514" target="_top">#26514</a> (issue: <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/26512" target="_top">#26512</a>)</li></ul></div></dd><dt><span class="term">Query DSL</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">Fixed incomplete JSON body on count request making org.elasticsearch.rest.action.RestActions#parseTopLevelQueryBuilder go into endless loop <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/26680" target="_top">#26680</a> (issue: <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/26083" target="_top">#26083</a>)</li></ul></div></dd><dt><span class="term">Search</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">Fail query when a sort is provided in conjunction with rescorers <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/26510" target="_top">#26510</a></li><li class="listitem">Let search phases override max concurrent requests <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/26484" target="_top">#26484</a> (issue: <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/26198" target="_top">#26198</a>)</li></ul></div></dd><dt><span class="term">Similarities</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">Add boolean similarity to built in similarity types <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/26613" target="_top">#26613</a></li></ul></div></dd><dt><span class="term">Upgrade API</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">Upgrade API: fix excessive logging and unnecessary template updates <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/26698" target="_top">#26698</a> (issue: <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/26673" target="_top">#26673</a>)</li></ul></div></dd></dl></div><h3><a id="upgrade-6.0.0-rc1"></a>Upgrades<a xmlns="" href="https://github.com/elastic/elasticsearch/edit/6.0/docs/reference/release-notes/6.0.0-rc1.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3><div class="variablelist"><dl class="variablelist"><dt><span class="term">Core</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">Upgrade to Lucene 7.0.0 <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/26744" target="_top">#26744</a></li><li class="listitem">Upgrade to lucene-7.0.0-snapshot-d94a5f0. <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/26441" target="_top">#26441</a></li></ul></div></dd><dt><span class="term">Logging</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">Upgrade to Log4j 2.9.1 <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/26750" target="_top">#26750</a> (issues: <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/109" target="_top">#109</a>, <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/26464" target="_top">#26464</a>, <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/26467" target="_top">#26467</a>)</li><li class="listitem">Upgrade to Log4j 2.9.0 <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/26450" target="_top">#26450</a> (issue: <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/23798" target="_top">#23798</a>)</li></ul></div></dd></dl></div></div><div xmlns="" class="navfooter"><span class="prev"><a href="release-notes-6.0.0-rc2.html">
              « 
              6.0.0-rc2 Release Notes</a>
           
        </span><span class="next">
           
          <a href="release-notes-6.0.0-beta2.html">6.0.0-beta2 Release Notes
               »
            </a></span></div></body></html>