<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title xmlns="">Migration Assistance API
        | Elasticsearch Reference [6.0]
      | Elastic
    </title><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Elasticsearch Reference [6.0]" /><link rel="up" href="migration-api.html" title="Migration APIs" /><link rel="prev" href="migration-api.html" title="Migration APIs" /><link rel="next" href="migration-api-upgrade.html" title="Migration Upgrade API" /><meta xmlns="" name="description" content="Get started with the documentation for Elasticsearch, Kibana, Logstash, Beats, X-Pack, Elastic Cloud, Elasticsearch for Apache Hadoop, and our language clients." /><meta xmlns="" name="DC.type" content="Learn/Docs/Elasticsearch/Reference/6.0" /><meta xmlns="" name="DC.subject" content="Elasticsearch" /><meta xmlns="" name="DC.identifier" content="6.0" /></head><body><div xmlns="" class="page_header">You are looking at documentation for an older release.
Not what you want? See the
<a href="../current/index.html">current release documentation</a>.
</div><div xmlns="" class="breadcrumbs"><span class="breadcrumb-link"><a href="index.html">Elasticsearch Reference
      [6.0]
    </a></span> » <span class="breadcrumb-link"><a href="xpack-api.html">X-Pack APIs</a></span> » <span class="breadcrumb-link"><a href="migration-api.html">Migration APIs</a></span> » <span class="breadcrumb-node">Migration Assistance API</span></div><div xmlns="" class="navheader"><span class="prev"><a href="migration-api.html">
              « 
              Migration APIs</a>
           
        </span><span class="next">
           
          <a href="migration-api-upgrade.html">Migration Upgrade API
               »
            </a></span></div><div class="xpack section"><div class="titlepage"><div><div><h2 class="title"><a id="migration-api-assistance"></a>Migration Assistance API<a xmlns="" class="xpack_tag" href="/subscriptions"></a></h2></div></div></div><p>The Migration Assistance API analyzes existing indices in the cluster and
returns the information about indices that require some changes before the
cluster can be upgraded to the next major version.</p><h4><a id="_request_47"></a>Request</h4><p><code class="literal">GET /_xpack/migration/assistance</code></p><p><code class="literal">GET /_xpack/migration/assistance/&lt;index_name&gt;</code></p><h4><a id="_path_parameters_40"></a>Path Parameters</h4><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="literal">index_name</code></span></dt><dd>(string) Identifier for the index. It can be an index name or a wildcard
expression.</dd></dl></div><h4><a id="_examples_51"></a>Examples</h4><p>To see a list of indices that needs to be upgraded or reindexed, submit a GET
request to the <code class="literal">/_xpack/migration/assistance</code> endpoint:</p><div xmlns="" class="pre_wrapper lang-console"><pre xmlns="http://www.w3.org/1999/xhtml" class="programlisting prettyprint lang-console">GET /_xpack/migration/assistance</pre></div><div xmlns="" class="console_widget" data-snippet="snippets/1307.console"></div><p>A successful call returns a list of indices that need to updated or reindexed:</p><div xmlns="" class="pre_wrapper lang-js"><pre xmlns="http://www.w3.org/1999/xhtml" class="programlisting prettyprint lang-js">{
  "indices" : {
    ".watches" : {
      "action_required" : "upgrade"
    },
    ".security" : {
      "action_required" : "upgrade"
    },
    "my_old_index": {
      "action_required" : "reindex"
    },
    "my_other_old_index": {
      "action_required" : "reindex"
    }
  }
}</pre></div><p>To check a particular index or set of indices, specify this index name or mask
as the last part of the <code class="literal">/_xpack/migration/assistance/index_name</code> endpoint:</p><div xmlns="" class="pre_wrapper lang-console"><pre xmlns="http://www.w3.org/1999/xhtml" class="programlisting prettyprint lang-console">GET /_xpack/migration/assistance/my_*</pre></div><div xmlns="" class="console_widget" data-snippet="snippets/1308.console"></div><p>A successful call returns a list of indices that needs to updated or reindexed
and match the index specified on the endpoint:</p><div xmlns="" class="pre_wrapper lang-js"><pre xmlns="http://www.w3.org/1999/xhtml" class="programlisting prettyprint lang-js">{
  "indices" : {
    "my_old_index": {
      "action_required" : "reindex"
    },
    "my_other_old_index": {
      "action_required" : "reindex"
    }
  }
}</pre></div></div><div xmlns="" class="navfooter"><span class="prev"><a href="migration-api.html">
              « 
              Migration APIs</a>
           
        </span><span class="next">
           
          <a href="migration-api-upgrade.html">Migration Upgrade API
               »
            </a></span></div></body></html>