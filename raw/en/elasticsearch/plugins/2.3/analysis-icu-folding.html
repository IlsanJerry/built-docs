<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title xmlns="">ICU Folding Token Filter
        | Elasticsearch Plugins and Integrations [2.3]
      | Elastic
    </title><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Elasticsearch Plugins and Integrations [2.3]" /><link rel="up" href="analysis-icu.html" title="ICU Analysis Plugin" /><link rel="prev" href="analysis-icu-normalization.html" title="ICU Normalization Token Filter" /><link rel="next" href="analysis-icu-collation.html" title="ICU Collation Token Filter" /><meta xmlns="" name="description" content="Get started with the documentation for Elasticsearch, Kibana, Logstash, Beats, X-Pack, Elastic Cloud, Elasticsearch for Apache Hadoop, and our language clients." /><meta xmlns="" name="DC.type" content="Learn/Docs/Elasticsearch/Plugins/2.3" /><meta xmlns="" name="DC.subject" content="Elasticsearch" /><meta xmlns="" name="DC.identifier" content="2.3" /></head><body><div xmlns="" class="page_header">You are looking at documentation for an older release.
Not what you want? See the
<a href="../current/index.html">current release documentation</a>.
</div><div xmlns="" class="breadcrumbs"><span class="breadcrumb-link"><a href="index.html">Elasticsearch Plugins and Integrations
      [2.3]
    </a></span> » <span class="breadcrumb-link"><a href="analysis.html">Analysis Plugins</a></span> » <span class="breadcrumb-link"><a href="analysis-icu.html">ICU Analysis Plugin</a></span> » <span class="breadcrumb-node">ICU Folding Token Filter</span></div><div xmlns="" class="navheader"><span class="prev"><a href="analysis-icu-normalization.html">
              « 
              ICU Normalization Token Filter</a>
           
        </span><span class="next">
           
          <a href="analysis-icu-collation.html">ICU Collation Token Filter
               »
            </a></span></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="analysis-icu-folding"></a>ICU Folding Token Filter<a xmlns="" href="https://github.com/elastic/elasticsearch/edit/2.3/docs/plugins/analysis-icu.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p>Case folding of Unicode characters based on <code class="literal">UTR#30</code>, like the
<a class="ulink" href="https://www.elastic.co/guide/en/elasticsearch/reference/2.3/analysis-asciifolding-tokenfilter.html" target="_top">ASCII-folding token filter</a>
on steroids. It registers itself as the <code class="literal">icu_folding</code> token filter and is
available to all indices:</p><div xmlns="" class="pre_wrapper lang-sense"><pre xmlns="http://www.w3.org/1999/xhtml" class="programlisting prettyprint lang-sense">PUT icu_sample
{
  "settings": {
    "index": {
      "analysis": {
        "analyzer": {
          "folded": {
            "tokenizer": "icu_tokenizer",
            "filter": [
              "icu_folding"
            ]
          }
        }
      }
    }
  }
}</pre></div><div xmlns="" class="sense_widget" data-snippet="snippets/6.sense"></div><p>The ICU folding token filter already does Unicode normalization, so there is
no need to use Normalize character or token filter as well.</p><p>Which letters are folded can be controlled by specifying the
<code class="literal">unicodeSetFilter</code> parameter, which accepts a
<a class="ulink" href="http://icu-project.org/apiref/icu4j/com/ibm/icu/text/UnicodeSet.html" target="_top">UnicodeSet</a>.</p><p>The following example exempts Swedish characters from folding. It is important
to note that both upper and lowercase forms should be specified, and that
these filtered character are not lowercased which is why we add the
<code class="literal">lowercase</code> filter as well:</p><div xmlns="" class="pre_wrapper lang-sense"><pre xmlns="http://www.w3.org/1999/xhtml" class="programlisting prettyprint lang-sense">PUT icu_sample
{
  "settings": {
    "index": {
      "analysis": {
        "analyzer": {
          "swedish_analyzer": {
            "tokenizer": "icu_tokenizer",
            "filter": [
              "swedish_folding",
              "lowercase"
            ]
          }
        },
        "filter": {
          "swedish_folding": {
            "type": "icu_folding",
            "unicodeSetFilter": "[^åäöÅÄÖ]"
          }
        }
      }
    }
  }
}</pre></div><div xmlns="" class="sense_widget" data-snippet="snippets/7.sense"></div></div><div xmlns="" class="navfooter"><span class="prev"><a href="analysis-icu-normalization.html">
              « 
              ICU Normalization Token Filter</a>
           
        </span><span class="next">
           
          <a href="analysis-icu-collation.html">ICU Collation Token Filter
               »
            </a></span></div></body></html>