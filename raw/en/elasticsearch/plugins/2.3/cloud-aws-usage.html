<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title xmlns="">Getting started with AWS
        | Elasticsearch Plugins and Integrations [2.3]
      | Elastic
    </title><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Elasticsearch Plugins and Integrations [2.3]" /><link rel="up" href="cloud-aws.html" title="AWS Cloud Plugin" /><link rel="prev" href="cloud-aws.html" title="AWS Cloud Plugin" /><link rel="next" href="cloud-aws-discovery.html" title="EC2 Discovery" /><meta xmlns="" name="description" content="Get started with the documentation for Elasticsearch, Kibana, Logstash, Beats, X-Pack, Elastic Cloud, Elasticsearch for Apache Hadoop, and our language clients." /><meta xmlns="" name="DC.type" content="Learn/Docs/Elasticsearch/Plugins/2.3" /><meta xmlns="" name="DC.subject" content="Elasticsearch" /><meta xmlns="" name="DC.identifier" content="2.3" /></head><body><div xmlns="" class="page_header">You are looking at documentation for an older release.
Not what you want? See the
<a href="../current/index.html">current release documentation</a>.
</div><div xmlns="" class="breadcrumbs"><span class="breadcrumb-link"><a href="index.html">Elasticsearch Plugins and Integrations
      [2.3]
    </a></span> » <span class="breadcrumb-link"><a href="discovery.html">Discovery Plugins</a></span> » <span class="breadcrumb-link"><a href="cloud-aws.html">AWS Cloud Plugin</a></span> » <span class="breadcrumb-node">Getting started with AWS</span></div><div xmlns="" class="navheader"><span class="prev"><a href="cloud-aws.html">
              « 
              AWS Cloud Plugin</a>
           
        </span><span class="next">
           
          <a href="cloud-aws-discovery.html">EC2 Discovery
               »
            </a></span></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="cloud-aws-usage"></a>Getting started with AWS<a xmlns="" href="https://github.com/elastic/elasticsearch/edit/2.3/docs/plugins/cloud-aws.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p>The plugin will default to using
<a class="ulink" href="http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/iam-roles-for-amazon-ec2.html" target="_top">IAM Role</a>
credentials for authentication. These can be overridden by, in increasing
order of precedence, system properties <code class="literal">aws.accessKeyId</code> and <code class="literal">aws.secretKey</code>,
environment variables <code class="literal">AWS_ACCESS_KEY_ID</code> and <code class="literal">AWS_SECRET_KEY</code>, or the
elasticsearch config using <code class="literal">cloud.aws.access_key</code> and <code class="literal">cloud.aws.secret_key</code>:</p><div xmlns="" class="pre_wrapper lang-yaml"><pre xmlns="http://www.w3.org/1999/xhtml" class="programlisting prettyprint lang-yaml">cloud:
    aws:
        access_key: AKVAIQBF2RECL7FJWGJQ
        secret_key: vExyMThREXeRMm/b/LRzEB8jWwvzQeXgjqMX+6br</pre></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="cloud-aws-usage-security"></a>Transport security<a xmlns="" href="https://github.com/elastic/elasticsearch/edit/2.3/docs/plugins/cloud-aws.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4></div></div></div><p>By default this plugin uses HTTPS for all API calls to AWS endpoints. If you wish to configure HTTP you can set
<code class="literal">cloud.aws.protocol</code> in the elasticsearch config. You can optionally override this setting per individual service
via: <code class="literal">cloud.aws.ec2.protocol</code> or <code class="literal">cloud.aws.s3.protocol</code>.</p><div xmlns="" class="pre_wrapper lang-yaml"><pre xmlns="http://www.w3.org/1999/xhtml" class="programlisting prettyprint lang-yaml">cloud:
    aws:
        protocol: https
        s3:
            protocol: http
        ec2:
            protocol: https</pre></div><p>In addition, a proxy can be configured with the <code class="literal">proxy.host</code>, <code class="literal">proxy.port</code>, <code class="literal">proxy.username</code> and <code class="literal">proxy.password</code> settings
(note that protocol can be <code class="literal">http</code> or <code class="literal">https</code>):</p><div xmlns="" class="pre_wrapper lang-yaml"><pre xmlns="http://www.w3.org/1999/xhtml" class="programlisting prettyprint lang-yaml">cloud:
    aws:
        protocol: https
        proxy:
            host: proxy1.company.com
            port: 8083
            username: myself
            password: theBestPasswordEver!</pre></div><p>You can also set different proxies for <code class="literal">ec2</code> and <code class="literal">s3</code>:</p><div xmlns="" class="pre_wrapper lang-yaml"><pre xmlns="http://www.w3.org/1999/xhtml" class="programlisting prettyprint lang-yaml">cloud:
    aws:
        s3:
            proxy:
                host: proxy1.company.com
                port: 8083
                username: myself1
                password: theBestPasswordEver1!
        ec2:
            proxy:
                host: proxy2.company.com
                port: 8083
                username: myself2
                password: theBestPasswordEver2!</pre></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="cloud-aws-usage-region"></a>Region<a xmlns="" href="https://github.com/elastic/elasticsearch/edit/2.3/docs/plugins/cloud-aws.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4></div></div></div><p>The <code class="literal">cloud.aws.region</code> can be set to a region and will automatically use the relevant settings for both <code class="literal">ec2</code> and <code class="literal">s3</code>.
The available values are:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><code class="literal">us-east</code> (<code class="literal">us-east-1</code>)</li><li class="listitem"><code class="literal">us-west</code> (<code class="literal">us-west-1</code>)</li><li class="listitem"><code class="literal">us-west-1</code></li><li class="listitem"><code class="literal">us-west-2</code></li><li class="listitem"><code class="literal">ap-southeast</code> (<code class="literal">ap-southeast-1</code>)</li><li class="listitem"><code class="literal">ap-southeast-1</code></li><li class="listitem"><code class="literal">ap-southeast-2</code></li><li class="listitem"><code class="literal">ap-northeast</code> (<code class="literal">ap-northeast-1</code>)</li><li class="listitem"><code class="literal">ap-northeast-2</code> (<code class="literal">ap-northeast-2</code>)</li><li class="listitem"><code class="literal">eu-west</code> (<code class="literal">eu-west-1</code>)</li><li class="listitem"><code class="literal">eu-central</code> (<code class="literal">eu-central-1</code>)</li><li class="listitem"><code class="literal">sa-east</code> (<code class="literal">sa-east-1</code>)</li><li class="listitem"><code class="literal">cn-north</code> (<code class="literal">cn-north-1</code>)</li></ul></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="cloud-aws-usage-signer"></a>EC2/S3 Signer API<a xmlns="" href="https://github.com/elastic/elasticsearch/edit/2.3/docs/plugins/cloud-aws.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4></div></div></div><p>If you are using a compatible EC2 or S3 service, they might be using an older API to sign the requests.
You can set your compatible signer API using <code class="literal">cloud.aws.signer</code> (or <code class="literal">cloud.aws.ec2.signer</code> and <code class="literal">cloud.aws.s3.signer</code>)
with the right signer to use.</p><p>If you are using a compatible S3 service which do not support Version 4 signing process, you may need to use
<code class="literal">S3SignerType</code> for <code class="literal">cloud.aws.s3.signer</code>, which is Signature Version 2.</p></div></div><div xmlns="" class="navfooter"><span class="prev"><a href="cloud-aws.html">
              « 
              AWS Cloud Plugin</a>
           
        </span><span class="next">
           
          <a href="cloud-aws-discovery.html">EC2 Discovery
               »
            </a></span></div></body></html>