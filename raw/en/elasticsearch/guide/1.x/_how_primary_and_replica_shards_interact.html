<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title xmlns="">How Primary and Replica Shards Interact
        | Elasticsearch: The Definitive Guide [1.x]
      | Elastic
    </title><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Elasticsearch: The Definitive Guide [1.x]" /><link rel="up" href="distributed-docs.html" title="Distributed Document Store" /><link rel="prev" href="routing-value.html" title="Routing a Document to a Shard" /><link rel="next" href="distrib-write.html" title="Creating, Indexing, and Deleting a Document" /><meta xmlns="" name="description" content="Get started with the documentation for Elasticsearch, Kibana, Logstash, Beats, X-Pack, Elastic Cloud, Elasticsearch for Apache Hadoop, and our language clients." /><meta xmlns="" name="DC.type" content="Learn/Docs/Legacy/Elasticsearch/Definitive Guide/1.x" /><meta xmlns="" name="DC.subject" content="Elasticsearch" /><meta xmlns="" name="DC.identifier" content="1.x" /><meta xmlns="" name="robots" content="noindex,nofollow" /></head><body><div xmlns="" class="page_header">This information applies to version 1.x of Elasticsearch. For the
most up to date information, see the current version of the
<a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/index.html">
Elasticsearch Reference</a>.
</div><div xmlns="" class="breadcrumbs"><span class="breadcrumb-link"><a href="index.html">Elasticsearch: The Definitive Guide
      [1.x]
    </a></span> » <span class="breadcrumb-link"><a href="getting-started.html">Getting Started</a></span> » <span class="breadcrumb-link"><a href="distributed-docs.html">Distributed Document Store</a></span> » <span class="breadcrumb-node">How Primary and Replica Shards Interact</span></div><div xmlns="" class="navheader"><span class="prev"><a href="routing-value.html">
              « 
              Routing a Document to a Shard</a>
           
        </span><span class="next">
           
          <a href="distrib-write.html">Creating, Indexing, and Deleting a Document
               »
            </a></span></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="_how_primary_and_replica_shards_interact"></a>How Primary and Replica Shards Interact<a xmlns="" href="https://github.com/elastic/elasticsearch-definitive-guide/edit/1.x/040_Distributed_CRUD/10_Shard_interaction.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h2></div></div></div><p>For explanation purposes, let’s<a id="id-1.4.6.6.2.1" class="indexterm"></a>
<a id="id-1.4.6.6.2.2" class="indexterm"></a><a id="id-1.4.6.6.2.3" class="indexterm"></a>
<a id="id-1.4.6.6.2.4" class="indexterm"></a><a id="id-1.4.6.6.2.5" class="indexterm"></a>
<a id="id-1.4.6.6.2.6" class="indexterm"></a> imagine that we have a cluster
consisting of three nodes. It contains one index called <code class="literal">blogs</code> that has
two primary shards. Each primary shard has two replicas. Copies of
the same shard are never allocated to the same node, so our cluster
looks something like <a class="xref" href="_how_primary_and_replica_shards_interact.html#img-distrib" title="Figure 8. A cluster with three nodes and one index">Figure 8, “A cluster with three nodes and one index”</a>.</p><div class="figure"><a id="img-distrib"></a><p class="title"><strong>Figure 8. A cluster with three nodes and one index</strong></p><div class="figure-contents"><div class="mediaobject"><img src="images/elas_0401.png" alt="A cluster with three nodes and one index" /></div></div></div><p>We can send our requests to any node in the cluster.<a id="id-1.4.6.6.4.1" class="indexterm"></a>
<a id="id-1.4.6.6.4.2" class="indexterm"></a> Every node is fully
capable of serving any request.  Every node knows the location of every
document in the cluster and so can forward requests directly to the required
node. In the following examples, we will send all of our requests to <code class="literal">Node 1</code>,
which we will refer to as  the <span class="emphasis"><em>coordinating node</em></span>.</p><div xmlns="" class="tip admon"><div class="icon"><img alt="Tip" src="images/icons/tip.png" /></div><div class="admon_content"><p xmlns="http://www.w3.org/1999/xhtml">When sending requests, it is good practice to round-robin through all the
nodes in the cluster, in order to spread the load.</p></div></div></div><div xmlns="" class="navfooter"><span class="prev"><a href="routing-value.html">
              « 
              Routing a Document to a Shard</a>
           
        </span><span class="next">
           
          <a href="distrib-write.html">Creating, Indexing, and Deleting a Document
               »
            </a></span></div></body></html>