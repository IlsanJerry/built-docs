<!DOCTYPE html>
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Full-Text Search
        | Elasticsearch: The Definitive Guide [master]
      | Elastic
    </title><link rel="home" href="index.html" title="Elasticsearch: The Definitive Guide [master]" /><link rel="up" href="intro.html" title="You Know, for Search…" /><link rel="prev" href="_more_complicated_searches.html" title="More-Complicated Searches" /><link rel="next" href="_phrase_search.html" title="Phrase Search" /><meta name="DC.type" content="Learn/Docs/Legacy/Elasticsearch/Definitive Guide/master" /><meta name="DC.subject" content="Elasticsearch" /><meta name="DC.identifier" content="master" /><meta name="robots" content="noindex,nofollow" /></head><body><div class="page_header">This information may not apply to the latest version of Elasticsearch.
For the most up to date information, see the current version of the
<a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/index.html">
Elasticsearch Reference</a>.
</div><div class="breadcrumbs"><span class="breadcrumb-link"><a href="index.html">Elasticsearch: The Definitive Guide
      [master]
    </a></span> » <span class="breadcrumb-link"><a href="getting-started.html">Getting Started</a></span> » <span class="breadcrumb-link"><a href="intro.html">You Know, for Search…</a></span> » <span class="breadcrumb-node">Full-Text Search</span></div><div class="navheader"><span class="prev"><a href="_more_complicated_searches.html">
              « 
              More-Complicated Searches</a>
           
        </span><span class="next">
           
          <a href="_phrase_search.html">Phrase Search
               »
            </a></span></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="_full_text_search"></a>Full-Text Search<a href="https://github.com/elastic/elasticsearch-definitive-guide/edit/master/010_Intro/30_Tutorial_Search.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h2></div></div></div><p>The searches so far have been simple:  single names, filtered by age. Let’s
try a more advanced, full-text search—a <a id="id-1.4.3.22.2.1" class="indexterm"></a>task that traditional databases
would really struggle with.</p><p>We are going to search for all employees who enjoy rock climbing:</p><div class="pre_wrapper lang-js"><pre class="programlisting prettyprint lang-js">GET /megacorp/employee/_search
{
    "query" : {
        "match" : {
            "about" : "rock climbing"
        }
    }
}</pre></div><div class="sense_widget" data-snippet="snippets/010_Intro/30_Query_DSL.json"></div><p>You can see that we use the same <code class="literal">match</code> query as before to search the <code class="literal">about</code>
field for “rock climbing”. We get back two matching documents:</p><div class="pre_wrapper lang-js"><pre class="programlisting prettyprint lang-js">{
   ...
   "hits": {
      "total":      2,
      "max_score":  0.16273327,
      "hits": [
         {
            ...
            "_score":         0.16273327, <a id="CO5-1"></a><i class="conum" data-value="1"></i>
            "_source": {
               "first_name":  "John",
               "last_name":   "Smith",
               "age":         25,
               "about":       "I love to go rock climbing",
               "interests": [ "sports", "music" ]
            }
         },
         {
            ...
            "_score":         0.016878016, <a id="CO5-2"></a><i class="conum" data-value="2"></i>
            "_source": {
               "first_name":  "Jane",
               "last_name":   "Smith",
               "age":         32,
               "about":       "I like to collect rock albums",
               "interests": [ "music" ]
            }
         }
      ]
   }
}</pre></div><div class="calloutlist"><table border="0" summary="Callout list"><tr><td width="5%" valign="top" align="left"><p><a href="#CO5-1"><i class="conum" data-value="1"></i></a> <a href="#CO5-2"><i class="conum" data-value="2"></i></a> </p></td><td valign="top" align="left"><p>
The relevance scores
</p></td></tr></table></div><p>By default, Elasticsearch sorts<a id="id-1.4.3.22.9.1" class="indexterm"></a> matching results by their relevance score,
that is, by how well each document matches the query.  The first and highest-scoring result is obvious: John Smith’s <code class="literal">about</code> field clearly says “rock
climbing” in it.</p><p>But why did Jane Smith come back as a result?  The reason her document was
returned is because the word “rock” was mentioned in her <code class="literal">about</code> field.
Because only “rock” was mentioned, and not “climbing,” her <code class="literal">_score</code> is
lower than John’s.</p><p>This is a good example of how Elasticsearch can search <span class="emphasis"><em>within</em></span> full-text
fields and return the most relevant results first. This <a id="id-1.4.3.22.11.2" class="indexterm"></a>
<a id="id-1.4.3.22.11.3" class="indexterm"></a>concept of <span class="emphasis"><em>relevance</em></span>
is important to Elasticsearch, and is a concept that is completely foreign to
traditional relational databases, in which a record either matches or it doesn’t.</p></div><div class="navfooter"><span class="prev"><a href="_more_complicated_searches.html">
              « 
              More-Complicated Searches</a>
           
        </span><span class="next">
           
          <a href="_phrase_search.html">Phrase Search
               »
            </a></span></div></body></html>
