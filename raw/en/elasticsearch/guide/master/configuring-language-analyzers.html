<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title xmlns="">Configuring Language Analyzers
        | Elasticsearch: The Definitive Guide [master]
      | Elastic
    </title><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Elasticsearch: The Definitive Guide [master]" /><link rel="up" href="language-intro.html" title="Getting Started with Languages" /><link rel="prev" href="using-language-analyzers.html" title="Using Language Analyzers" /><link rel="next" href="language-pitfalls.html" title="Pitfalls of Mixing Languages" /><meta xmlns="" name="description" content="Get started with the documentation for Elasticsearch, Kibana, Logstash, Beats, X-Pack, Elastic Cloud, Elasticsearch for Apache Hadoop, and our language clients." /><meta xmlns="" name="DC.type" content="Learn/Docs/Legacy/Elasticsearch/Definitive Guide/master" /><meta xmlns="" name="DC.subject" content="Elasticsearch" /><meta xmlns="" name="DC.identifier" content="master" /><meta xmlns="" name="robots" content="noindex,nofollow" /></head><body><div xmlns="" class="page_header">This information may not apply to the latest version of Elasticsearch.
For the most up to date information, see the current version of the
<a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/index.html">
Elasticsearch Reference</a>.
</div><div xmlns="" class="breadcrumbs"><span class="breadcrumb-link"><a href="index.html">Elasticsearch: The Definitive Guide
      [master]
    </a></span> » <span class="breadcrumb-link"><a href="languages.html">Dealing with Human Language</a></span> » <span class="breadcrumb-link"><a href="language-intro.html">Getting Started with Languages</a></span> » <span class="breadcrumb-node">Configuring Language Analyzers</span></div><div xmlns="" class="navheader"><span class="prev"><a href="using-language-analyzers.html">
              « 
              Using Language Analyzers</a>
           
        </span><span class="next">
           
          <a href="language-pitfalls.html">Pitfalls of Mixing Languages
               »
            </a></span></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="configuring-language-analyzers"></a>Configuring Language Analyzers<a xmlns="" href="https://github.com/elastic/elasticsearch-definitive-guide/edit/master/200_Language_intro/20_Configuring.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h2></div></div></div><p>While the language analyzers can be used out of the box without any
configuration, most of them do allow you to control aspects of their
behavior, specifically:</p><div class="variablelist"><a id="stem-exclusion"></a><dl class="variablelist"><dt><span class="term">
Stem-word exclusion
</span></dt><dd>Imagine, for instance, that users searching for the “World Health
Organization” are instead getting results for “organ health.” The reason
for this confusion is that both “organ” and “organization” are stemmed to
the same root word: <code class="literal">organ</code>. Often this isn’t a problem, but in this
particular collection of documents, this leads to confusing results. We would
like to prevent the words <code class="literal">organization</code> and <code class="literal">organizations</code> from being
stemmed.</dd><dt><span class="term">
Custom stopwords
</span></dt><dd><p class="simpara">
The default list of stopwords used in English are as follows:
</p><pre class="literallayout">a, an, and, are, as, at, be, but, by, for, if, in, into, is, it,
no, not, of, on, or, such, that, the, their, then, there, these,
they, this, to, was, will, with</pre><p class="simpara">The unusual thing about <code class="literal">no</code> and <code class="literal">not</code> is that they invert the meaning of the
words that follow them. Perhaps we decide that these two words are important
and that we shouldn’t treat them as stopwords.</p></dd></dl></div><p>To customize the behavior of the <code class="literal">english</code> analyzer, we need to
create a custom analyzer that uses the <code class="literal">english</code> analyzer as its base but
adds some configuration:</p><div xmlns="" class="pre_wrapper lang-js"><pre xmlns="http://www.w3.org/1999/xhtml" class="programlisting prettyprint lang-js">PUT /my_index
{
  "settings": {
    "analysis": {
      "analyzer": {
        "my_english": {
          "type": "english",
          "stem_exclusion": [ "organization", "organizations" ], <a id="CO128-1"></a><i xmlns="" class="conum" data-value="1"></i>
          "stopwords": [ <a id="CO128-2"></a><i xmlns="" class="conum" data-value="2"></i>
            "a", "an", "and", "are", "as", "at", "be", "but", "by", "for",
            "if", "in", "into", "is", "it", "of", "on", "or", "such", "that",
            "the", "their", "then", "there", "these", "they", "this", "to",
            "was", "will", "with"
          ]
        }
      }
    }
  }
}

GET /my_index/_analyze
{
  "analyzer": "my_english", <a id="CO128-3"></a><i xmlns="" class="conum" data-value="3"></i>
  "text": "The World Health Organization does not sell organs."
}</pre></div><div xmlns="" class="console_widget" data-snippet=":CONSOLE:"></div><div class="calloutlist"><table border="0" summary="Callout list"><tr><td width="5%" valign="top" align="left"><p><a href="#CO128-1"><i xmlns="" class="conum" data-value="1"></i></a> </p></td><td valign="top" align="left"><p>
Prevents <code class="literal">organization</code> and <code class="literal">organizations</code> from being stemmed
</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO128-2"><i xmlns="" class="conum" data-value="2"></i></a> </p></td><td valign="top" align="left"><p>
Specifies a custom list of stopwords
</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO128-3"><i xmlns="" class="conum" data-value="3"></i></a> </p></td><td valign="top" align="left"><p>
Emits tokens <code class="literal">world</code>, <code class="literal">health</code>, <code class="literal">organization</code>, <code class="literal">doe</code>, <code class="literal">not</code>, <code class="literal">sell</code>, <code class="literal">organ</code>
</p></td></tr></table></div><p>We discuss stemming and stopwords in much more detail in <a class="xref" href="stemming.html" title="Reducing Words to Their Root Form"><em>Reducing Words to Their Root Form</em></a> and
<a class="xref" href="stopwords.html" title="Stopwords: Performance Versus Precision"><em>Stopwords: Performance Versus Precision</em></a>, respectively.</p></div><div xmlns="" class="navfooter"><span class="prev"><a href="using-language-analyzers.html">
              « 
              Using Language Analyzers</a>
           
        </span><span class="next">
           
          <a href="language-pitfalls.html">Pitfalls of Mixing Languages
               »
            </a></span></div></body></html>