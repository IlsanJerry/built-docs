<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Use project monitors | Observability Guide [8.5] | Elastic</title>
<link rel="home" href="index.html" title="Observability Guide [8.5]"/>
<link rel="up" href="uptime-set-up.html" title="Use lightweight monitors"/>
<link rel="prev" href="uptime-set-up-choose-agent.html" title="Use the Uptime app"/>
<link rel="next" href="synthetics-journeys.html" title="Use browser monitors"/>
<meta name="DC.type" content="Learn/Docs/Observability/Guide/8.5"/>
<meta name="DC.subject" content="Observability"/>
<meta name="DC.identifier" content="8.5"/>
</head>
<body>
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span><span class="chevron-right">›</span>
<span class="breadcrumb-link"><a href="index.html">Observability Guide [8.5]</a></span><span class="chevron-right">›</span>
<span class="breadcrumb-link"><a href="monitor-uptime-synthetics.html">Uptime and synthetic monitoring</a></span><span class="chevron-right">›</span>
<span class="breadcrumb-link"><a href="uptime-set-up.html">Use lightweight monitors</a></span>
</div>
<div class="navheader">
<span class="prev">
<a href="uptime-set-up-choose-agent.html">« Use the Uptime app</a>
</span>
<span class="next">
<a href="synthetics-journeys.html">Use browser monitors »</a>
</span>
</div>
<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="uptime-set-up-choose-project-monitors"></a>Use project monitors<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/8.5/docs/en/observability/uptime-set-up-choose-project-monitors.asciidoc">edit</a></h3>
</div></div></div>
<div class="warning admon">
<div class="icon"></div>
<div class="admon_content">
<p>This functionality is in beta and is subject to change. The design and code is less mature than official GA features and is being provided as-is with no warranties. Beta features are not subject to the support SLA of official GA features.</p>
</div>
</div>
<p>To create lightweight monitors using project monitors,
you&#8217;ll configure monitors in an external Node.js project and
use the <code class="literal">@elastic/synthetics</code> library’s <code class="literal">push</code> command to create monitors in Kibana.</p>
<p><span class="image"><img src="images/uptime-set-up-project-monitors.png" alt="uptime set up project monitors"></span></p>
<p>This is one of <a class="xref" href="uptime-set-up.html" title="Use lightweight monitors">three approaches</a> you can use to set up a lightweight monitor.</p>
<h5><a id="uptime-set-up-prereq-project-monitors"></a>Prerequisites<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/8.5/docs/en/observability/uptime-set-up-choose-project-monitors.asciidoc">edit</a></h5>
<p>To try this beta functionality, first you need to enable Monitor Management in Kibana:</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
Go to <span class="strong strong"><strong>Observability</strong></span> &#8594; <span class="strong strong"><strong>Uptime</strong></span>.
</li>
<li class="listitem">
Click <span class="strong strong"><strong>Monitor Management</strong></span>.
</li>
<li class="listitem">
Review the terms and conditions and click <span class="strong strong"><strong>Enable</strong></span> to start using Monitor Management.
</li>
</ol>
</div>
<div class="important admon">
<div class="icon"></div>
<div class="admon_content">
<p>To enable Monitor Management, you must be logged into Kibana as a user with
the following privileges:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<a href="/guide/en/elasticsearch/reference/8.5/security-privileges.html#privileges-list-cluster" class="ulink" target="_top">Cluster privileges</a>: <code class="literal">monitor</code>, <code class="literal">read_ilm</code>, <code class="literal">read_pipeline</code>, and at least one of <code class="literal">manage_own_api_key</code>, <code class="literal">manage_security</code>, or <code class="literal">manage_api_key</code>
</li>
<li class="listitem">
<a href="/guide/en/elasticsearch/reference/8.5/security-privileges.html#privileges-list-indices" class="ulink" target="_top">Indices privileges</a> for <code class="literal">synthetics-*</code>: <code class="literal">view_index_metadata</code>, <code class="literal">create_doc</code>, <code class="literal">auto_configure</code>
</li>
</ul>
</div>
</div>
</div>
<p>You should also decide where you want to run the monitors before getting started:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong>Elastic&#8217;s global managed testing infrastructure</strong></span>:
With Elastic&#8217;s global managed testing infrastructure, you can create and run monitors in multiple
locations without having to manage your own infrastructure.
Elastic takes care of software updates and capacity planning for you.
</li>
<li class="listitem">
<span class="strong strong"><strong>Private locations</strong></span>: Private locations allow you to run monitors from your own premises.
To use private locations will must create a private location before continuing.
For step-by-step instructions, refer to <a class="xref" href="synthetics-private-location.html" title="Add a private location">Add a private location</a>.
</li>
</ul>
</div>
<h5><a id="uptime-set-up-project-monitors-add"></a>Add monitors<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/8.5/docs/en/observability/uptime-set-up-choose-project-monitors.asciidoc">edit</a></h5>
<p>To use a YAML file and the Elastic Synthetics library to add a
lightweight monitor:</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
You&#8217;ll need a project using <code class="literal">@elastic/synthetics</code>. You can use an existing project where you manage browser monitors, or you can create a new project using <code class="literal">elastic-synthetics init</code>.
</li>
<li class="listitem">
Add one or more <code class="literal">.yml</code> files to the project.
</li>
<li class="listitem">
Configure monitors in the <code class="literal">.yml</code> files. For example:
</li>
</ol>
</div>
<div class="pre_wrapper lang-yml">
<pre class="programlisting prettyprint lang-yml">heartbeat.monitors:
- type: http
  id: elastic-http
  name: Elastic HTTP check
  urls: ["https://elastic.co"]
  schedule: "@every 60s"
  tags: ["org:elastic"]
- type: tcp
  id: elastic-tcp
  name: Elastic TCP check
  hosts: ["elastic.co"]
  schedule: "@every 60s"
  tags: ["org:elastic"]</pre>
</div>
<div class="important admon">
<div class="icon"></div>
<div class="admon_content">
<p><span class="strong strong"><strong>This functionality is still in beta and not all Heartbeat configuration options are supported.</strong></span> If you attempt to push a project monitor with a configuration option that is not supported, the push will fail with an error.</p>
</div>
</div>
<p>After setting configuration options, use the <code class="literal">push</code> command to create monitors and start collecting data.
To create monitors, run:</p>
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">npx @elastic/synthetics push --auth &lt;api-key&gt; --url &lt;kibana-url&gt; --project &lt;id|name&gt;</pre>
</div>
<p>To generate an API key:</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
Go to <span class="strong strong"><strong>Monitor Management</strong></span> in the Uptime app.
</li>
<li class="listitem">
Click <span class="strong strong"><strong>API Keys</strong></span>.
</li>
<li class="listitem">
Click <span class="strong strong"><strong>Generate API key</strong></span>.
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/synthetics-monitor-management-api-key.png" alt="API Keys tooltip on the Uptime app&#8217;s Monitor Management page">
</div>
</div>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>If you are pushing to a <a class="xref" href="synthetics-private-location.html" title="Add a private location">private location</a>, you must use an API key generated in 8.4 or higher.</p>
</div>
</div>
<p>For more details on using the <code class="literal">push</code> command, see <a class="xref" href="synthetics-command-reference.html#elastic-synthetics-push-command" title="elastic-synthetics push"><code class="literal">elastic-synthetics push</code></a>.</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>If you&#8217;ve <a class="xref" href="synthetics-private-location.html" title="Add a private location">added a private location</a>,
you can <code class="literal">push</code> to that private location.</p>
<p>To list available private locations,
run the <a class="xref" href="synthetics-command-reference.html#elastic-synthetics-locations-command" title="elastic-synthetics locations"><code class="literal">elastic-synthetics locations</code> command</a>
with the Kibana URL for the deployment from which to fetch available locations.</p>
</div>
</div>
<h5><a id="uptime-app-view-in-kibana-project"></a>View in Kibana<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/8.5/docs/en/observability/uptime-set-up-choose-project-monitors.asciidoc">edit</a></h5>
<p>Navigate to the Uptime app in Kibana, where you can see screenshots of each run,
set up alerts in case of test failures, and more.</p>
<p>If a test does fail (shown as <code class="literal">down</code> in the Uptime app), you&#8217;ll be able to view the step script that failed,
any errors, and a stack trace.
See <a class="xref" href="synthetics-visualize.html" title="Visualize synthetic monitoring">Visualize</a> for more information.</p>
</div>
<div class="navfooter">
<span class="prev">
<a href="uptime-set-up-choose-agent.html">« Use the Uptime app</a>
</span>
<span class="next">
<a href="synthetics-journeys.html">Use browser monitors »</a>
</span>
</div>
</div>
</body>
</html>
